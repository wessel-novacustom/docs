{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"About Dasharo","text":"<p>Dasharo is an open-source firmware distribution crafted with an emphasis on trustworthiness, privacy, and liberty. Our mission is to empower users with a firmware they can trust. We believe in open development, firmware resilience, platform security transparency, right to repair and digital sovereignty. Here's what makes Dasharo the go-to choice for secure firmware:</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Seamless Deployment: Start your journey with Dasharo effortlessly. Learn   how   \u2192</li> <li>Clean &amp; Simple Code: Our code is readable and maintainable, designed with   developers in mind. Explore our GitHub \u2192</li> <li>Long-term Maintenance: We are committed to supporting Dasharo for years   to come. Read about our vision   \u2192</li> <li>Professional Support: Our team of experts is here to help you at every   step. Get support \u2192</li> <li>Transparent Validation: We believe in a transparent process with no black   boxes. See our validation process   \u2192</li> <li>Superior Documentation: Detailed documentation to help you understand   every facet of Dasharo. Visit our docs \u2192</li> <li>Privacy-Respecting Implementation: We prioritize your privacy, ensuring   your data remains yours. Learn more \u2192</li> <li>Liberty for Owners: Dasharo gives you complete control over your   firmware. Discover the freedom \u2192</li> </ul> <p> Learn More | Visit Dasharo's Homepage </p> <p>Dasharo is a registered trademark and product developed by 3mdeb.</p>"},{"location":"#compatible-hardware","title":"\ud83d\udda5\ufe0f Compatible Hardware","text":"<p>Find the perfect hardware match for Dasharo in our comprehensive Supported Hardware Section.</p>"},{"location":"#commercial-inquiries","title":"\ud83d\udcbc Commercial Inquiries","text":"<p>Looking to integrate Dasharo into your business? Reach out to us for commercial inquiries and collaborations.</p>"},{"location":"#community","title":"\ud83c\udf0d Community","text":"<p>Become a part of the vibrant Dasharo community:</p> <ul> <li>Chat with Us: Join the conversation in the Dasharo Matrix   Workspace.</li> <li>Stay Updated: Don't miss our quarterly Dasharo   Events featuring:<ul> <li>Dasharo User Group (DUG): A forum for Dasharo users to connect, share   experiences, and stay informed.</li> <li>Dasharo Developers vPub: A relaxed virtual meetup for developers and   enthusiasts to discuss, share, and connect.</li> </ul> </li> </ul> <p>Find us on other social platforms using the icons at the bottom right.</p>"},{"location":"#events-calendar","title":"\ud83d\udcc5 Events Calendar","text":"<p>Stay tuned for our upcoming events:</p> <ul> <li>September 28, 2023: Dasharo User Group #3 and Dasharo Developers vPub   0x8</li> <li>October 6-8, 2023: Qubes OS Summit   2023</li> </ul> <p>View full calendar \u2192</p>"},{"location":"#resources","title":"\ud83d\udcda Resources","text":"<p>Dive deeper with our rich library of resources:</p> <ul> <li>Guides</li> <li>Knowledge Base</li> </ul>"},{"location":"#blog","title":"\ud83d\udcf0 Blog","text":"<p>Catch up on the latest in the Dasharo world:</p> <ul> <li>Dasharo Compatible with MSI PRO Z690-A Release v1.1.2</li> <li>Dasharo compatible with MSI PRO Z690-A release v1.1.1</li> <li>ASUS KGPE-D16 Dasharo testing update</li> <li>KGPE-D16 open-source firmware status</li> <li>Dasharo for Dell OptiPlex 7010 / 9010Tips for Dasharo Deployment</li> </ul> <p>Visit our blog \u2192</p>"},{"location":"#quick-links","title":"\ud83d\udd0d Quick Links","text":"<ul> <li>FAQ</li> <li>Contact Us</li> <li>Newsletter Subscription</li> </ul> <p>Connect with us on Twitter, LinkedIn, GitHub, and more.</p>"},{"location":"glossary/","title":"Glossary","text":"<p>After years of providing services and products on firmware market we recognize that it is poisoned by incorrect and confusing terminology. In following glossary we would like to explain most used terms from Dasharo Documentation. We try to refer to standards, literature and community best practices to keep content added by us minimalistic.</p>"},{"location":"glossary/#embedded-firmware","title":"Embedded Firmware","text":"<p>We use definition explained in first chapter of \"Embedded Firmware Solutions\" book by Jiming Sun, Marc Jones, Stefan Reinauer and Vincent Zimmer.</p> <p>Firmware is \"layer of software between the hardware and the operating system (OS), with the main purpose to initialize and abstract enough hardware so that the operating systems and their drivers can further configure the hardware to its full functionality.\"</p> <p>Rising complexity of hardware initialization and need for its manageability created need for BMC (Board Management Controllers), EC (Environmental Controllers) and even more specialized one like USB Power Delivery firmware. What may make that firmware also covered by above definition.</p>"},{"location":"glossary/#dasharo-hardware-compatibility-list-report","title":"Dasharo Hardware Compatibility List Report","text":"<p>Dasharo HCL Report dumps most important information about platform and backup SPI NOR flash. Gathered information can be used for future analysis, debugging and recovery. Optionally scripts upload dump to Dasharo HCL Backup Server, so Dasharo Team can improve open source firmware product line and support customers in case of issues.</p> <p>As temporary solution we use 3mdeb NextCloud as Dasharo HCL Backup Server.</p> <p>Dasharo HCL Reports are also used during open source firmware port feasibilty analysis, so if you are interested in Dasharo support for your hardware, feel free to reach us.</p> <p>Please note Dasharo HCL Report may contain sensitive information like serial numbers. Please do not make this information public. Dasharo Team respect your privacy.</p>"},{"location":"glossary/#dasharo-blobs-transmission","title":"Dasharo Blobs Transmission","text":"<p>Unfortunately, some hardware platforms cannot be fully functional without binary blobs in the firmware. Some binary blobs have no EULA or any other license discussing redistributability. To avoid issues, Dasharo Blobs Transmission scripts extract blobs from SPI NOR flash backup and patch Dasharo open-source firmware distribution before initial deployment.</p>"},{"location":"glossary/#dasharo-openness-score","title":"Dasharo Openness Score","text":"<p>Dasharo Openness Score is an utility, which parses the firmware images to calculate the amount of bytes produced from open-source code. It is able to parse both Dasharo/coreboot images and proprietary UEFI images. That said, it can be used to compare how open the Dasharo images are versus the proprietary versions.</p> <p>Dasharo Openness Score may also refer to the report produced by the Dasharo Openness Score utility. Such reports are being published in the platform directories in this repository. If you are interested in Dasharo Openness Score for you boards, please reach us. Example Dasharo Openness Score report can be found here</p>"},{"location":"newcomers/","title":"Newcomers","text":"<p>If you are new to Dasharo, this section is to help you get started using Dasharo firmware and possibly contributing to making it better.</p>"},{"location":"newcomers/#coreboot","title":"coreboot","text":"<p>If you have no prior experience with coreboot, it's highly recommended to visit OpenSecurityTraining2 and finish these courses:</p> <ul> <li>Arch4031,</li> <li>Arch4021</li> </ul> <p>OpenSecurityTraining2 provides other great courses related to firmware, which are all freely available here.</p>"},{"location":"newcomers/#docker","title":"Docker","text":"<p>coreboot needs a specific toolchain to be built, hence why it is usually built inside of a Docker. In case of Dasharo, all images are built using Docker, so you will make sure it works properly on your system.</p> <p>Follow these two links:</p> <ul> <li>Install Docker Engine on Ubuntu</li> <li>Post-installation steps for Linux</li> </ul> <p>Once you have Docker set up on your machine, you can pull docker images from coreboot/coreboot-sdk (keep in mind that some platforms require older docker images).</p> <p>To pull a Docker image, use:</p> <pre><code>docker pull coreboot/coreboot-sdk:&lt;tag&gt;\n</code></pre> <p>The typical procedure to build a coreboot image is as follows:</p> <pre><code>git clone https://github.com/Dasharo/coreboot.git\n</code></pre> <pre><code>cd coreboot\n</code></pre> <pre><code>git checkout &lt;platform&gt;/release\n</code></pre> <pre><code>docker run -u $UID --rm -it \\\n-v $PWD:/home/coreboot/coreboot\n-w /home/coreboot/coreboot coreboot/coreboot-sdk:&lt;tag&gt;\\\nbash\n</code></pre> <pre><code>cp configs/config.&lt;platform&gt; .config\n</code></pre> <pre><code>make olddefconfig\n</code></pre> <pre><code>make\n</code></pre>"},{"location":"newcomers/#dasharo-contribution","title":"Dasharo Contribution","text":"<p>All code review and all issues related to Dasharo are resolved on GitHub. An account there is necessary to contribute and report issues. All Dasharo repositories can be found here.</p> <p>When you have an account on GitHub go ahead and configure an SSH key. It's also highly recommended to configure a GPG key before contributing anything. Instructions to do that can be found here. With that your account should be ready to contribute to Dasharo.</p> <p>Since Dasharo is based on coreboot and edk2, it's best to contribute directly in the upstream if possible. Refer to these documents:</p> <ul> <li>contributing to coreboot</li> <li>contributing to edk2</li> </ul> <p>If for some reason you can't contribute your change in upstream repositories, then consider contributing directly to Dasharo. Before doing anything it's best to get familiar with source code structure. To create a patch:</p> <ol> <li>fork the repository    which you want to edit,</li> <li>in the forked repository: <code>git checkout &lt;platform&gt;/develop</code> (make sure to    start from the correct branch),</li> <li>create a new branch: <code>git checkout -b &lt;platform&gt;/&lt;feature&gt;</code>,</li> <li>commit your changes:<ul> <li>make sure to sign your commits by using   <code>git commit -sm \"&lt;commit_message&gt;\"</code>,</li> <li><code>&lt;commit_message&gt;</code> should be: <code>path/to/file: Change description</code>,</li> <li>one commit should be one logical change,</li> </ul> </li> <li>create a pull request from a fork.</li> </ol> <p>Do not forget to check whether patch has been reviewed and changes to your contribution (PR) are needed. If so, remember about answering to each addressed thread with information about change in the commit</p> <ul> <li>template: <code>Fixed: &lt;link to commit&gt;</code></li> <li>example: Fixed 0a2a4ee</li> </ul>"},{"location":"newcomers/#dasharo-matrix-space","title":"Dasharo Matrix Space","text":"<p>Matrix is a communicator used at Dasharo. If you want quick answers it's best to join our matrix space and talk to us there.</p> <p>Dasharo Matrix Space</p> <p>If you've never used Matrix before, you will first need to get a client. Available clients are listed here.</p>"},{"location":"ways-you-can-help-us/","title":"Ways you can help us","text":"<p>Please consider the following methods to support us if you value what we are doing.</p>"},{"location":"ways-you-can-help-us/#join-dasharo-matrix-community","title":"Join Dasharo Matrix Community","text":"<p>We have created Matrix Dasharo Space, an open-source online community, inviting you to join us. Matrix Dasharo Space is a place where you can find solutions to many problems, and if not - our community will gladly help you. We encourage you to troubleshoot your open-source firmware issues there.</p> <p>Here is invitation link.</p> <p>Inside you will find multiple rooms. The main discussion happens in \"Dasharo - General\".</p>"},{"location":"ways-you-can-help-us/#join-dasharo-open-source-firmware-vpub","title":"Join Dasharo open-source firmware vPub","text":"<p>We encourage you to join us at our vPub parties, which we hold 3-4x / year in \"Dasharo OSF vPub.\" vPub is an alternative to live meeting for those who can't or don't want to meet live. It also served as salvation in times of COVID-19. Our goal is to have a platform for open-source firmware, open-source hardware, and open instruction set architectures discussion in a casual atmosphere.</p> <p>For more information please visit event website.</p>"},{"location":"ways-you-can-help-us/#write-a-google-review","title":"Write a Google review","text":"<p>Google reviews help us attract new customers that can sponsor open-source development and provide value to the community. Please follow Google review link.</p>"},{"location":"ways-you-can-help-us/#follow-us-on-social-media","title":"Follow us on social media","text":"<ul> <li>Follow us on Twitter: Dasharo,   3mdeb</li> <li>Follow us on Mastodon: Dasharo,   3mdeb</li> <li>Follow us on LinkedIn: 3mdeb</li> <li>Like us on Facebook: 3mdeb</li> <li>Join Reddit communities: Dasharo,   3mdeb</li> </ul>"},{"location":"ways-you-can-help-us/#contribute-through-github","title":"Contribute through Github","text":"<p>If you have a GitHub account, you can help us in multiple ways:</p> <ul> <li>Follow out organizations: Dasharo,   3mdeb</li> <li>Give a star to repositories you like</li> <li>If you want to contribute, refer to dasharo contribution</li> <li>Report issues, your test results, and feature ideas in   dasharo-issues</li> </ul>"},{"location":"ways-you-can-help-us/#donate-money","title":"Donate money","text":"<p>A donation of any amount motivates us because it means you care about our open-source firmware mission. It is straightforward if you don't have time for other contributions, and there are multiple options - feel free to choose one that works for you.</p>"},{"location":"ways-you-can-help-us/#become-a-dasharo-entry-subscription-subscriber","title":"Become a Dasharo Entry Subscription subscriber","text":"<p>Buy the Dasharo Entry Subscription for Desktop if you own/use/buy a machine running Dasharo firmware:</p> <ul> <li>1-year subscription for Desktop</li> <li>2-year subscription for Desktop</li> <li>3-year subscription for Desktop</li> </ul> <p>Link to all available subscriptions</p> <p>Or buy the hardware including the Dasharo Entry Subscription from us, e.g.:</p> <ul> <li>MSI PRO Z690-A DDR4 motherboard with Dasharo Entry Subscription</li> <li>MSI PRO Z690-A DDR4 with Dasharo Entry Subscription \u2013 Full PC Build</li> <li>or other platforms</li> </ul> <p>As a Dasharo Entry Subscription subscriber you will get:</p> <ul> <li>The latest Dasharo Entry Subscription Releases issued by Dasharo Team</li> <li>Special Dasharo Updates for Dasharo Entry Subscription subscribers \u2013   Community receives one update per year, but Dasharo Entry Subscription   subscribers are not limited to it. Number of updates depends on the number   of Dasharo Entry Subscriptions sold and the availability of other funding   (e.g., NLNet, corporate sponsors, community donations).</li> <li>Dasharo Primer Support through invite-only Matrix channel where we often   gather Dasharo Entry Subscription subscribers' opinion and share exciting   news about Dasharo direction</li> <li>Insider's view and influence on Dasharo features roadmap \u2013 you can have a   real impact on Dasharo development</li> </ul> <p>If you are interested in other market segments than Desktop, please get in touch with us with the specific hardware model you have in mind</p>"},{"location":"ways-you-can-help-us/#paypal","title":"PayPal","text":"<p> <p></p>"},{"location":"ways-you-can-help-us/#transferwise-aka-wise","title":"Transferwise (aka Wise)","text":""},{"location":"ways-you-can-help-us/#donations-in-usd","title":"Donations in USD","text":"<pre><code>TransferWise (ACH/ABA: 026073150)\nIBAN 8311535451\nSWIFT: CMFGUS33\n</code></pre>"},{"location":"ways-you-can-help-us/#donations-in-eur","title":"Donations in EUR","text":"<pre><code>TransferWise Europe SA\nIBAN: BE11 9672 7712 7548\nSWIFT: TRWIBEB1XXX\n</code></pre>"},{"location":"ways-you-can-help-us/#bank-wire","title":"Bank wire","text":""},{"location":"ways-you-can-help-us/#donations-in-usd_1","title":"Donations in USD","text":"<pre><code>3mdeb Sp. z o.o\nIBAN: PL 87 1160 2202 0000 0005 1576 2206\nSWIFT: BIGBPLPW\n</code></pre>"},{"location":"ways-you-can-help-us/#donations-in-eur_1","title":"Donations in EUR","text":"<pre><code>3mdeb Sp. z o.o\nIBAN: PL 94 1160 2202 0000 0005 1576 1304\nSWIFT: BIGBPLPW\n</code></pre>"},{"location":"ways-you-can-help-us/#btc-and-other-crypto-coins","title":"BTC and other crypto coins","text":"<p>Our company does not currently support payment in cryptocurrencies.</p> <p>While we understand that cryptocurrencies have gained popularity and recognition in recent years, we have chosen to retain our focus on conventional payment channels.</p> <p>Firstly, we prioritize financial compliance and adhere to EU regulations. Managing cryptocurrencies would require extensive knowledge and resources to ensure compliance, which we are not equipped to handle at our current stage of development. Moreover, the uncertain and evolving nature of cryptocurrency regulations introduces significant risks and potential vulnerabilities. These factors could potentially lead to fiscal audits that could hamper the operations of 3mdeb and impede the progress of Dasharo development.</p> <p>We believe that by adhering to established payment methods, we can ensure a consistent and reliable payment process for our customers. This allows us to maintain a high level of security, accountability, and regulatory compliance.</p>"},{"location":"ways-you-can-help-us/#technology-commons-trust","title":"Technology Commons Trust","text":"<p>If you are concerned about the privacy of your donation as well as the fact how we would spend the money, then please consider Technology Commons Trust Open Firmware Fund.</p> <p>Addresses:</p> <ul> <li>Bitcoin: 1GUm6FF7Fon6Umrt5CSi3AxxYg8dM2NKvV</li> <li>Monero: 89eBqUwoCpnPoUKD367kJm3Gsw639EUSdG3xwUyQmDroKHWHPyhYmJ63uP41ArHfPsBihNFTYjASpRUGaeSyp3JS9BmtjpQ</li> <li>PKT: pkt1qyv4gmnvvg2vfyj89e63thzj68jf2y9k7ssee7v</li> </ul> <p>If you want to contribute to other cryptocurrencies, please visit OFF website for details about contact information. We are pretty sure the Technology Commons Trust team will find the way.</p>"},{"location":"ways-you-can-help-us/#open-collective","title":"Open Collective","text":"<p>You can donate by using 3mdeb's Open Collective page - a legal and financial tech platform that enables over 300 groups to raise and spend over $13 million dollars a year in full transparency.</p>"},{"location":"ways-you-can-help-us/#purchasing-merchandise","title":"Purchasing merchandise","text":"<p>We're excited to offer a range of Dasharo merchandise products to help support our open-source firmware distribution project. By purchasing items such as t-shirts and mugs, you can support Dasharo and help us continue developing and improving the firmware.</p> <p>Our online shop makes browsing and ordering merchandise easy, and we offer fast shipping to get your items to you quickly. Whether you're looking for a new t-shirt to wear to events or a mug for your morning coffee, we have various products. Head over to our shop and browse our selection of Dasharo merchandise!</p>"},{"location":"ways-you-can-help-us/#cant-see-your-option","title":"Can't see your option?","text":"<p>Contact us <code>contact@dasharo.com</code></p>"},{"location":"ways-you-can-help-us/#for-oemodm-join-the-private-beta-program","title":"For OEM/ODM: Join the private-beta program","text":"<p>We created Dasharo private beta program for OEM/ODM to improve quality and the efficiency of platform firmware development and deployment.</p> <p>Program benefits:</p> <ul> <li>Early access to the Dasharo roadmap reflects the most recent market trends and   covers future hardware support and features.</li> <li>Early access to information about firmware development funding campaigns.</li> <li>Early access to source code and release binaries.</li> <li>Dasharo Tools Suite for seamless integration of value-added features.</li> <li>Dasharo Marketing Package helps explain the value that Dasharo brings to the   product.</li> <li>Professional support at all stages of the product life cycle.</li> <li>Vertical market integration support.</li> </ul> <p>How to join? Please send us an email to <code>contact@dasharo.com</code>.</p>"},{"location":"common-coreboot-docs/checkbox/","title":"Checkbox certification software usage (Ubuntu 22.04)","text":""},{"location":"common-coreboot-docs/checkbox/#introduction","title":"Introduction","text":"<p>Checkbox is a flexible test automation software. It\u2019s the main tool used in Ubuntu Certification program. This document describes the usage of Checkbox on Ubuntu 22.04, but it can work on older versions of Ubuntu as well.</p>"},{"location":"common-coreboot-docs/checkbox/#prerequisites","title":"Prerequisites","text":"<p>To run the maximum number of tests, it is advised to connect as many peripheral devices as possible. Before running the checkbox, connect peripherals to available connectors, such as:</p> <p>External:</p> <ul> <li>card reader</li> <li>USB ports</li> <li>display ports</li> <li>Ethernet ports</li> <li>headphone and microphone jacks</li> <li>Thunderbolt ports</li> <li>power supply and battery</li> <li>PCMCIA or ExpressCard slot</li> </ul> <p>Internal:</p> <ul> <li>DIMM/RAM slots</li> <li>SATA ports</li> <li>PCI/PCIe slots</li> <li>M.2 slots</li> <li>TPM header</li> <li>other slots</li> </ul>"},{"location":"common-coreboot-docs/checkbox/#set-up-the-testing-environment","title":"Set up the testing environment","text":"<p>For the tests that don't require any interference after their startup, perform the following steps:</p> <ol> <li> <p>To stop the screen from being locked on suspend, open the terminal and     run the following command:</p> <pre><code>gsettings set org.gnome.desktop.lockdown disable-lock-screen 'true'\n</code></pre> </li> <li> <p>To execute all <code>sudo</code> commands without a password, open the terminal and     run the following command for a user:</p> <pre><code>echo \"user ALL=(ALL:ALL) NOPASSWD: ALL\" | sudo tee /etc/sudoers.d/user\n</code></pre> </li> <li> <p>To set up automatic login so that a password is not required during testing     reboot, power off etc.:</p> <ul> <li>Press the <code>SUPER_KEY</code>, type in <code>Users</code> and click Enter. A window with     options to change should appear.</li> <li>Click the user name you want to enable automatic login for.</li> <li>On the top right side of the window, click <code>Unlock</code>...` button.</li> <li>You will be asked to enter your user password to continue.</li> <li>You should now be able to toggle the <code>Automatic Login</code> button to enable     it.</li> <li>Restart your system for changes to take effect.</li> </ul> </li> </ol> <p></p>"},{"location":"common-coreboot-docs/checkbox/#download-and-install-checkbox","title":"Download and install Checkbox","text":"<ol> <li> <p>Disable Secure Boot. To do this you can follow the steps described in    Secure Boot test.</p> <p>Disable Secure boot is required to properly download packages.</p> </li> <li> <p>Open the terminal and type in the below commands to install Checkbox and all     its dependencies:</p> <pre><code>sudo add-apt-repository ppa:hardware-certification/public\nsudo apt-get update\nsudo apt-get install checkbox-ng plainbox-provider-resource-generic \\\nplainbox-provider-certification-client plainbox-provider-checkbox \\\ncanonical-certification-client\n</code></pre> </li> </ol>"},{"location":"common-coreboot-docs/checkbox/#run-automatic-validation","title":"Run automatic validation","text":"<ol> <li> <p>Start checkbox. To do this, open the terminal and run the following command:</p> <pre><code>sudo checkbox-cli\n</code></pre> <p>After using the above-mentioned command, the following menu should appear:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    (X) (Deprecated) Fully Automatic Client Certification Tests               \u2502\n\u2502    ( ) After suspend Dock Cert blocker tests                                 \u2502\n\u2502    ( ) After suspend Dock Cert tests                                         \u2502\n\u2502    ( ) After suspend Dock Hot-plug Cert tests                                \u2502\n\u2502    ( ) After suspend Dock Hot-plug tests                                     \u2502\n\u2502    ( ) After suspend LED and oops tests (using special sleep key)            \u2502\n\u2502    ( ) After suspend LED and oops tests (using special sleep key, cert.      \u2502\n\u2502        blockers only)                                                        \u2502\n\u2502    ( ) After suspend automated USB 3 write/read/compare tests on storage     \u2502\n\u2502        devices                                                               \u2502\n\u2502    ( ) After suspend automated USB write/read/compare tests on storage       \u2502\n\u2502        devices                                                               \u2502\n\u2502    ( ) After suspend reference tests                                         \u2502\n\u2502    ( ) After suspend reference tests (automated)                             \u2502\n\u2502    ( ) After suspend reference tests (certification blockers only)           \u2502\n\u2502    ( ) After suspend tests (discrete GPU automated)                          \u2502\n\u2502    ( ) After suspend tests (discrete GPU manual)                             \u2502\n\u2502    ( ) After suspend tests (discrete GPU)                                    \u2502\n\u2502    ( ) After suspend tests (discrete GPU, certification blockers only)       |\n.\n        .\n        . etc.\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> </li> <li> <p>Select test suites (<code>SPACE</code> - select, <code>ARROWS</code> - navigation, <code>Enter</code> - go to the next test suite), which you want to run. Marking the first option starts the full automated check. After selecting the first option, all modules should be displayed and you can manually uncheck some modules, which you don't want to test.</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502[X] + Audio tests                                                             \u2502\n\u2502[X] + Benchmarks tests                                                        \u2502\n\u2502[X] + Bluetooth tests                                                         \u2502\n\u2502[X] + CPU tests                                                               \u2502\n\u2502[X] + Camera tests                                                            \u2502\n\u2502[X] + Disk tests                                                              \u2502\n\u2502[X] + Ethernet Device tests                                                   \u2502\n\u2502[X] + Firmware tests                                                          \u2502\n\u2502[X] + Graphics tests                                                          \u2502\n\u2502[X] + Informational tests                                                     \u2502\n\u2502[X] + Input Devices tests                                                     \u2502\n\u2502[X] + Memory tests                                                            \u2502\n\u2502[X] + Miscellaneous tests                                                     \u2502\n\u2502[X] + Mobile broadband tests                                                  \u2502\n\u2502[X] + Non-device specific networking tests                                    \u2502\n\u2502[X] + Optical Drive tests                                                     \u2502\n\u2502[X] + Power Management tests                                                  \u2502\n\u2502[X] + Suspend tests                                                           \u2502\n\u2502[X] + TPM 2.0 (Trusted Platform Module)                                       \u2502\n\u2502[X] + Touchpad tests                                                          \u2502\n        .\n        .\n        . etc.\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> </li> <li> <p>Press <code>T</code> to start the testing procedure.</p> </li> <li> <p>You might be asked about the hardware in your machine. Just tick it     truthfully and press <code>T</code> again.</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Does this machine have this piece of hardware?                                \u2502\n\u2502    An Ethernet Port                              (X) YES  ( ) NO             \u2502\n\u2502    Camera/Capture Device                         (X) YES  ( ) NO             \u2502\n\u2502    USB Storage Device Connected                  (X) YES  ( ) NO             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> </li> <li> <p>When testing ends, a menu with test results should appear. Press <code>R</code> to rerun test cases, or <code>F</code> to finish.</p> </li> <li> <p>After all, paths to the test results should be displayed in the terminal. By default, they are placed in <code>/home/user/.local/share/checkbox-ng</code>.</p> </li> </ol>"},{"location":"common-coreboot-docs/checkbox/#additional-options","title":"Additional options","text":"<ol> <li> <p><code>run</code> lets you run a particular test plan or a set of jobs, but it does save any results. Example of running one test plan:</p> <pre><code>sudo checkbox-cli run com.canonical.certification::smoke\n</code></pre> </li> <li> <p><code>launcher</code> command lets you customize the checkbox experience. To use it,     you need to create <code>config_file.ini</code> and start running the checkbox like     below:</p> <pre><code>checkbox-cli launcher config_file.ini\n</code></pre> </li> </ol> <p>For more details about these (and others) commands visit checkbox-cli.</p>"},{"location":"common-coreboot-docs/checkbox/#troubleshooting","title":"Troubleshooting","text":"<p>When somehow the checkbox stop working you can resume the previous session. To do this, open the terminal and run the following command:</p> <pre><code>sudo checkbox-cli\n</code></pre> <p>If at least one incomplete session is present on the machine, you should see:</p> <pre><code> Do you want to resume session 'session_title-2022-07-06T13.09.22'?\n  r =&gt; resume this session\n  n =&gt; next session\n  c =&gt; create new session\n  d =&gt; delete old sessions\n[rncd]:\n</code></pre> <p>Type in <code>r</code> to resume the stopped session. You can also create a new session or delete an old session by typing the appropriate letter.</p> <pre><code>What do you want to do with that job?\n  s =&gt; skip that job\n  p =&gt; mark it as passed and continue\nf =&gt; mark it as failed and continue\nr =&gt; run it\n[spfr]:\n</code></pre> <p>Decide what you want to do with the last test and type the appropriate letter. After this, your checkbox session will be resumed.</p>"},{"location":"common-coreboot-docs/dumping_logs/","title":"Dumping logs","text":"<p>When facing an issue on a unique hardware configuration on the end user side it may prove useful to submit system logs to Dasharo team for diagnosis and possibly problem solution. This section describes how to dump various logs from a running system.</p>"},{"location":"common-coreboot-docs/dumping_logs/#system-information","title":"System information","text":"<p>One may use Dasharo Tools Suite HCL report or fwdump-docker image to gather all the hardware configuration information from a running system. The usage of the tools should result in an archive containing various logs from the running system. Submit them via email to contact@dasharo.com or use Dasharo pastebin.</p>"},{"location":"common-coreboot-docs/dumping_logs/#cbmem-utility","title":"<code>cbmem</code> utility","text":"<p>When already migrated to Dasharo, it is possible to retrieve firmware logs from coreboot on a running system. A utility called <code>cbmem</code> can be used for that purpose. By obtaining the logs Dasharo team will be able to locate any issues with the firmware. This method requires Secure Boot to be disabled.</p> <p>Options to get <code>cbmem</code> utility:</p> <ol> <li>Download precompiled utility from 3mdeb cloud</li> <li>Use Dasharo Tools Suite    v1.1.0 or newer which has <code>cbmem</code> utility built in.</li> <li>Compile <code>cbmem utility</code>. See procedure below.</li> </ol> <p>Short instruction how to compile and use <code>cbmem</code> on Ubuntu 22.04 live CD:</p> <ol> <li>Launch Ubuntu 22.04 live CD and choose to <code>Try Ubuntu</code>.</li> <li>Right click on the desktop and choose <code>Open in Terminal</code>.</li> <li> <p>Install required packages:</p> <pre><code>sudo apt-get install -y build-essential libpci-dev\n</code></pre> </li> <li> <p>Navigate to tmpfs: <code>cd /tmp</code>.</p> </li> <li> <p>Download and extract coreboot source:</p> <pre><code>wget https://coreboot.org/releases/coreboot-4.17.tar.xz\ntar xvf coreboot-4.17.tar.xz\n</code></pre> </li> <li> <p>Compile cbmem utility:</p> <pre><code>cd coreboot-4.17/util/cbmem\nmake\n</code></pre> </li> </ol>"},{"location":"common-coreboot-docs/dumping_logs/#obtaining-dasharo-firmware-log","title":"Obtaining Dasharo firmware log","text":"<p>One can obtain the firmware logs with:</p> <pre><code>```bash\nsudo ./cbmem -1 &gt; cbmem.log\n```\n</code></pre> <p>Execute the above command on the target platform. Newer Dasharo distributions will also contain complete logs from UEFI Payload to help debug issues outside of coreboot.</p> <p>NOTE: UEFI Payload logs are not available on platforms with serial console redirection enabled in the firmware.</p>"},{"location":"dasharo-menu-docs/boot-maintenance-mgr/","title":"Boot Maintenance Manager","text":"<p>Boot Maintenance Manager is mainly used to manage boot options, boot timeout, next boot variable, console inputs and outputs. It also provides a way to add driver options, but it is rather rarely used.</p> <p></p> <ul> <li><code>Boot Next Value</code> is used to set which boot options should be booted after a   reboot. This setting is not permanent and works only after the first reboot,   then it defaults back to <code>None</code>.</li> <li><code>Auto Boot Time-out</code> is used to specify the timeout in seconds how long the   firmware should wait for hotkey to enter setup menu or Boot Manager Menu   before booting the first priority according to boot order or   <code>Boot Next Value</code> (if it was set before reset)</li> </ul>"},{"location":"dasharo-menu-docs/boot-maintenance-mgr/#boot-options","title":"Boot Options","text":"<p>This submenu allows to manipulate the boot order and boot options in general:</p> <p></p>"},{"location":"dasharo-menu-docs/boot-maintenance-mgr/#add-boot-option","title":"Add Boot Option","text":"<p>When selecting to add a boot option, file explorer appears where one has to navigate to the desired disk, partition and file which shall be executed if the boot options is selected:</p> <p></p> <p>NOTE: only EFI files may be used. If the file is already selected a window to set the boot option name appears:</p> <p></p> <p>To set the name press <code>ENTER</code> to activate the prompt:</p> <p></p> <p>Confirm the name (it must not be too short) with <code>ENTER</code> and then <code>Commit Changes and Exit</code>. From now on the boot options should appear on the boot options list in the Boot Manager Menu and One Time Boot menu.</p>"},{"location":"dasharo-menu-docs/boot-maintenance-mgr/#delete-boot-option","title":"Delete Boot Option","text":"<p>To delete boot options, enter <code>Delete Boot Option</code> submenu.</p> <p></p> <p>Select the checkboxes which options should be removed and then <code>Commit Changes and Exit</code>. From now on the deleted boot options should not appear on the boot options list in the Boot Manager Menu and One Time Boot menu. Note that some boot options are auto-registered during boot, e.g. UEFI Shell, iPXE, or disks that contains <code>/EFI/BOOT/BOOTX64.EFI</code> file on their FAT32 partitions. To disable iPXE auto-registering, disable Network Boot in Dasharo System Features menu.</p>"},{"location":"dasharo-menu-docs/boot-maintenance-mgr/#change-boot-order","title":"Change Boot Order","text":"<p>Boot Maintenance Manage also allows to change the boot order of the devices. PLease note that the boot order may be changed only for currently detected and registered boot options and devices. Dasharo does not yet provide fixed boot order options per interface, e.g. prioritize USB over NVMe or SATA, etc.</p> <p></p> <p>To move the boot options priority, press <code>ENTER</code> when selecting the boot options list. A popup windows with the entries should show up. Use <code>+</code> and <code>-</code> on the hovered item to move it up and down, use arrows to change hovered item.</p> <p></p> <p>If you are satisfied with the order you set, press <code>ENTER</code> to confirm it and then <code>Commit Changes and Exit</code>. The boot order should be immediately applied, it can be checked on the boot options list in the Boot Manager Menu and One Time Boot menu.</p>"},{"location":"dasharo-menu-docs/boot-maintenance-mgr/#driver-options","title":"Driver Options","text":"<p>This menu is used to load additional drivers. It is used very rarely so it is not described in detail.</p> <p></p>"},{"location":"dasharo-menu-docs/boot-maintenance-mgr/#console-options","title":"Console Options","text":"<p>This menu is used to manipulate EFI console variable. Typically there is no need to use it.</p> <p></p> <p>Here one may enable/disable input and output devices. Please note that most output and input devices devices are registered automatically during boot. Changes made here will only last till next reboot. To permanently disable certain inputs one may use different setup options:</p> <ul> <li>USB keyboard input may be disabled by disabling whole USB stack</li> <li>PS/2 keyboard input may be disabled by disabling PS/2 controller</li> </ul> <p>WARNING: Dasharo does not yet implement any check if at least one keyboard is plugged and working. If you disable both USB stack and PS/2 controller you will not be able to control firmware boot flow (so unable to enter setup or choose boot option via Boot Manager or even enable back the keyboard inputs).</p>"},{"location":"dasharo-menu-docs/boot-maintenance-mgr/#boot-from-file","title":"Boot From File","text":"<p>This submenu allows one to boot an arbitrary EFI file from one of the disk partitions. Selecting the entry will open the File Explorer (similarly like when adding a boot option) and one has to navigate to the file desired to be executed and press ENTER.</p>"},{"location":"dasharo-menu-docs/dasharo-system-features/","title":"Dasharo System Features","text":"<p>When entering the <code>Dasharo System Features</code> menu, one may see the following submenus to appear:</p> <p></p>"},{"location":"dasharo-menu-docs/dasharo-system-features/#dasharo-security-options","title":"Dasharo Security Options","text":"<p>This menu offers security-sensitive options like:</p> <ul> <li><code>BIOS boot medium lock</code> - enables/disables flash protection on the vboot   recovery firmware partition. Disable it if you need access to whole flash   with flashrom.</li> <li><code>Enable SMM BIOS write protection</code> - when enabled, allows only SMM code (the   privileged code installed by the firmware in the system memory) to write to   BIOS flash. Recommended to be enabled if Firmware setup password   is set. Disable the protection if you need access to flash with flashrom.</li> <li><code>Boot menu enabled</code> - enables/disables ability to enter boot manager menu.   Enabled by default. Can be disabled, to prevent from booting from non-default   boot media.</li> <li><code>Early boot DMA Protection</code> - Enables IOMMU DMA protection early during POST.   DMA protection is a feature that utilizes the IOMMU early in the boot process   to prevent rogue DMA-capable devices such as PCIe add-in cards,   USB4/thunderbolt devices from access to memory. This prevents a class of DMA   attacks that allow for exfiltration of secrets and installation of malware   early in the boot process.</li> <li><code>Keep IOMMU enabled when transfer control to OS</code> - (only available when   <code>Early boot DMA Protection</code> is selected) Keeps IOMMU DMA protection enabled   during ExitBootServices when control is passed to the OS. If unsure or see any   problems with DMA/IOMMU during OS boot, keep it disabled.   NOTE: Windows may not boot if the option is enabled.</li> <li><code>Enter Firmware Update Mode</code> - when selected, causes the platform to reset   and disable all firmware protections, including UEFI Secure Boot, for the   duration of one boot. The goal of the option is to simplify the update   process for the end user. Unsetting multiple security options and then   setting them back can be tiresome.</li> <li><code>Enable Wi-Fi + BT radios</code> - (applicable to laptops) - Enables or disables   radios for Wi-Fi and Bluetooth. When disabled, the slot is unconfigured and   power to the wireless module is disconnected.</li> <li><code>Enable Camera</code> - (applicable to laptops) - Enables or disables the integrated   camera. When disabled, power to the camera is disconnected and the camera can   not be enabled using the keyboard camera hotkey from the OS.</li> </ul>"},{"location":"dasharo-menu-docs/dasharo-system-features/#networking-options","title":"Networking Options","text":"<ul> <li><code>Enable network boot</code> - the option controls if the network boot should be   enabled or not. This option is disabled by default on most Dasharo supported   devices. When disabled, it prevents loading network controller drivers and   unregisters iPXE as boot option (iPXE disappears from   Boot Manager and   One Time Boot menus)</li> </ul>"},{"location":"dasharo-menu-docs/dasharo-system-features/#usb-configuration","title":"USB Configuration","text":"<ul> <li><code>Enable USB stack</code> - controls loading of UEFI USB drivers, when enabled all   USB drivers are loaded making USB keyboards and mass storage drives   functional in the firmware (to browse setup, press hotkeys or move around   bootloaders like GRUB). If disabled no USB device will work before OS is   loaded (firmware will not communicate with USB devices).</li> <li><code>Enable USB Mass Storage driver</code> - this option is blocked if USB stack is   disabled. If disabled, UEFI USB Mass Storage driver is not loaded and one   cannot boot from USB drives. Essentially this option controls the USB boot   capability. It does not affect other devices, like USB keyboards.</li> </ul>"},{"location":"dasharo-menu-docs/dasharo-system-features/#intel-management-engine-options","title":"Intel Management Engine Options","text":"<p>This submenu is used to access Intel Management Engine related options. Currently the only option available is <code>Intel ME mode</code> which allows to enable or disable Management Engine:</p> <p></p> <p>On the right side of the window there is a help section describing the option meaning. If the window is too small, the help section may be divided and not fully shown on the screen. To scroll the help section use <code>D</code> or <code>d</code> keys to scroll down and <code>U</code> or <code>u</code> to scroll up.</p> <p>Intel ME can be disabled in two ways:</p> <ul> <li><code>Disabled (Soft)</code> - when set, causes the Dasharo firmware to send   <code>ME_DISABLE</code> command via MEI/HECI. MEI/HECI interface is being hidden from OS   when ME is disabled.</li> <li><code>Disabled (HAP)</code> - when set, causes the Dasharo firmware to set HAP bit in   the flash descriptor. MEI/HECI interface is being hidden from OS when ME is   disabled. HAP method is much more efficient as it halts the ME firmware   execution even earlier than Soft Disable described above</li> </ul> <p></p> <p>When the mode is set to <code>Enabled</code>, Dasharo enables the Intel Management engine by either sending <code>ME_ENABLE</code> command via MEI/HECI or clearing the HAP bit in flash descriptor, depending on the previously active ME mode. MEI/HECI device should be functional in OS when ME is enabled.</p> <p>Any change in the Dasharo firmware setup requires saving the changes and a platform reset (unless specified otherwise).</p> <p>For more information about neutering and disabling ME see also me_cleaner.</p> <p>NOTE: me_cleaner is not supported on all platforms! If a platform supports me_cleaner (i.e. ME version is lower or equal 11.x) it is recommended to set HAP bit and clean the ME region with <code>me_cleaner</code> script permanently.</p>"},{"location":"dasharo-menu-docs/dasharo-system-features/#chipset-configuration","title":"Chipset Configuration","text":"<p>The submenu contains general chipset options. Currently available options:</p> <ul> <li><code>Enable PS/2 controller</code> - enables/disables PS/2 controller on the platform.   When disabled PS/2 keyboards and mice will stop working in firmware and OS.   PS/2 controller will not be functional in OS. This option is not available on   laptops where PS/2 is used for the integrated keyboard and possibly touchpad.</li> <li><code>Enable watchdog</code> - controls the chipset watchdog functionality. If enabled,   watchdog will be counting with the timeout specified below. The firmware   automatically kicks the watchdog periodically so even without OS support, the   platform will not reset itself when watchdog expires.</li> <li><code>Watchdog timeout value</code> - watchdog timeout in seconds. Allowed range is   60-1024 seconds. The Option is only visible if watchdog is set to enabled.</li> </ul>"},{"location":"dasharo-menu-docs/dasharo-system-features/#power-management-options","title":"Power Management Options","text":"<p>The submenu contains general power management options.</p> <p></p> <p>Currently available options:</p> <ul> <li><code>Fan profile</code> - Sets of the fan operation modes (defaults to <code>Silent</code>):<ul> <li><code>Silent</code> - the fan will operate at lower speeds to reduce noise,</li> <li><code>Performance</code> - the fan will operate at higher speeds, to allow for    increased performance.</li> </ul> </li> <li><code>Platform sleep type</code> - sets the active sleep mode to be available for OS<ul> <li><code>Suspend to Idle (S0ix)</code> (default) - also known as modern standby. Select   this option if using Windows. S3 sleep mode may not be working well with   Windows for machines newer than 11th generation Intel Core processors.   S0ix will not work properly if ME is disabled.</li> <li><code>Suspend to RAM (S3)</code> - standard sleep mode that suspends the machine   state to RAM, supported on most operating systems (except Windows on 11th   generation Intel Core processors or newer). <p>Note: On some devices, S3 support is considered experimental. On these devices, the option will be marked as such.</p> </li> </ul> </li> <li><code>Battery Start Treshold</code> - The value set by this option represents the percentage of battery power; if it is above this value, the DUT won't start charging. If the DUT has started charging before this level, it will not stop until the battery stop threshold is reached.</li> <li><code>Battery Stop Treshold</code> - the value set by this option represents the percentage of battery power that the device will never exceed - it will stop charging.</li> </ul> <p>Flow chart for the two settings mentioned above:</p> <p></p> <ul> <li><code>Power state after power failure</code> - controls what power state the platform   should switch to when the main AC power is restored. Default value is   platform-dependent.</li> </ul> <p></p>"},{"location":"dasharo-menu-docs/dasharo-system-features/#pcipcie-configuration","title":"PCI/PCIe Configuration","text":"<p>The submenu contains options related to the PCI and PCI Express devices and subsystem.</p> <p></p> <ul> <li><code>Enable PCIe Resizable BARs</code> - enables/disables the PCIe Resizable BARs   during PCI enumeration process. If enabled, the PCI Express devices   advertising more suitable memory resources, will be configured to use those   resources (that typically means bigger memory resources assigned to the   device). By default this option is disabled for compatibility reasons.</li> </ul> <p></p> <p></p> <ul> <li><code>OptionROM Execution Policy</code> - controls which OptionROMs are allowed to be   loaded and run. Default value may depend on platform (either <code>Disable all</code>   or <code>Enable All</code>)</li> </ul> <p></p> <p></p>"},{"location":"dasharo-menu-docs/dasharo-system-features/#memory-configuration","title":"Memory Configuration","text":"<p>The submenu contains options related to the RAM memory configuration.</p> <p> </p> <ul> <li><code>Memory SPD profile</code> - chooses the memory overclocking profile to use when   training the memory. Custom profiles are not yet supported. Currently, there   is no detection between DDR4 and DDR5 memory, so <code>XMP#3</code> profile is only   eligible for DDR5.</li> </ul> <p>WARNING: Changing this value may brick your system. Be sure to have a recovery method before modifying this setting. You have been warned.</p> <p></p>"},{"location":"dasharo-menu-docs/dasharo-system-features/#serial-port-configuration","title":"Serial Port Configuration","text":"<p>The submenu contains options related to the serial port configuration.</p> <p></p> <ul> <li><code>Enable Serial Port Console Redirection</code> - when enabled, the firmware will   output also on the serial port specific to the platform. Default value is   platform-dependent.</li> </ul> <p>NOTE: If Serial Port Console Redirection is enabled, the setup application and strings printed on the screen will not be stretched to the full screen size. It is due to the serial console working in 80x25 mode. Thus the console splitter must choose the highest resolution supported by all consoles.</p>"},{"location":"dasharo-menu-docs/dasharo-system-features/#additional-information","title":"Additional information","text":"<p>NOTE: Pressing F9 to reset to defaults resets all settings, not only the one that is currently selected.</p>"},{"location":"dasharo-menu-docs/device-manager/","title":"Device Manager","text":"<p>The Device Manager is a EDKII standard submenu which collects various device setups like TPM, UEFI Secure Boot, TCG OPAL Drive Password, SATA Password and others.</p> <p></p>"},{"location":"dasharo-menu-docs/device-manager/#tcg-drive-management","title":"TCG Drive Management","text":"<p>This menu allows one to set up TCG OPAL disk password and manage other TCG OPAL feature settings. The main view of the submenu looks as follows:</p> <p></p> <p>The submenu will list all the TCG OPAL capable disks. Selecting one of them with <code>ENTER</code> will cause entering the disk specific submenu:</p> <p></p> <p>Here one can enable the TCG OPAL security feature or restore factory default with the PSID (Physical Security ID). Physical Security ID is a drive specific key which is used to revert to factory default mode. The PSID can be typically found on the sticker present on the disk.</p> <p>Besides the feature enablement and factory restore options there is an action interactive entry on the main TCG Drive Management page:</p> <p></p> <p>It is used to perform TCG OPAL specific operations when the security feature is enabled. Enable/disable BlockSID will set/unset \"freeze locking\" of the drive features as requested by OS. One may also enable or disable physical presence (firmware popup confirmation of actions requested by OS) when switching BlockSID.</p> <p>To set up the password enter the desired disk submenu and enable the feature by selecting the checkbox. Note that not all disks support the security feature of TCG OPAL. Reset is required to apply changes. After reset you will be prompted to set admin password. When the admin password is set, more options become available for the disk:</p> <p></p> <p>All below options require reset to apply changes.</p> <ul> <li><code>Update Drive Admin Password</code> - to update current admin password. Prompt   window appears after reset to enter current and new password</li> <li><code>Set Drive User Password</code> - is used to set an optional user password.</li> <li><code>Secure Erase User Data</code> - performs secure erase of the data after reset.</li> <li><code>Admin Revert to factory default and Disable</code> - disables the admin password   (prompt will no longer appear during boot o unlock the drive) and the   security feature after reset. Optionally one may select to keep or discard   user data.</li> <li><code>PSID Revert to factory default and Disable</code> - in case admin password has   been forgotten PSID can be used to disable the security feature and admin   password after reset. This will also erase user data.</li> <li><code>Disable User</code> - disables the user functionality (and so the user password)   after reset.</li> </ul> <p>For more details about TCG OPAL please refer to TCG Storage Specifications and Key Management.</p>"},{"location":"dasharo-menu-docs/device-manager/#driver-health-manager","title":"Driver Health Manager","text":"<p>This submenu is informational only and displays the status of drivers that install UEFI driver health protocol. Typically it is installed by 3rdparty applications such as OptionROMs on graphics devices or network controllers for example.</p> <p></p>"},{"location":"dasharo-menu-docs/device-manager/#secure-boot-configuration","title":"Secure Boot Configuration","text":"<p>This submenu allows configuring UEFI Secure Boot functionality.</p> <p></p>"},{"location":"dasharo-menu-docs/device-manager/#enabling-secure-boot","title":"Enabling Secure Boot","text":"<p>By default, Dasharo firmware doesn't have UEFI Secure Boot enabled. Additionally, keys for UEFI Secure Boot are not enrolled, as we do not make assumptions about which CA the user trusts. To enable Secure Boot for booting common OSes signed with Microsoft keys (Windows and Linux distros using the shim bootloader), select the <code>Reset Secure Boot keys</code> option. The <code>Attempt Secure Boot</code> option will now be available and selected, and Secure Boot will be used on next boot.</p>"},{"location":"dasharo-menu-docs/device-manager/#custom-mode-and-key-management","title":"Custom mode and key management","text":"<p>The following keys are enrolled by default when resetting Secure Boot keys:</p> <ul> <li>Microsoft KEK certificate,</li> <li>Microsoft Signature Database (db) consisting of:<ul> <li>Microsoft Windows Production PCA 2011   to allow Windows OS Loader to load,</li> <li>Microsoft Corporation UEFI CA 2011   to load OEM-approved UEFI drivers and applications (e.g. shim),</li> </ul> </li> <li>Microsoft Forbidden Signature Database (dbx) published as  UEFI Revocation List File on uefi.org,</li> <li>Dasharo Platform Key (PK) certificate maintained by the Dasharo team. When  custom application and UEFI driver signing is desired, this key may be replaced  with the user's own PK.</li> </ul> <p>To learn more, please visit Windows Secure Boot Key Creation and Management Guidance.</p> <p>To use your own keys, choose <code>Custom Mode</code> in <code>Secure Boot Mode</code>:</p> <p></p> <p>An additional entry appears below for configuring keys and certificates:</p> <p></p> <p>Here one may delete and enroll particular keys, certificates and database signatures.</p>"},{"location":"dasharo-menu-docs/device-manager/#tcg2-configuration","title":"TCG2 Configuration","text":"<p>TCG2 Configuration submenu is responsible for displaying TPM 2.0 information and managing the module.</p> <p></p> <p>The basic information displayed are the TPM device family, interface, but also information about supported hashing algorithms.</p> <p></p> <p></p> <p>It is also possible to perform various TPM2 physical presence operations (<code>TPM2 Operation</code>) and enable or disable PCR banks.</p> <p></p> <p>The supported TPM2 operations are:</p> <ul> <li>Disabling or enabling Owner and Endorsement hierarchies</li> <li><code>TPM ClearControl(NO) + Clear</code> - performs TPM clear</li> <li>PCR Allocation - used to enable additional PCR banks</li> <li><code>LogAllDigests</code> - on next reboot (and only on next reboot), add digests for   all supported hashing algorithms to log file</li> <li><code>ChangeEPS</code> - clears the TPM and changes its identity</li> </ul> <p>For more details about the TPM operations see TCG Physical Presence Interface Specification</p>"},{"location":"dasharo-menu-docs/device-manager/#hdd-security-configuration","title":"HDD Security Configuration","text":"<p>HDD Security Configuration allows one to set SATA disk password. Note that all SATA disks will be displayed, even these that don't support the feature.</p> <p></p> <p>To check if the disk supports password feature, enter the specific disk submenu to see if <code>Security Supported</code> displays <code>Yes</code>:</p> <p></p> <p>If one scrolls down a bit, more information is displayed about current state of the disk password feature:</p> <p></p> <p></p> <p>At the bottom of the page there are two checkboxes:</p> <ul> <li><code>Request to set User Password</code> - this is the option to set the password on   the disk. Requires reset, after which the prompt windows will appear to set   the password. From now on the prompt will appear on each boot.</li> <li><code>Request to set Master Password</code> - this options changes the disk master   password. Master password is used to recover from forgotten User Password.</li> </ul> <p>Typically Master Password is provisioned during disk manufacturing and it will not be possible to change it without knowing what the master password is.</p> <p>To disable the User Password simply request to set the User Password again via the menu. After reset you will be asked to unlock the driver with current password and then type new password. To disable the password simply leave the field empty and confirm it twice by pressing <code>ENTER</code>. After that the password prompt will not appear again.</p>"},{"location":"dasharo-menu-docs/device-manager/#network-device-list","title":"Network Device List","text":"<p>This submenu is displayed when Network Boot is enabled and the network controller driver installs the necessary UEFI protocols. The menu lists the network devices with the UEFI protocol installed. One may check out the network controller information, like MAC address, driver used and link status. Example view with MAC address blurred:</p> <p></p> <p></p> <p></p>"},{"location":"dasharo-menu-docs/overview/","title":"Dasharo menu overview","text":"<p>This section describes the overview of the Dasharo firmware setup menu. In the subsections you will get to know:</p> <ul> <li>What options are available?</li> <li>How to use submenus and options?</li> <li>How the options and submenus work?</li> </ul> <p>Here you may watch a Dasharo menu walkthrough with commentary presenting Dasharo features.</p>"},{"location":"dasharo-menu-docs/overview/#dasharo-menu-guides","title":"Dasharo menu guides","text":"<p>The main menu is entered by selecting the Setup application in the Boot Manager Menu or by pressing the Setup hotkey while booting. The hotkey is shown in the top-left corner of the screen when the boot logo is displayed, for example <code>DEL</code>:</p> <pre><code>DEL   to enter Setup\nF11   to enter Boot Manager Menu\nENTER to boot directly\n</code></pre> <p>On certain devices like Novacustom laptops one will also be greeted with a firmware version printed on the screen (main firmware version and EC firmware version if applicable), for example:</p> <pre><code>Firmware version: Dasharo (coreboot+UEFI) v1.6.0\nEC firmware version: 2023-03-20_c398446\nF2    to enter Setup\nF7    to enter Boot Manager Menu\nENTER to boot directly\n</code></pre> <p>If any error happens (firmware version is unknown, could not be read or any other error) you will get an red error string:</p> <p></p> <p>OR</p> <p></p> <p>In such case please follow the EC firmware update instructions for a specific board variant.</p> <ul> <li> <p>Setup Main Page</p> <ul> <li>User Password Management</li> <li>Device Manager</li> <li>Dasharo System Features</li> <li>One Time Boot</li> <li>Boot Maintenance Manager</li> </ul> </li> <li> <p>Boot Manager Menu - entered with a different key than   used for setup application. Lists all bootable options and allows one to   override the boot path.</p> </li> </ul>"},{"location":"dasharo-menu-docs/overview/#main-page","title":"Main Page","text":"<p>The page is the main view of the firmware setup application. It contains the board model (<code>MS-7D25</code>), installed CPU and firmware version in the top-left corner. In the top-right corner the CPU frequency and system RAM amount are shown.</p> <p>From the main page one may access all menus and submenus available in the firmware setup. Besides the menus there is also an option to:</p> <ol> <li>Change the language (currently only English is supported)</li> <li><code>Continue</code> - execute the top first boot order priority</li> <li><code>Reset</code> - resets the platform.</li> </ol> <p>The currently available menus/submenus are as follows:</p> <ul> <li>User Password Management - allows to set   firmware setup password</li> <li>Device Manager - allows configuring various devices and   features like: UEFI Secure Boot, TPM device, SATA and TCG OPAL password, etc.   It may also contain informational menus like Driver Health Manager, Network   Device List and others.</li> <li>Dasharo System Features - contains submenus for   features specific to Dasharo products and Dasharo supported platforms</li> <li>One Time Boot - allows to choose which boot entry to   execute. It simply lists all available boot options and allows to select one   the same way as Boot Manager Menu</li> <li>Boot Maintenance Manager - allows to manipulate   various UEFI standard variables responsible for console and boot options. One   may choose which devices should be used for input and output, choose to boot   an arbitrary file or modify the boot options and boot order.</li> </ul> <p>NOTE: not all submenus may be available on your platform. Contact Dasharo Team for more information and possible feature extension of your platform.</p>"},{"location":"dasharo-menu-docs/overview/#user-password-management","title":"User Password Management","text":"<p>User Password Management menu allows one to set firmware setup admin password:</p> <p></p> <p>The password must be a strong one. The requirements are described on the help section on the right side of the menu page. If the password is too weak it will not be accepted. Also the new password must be different from the last 5 passwords that were used before. The page shows the current status of <code>Admin Password</code> if it is provisioned or not.</p> <p>To disable the password, enter the <code>User Password Management</code> menu again and request to set new password. You will be asked to enter current password. When a window to provide new password pops up, leave the field empty and confirm it twice with <code>ENTER</code>. The password installation status on the menu page should change to <code>Not Installed</code>.</p>"},{"location":"dasharo-menu-docs/overview/#one-time-boot","title":"One Time Boot","text":"<p>When setup application is entered, one of the menus is called <code>One Time Boot</code>. As the name suggests it allows to override the boot just one time (not permanently). The usage principles are the same as for Boot Manager Menu.</p> <p>Example view of <code>One Time Boot</code> submenu:</p> <p></p> <p>On the right side of the menu window, there is a <code>DevicePath</code> which is a UEFI-compliant path to the device or file being executed. Depending on the file/device type, these paths may be different:</p> <p></p> <p></p> <p><code>DevicePaths</code> are defined in UEFI Specification. If you are interested in decoding those, read through the specification carefully.</p>"},{"location":"dasharo-menu-docs/overview/#boot-manager-menu","title":"Boot Manager Menu","text":"<p>Boot Manager Menu is an application that lists all bootable options and allows one to override the boot path.</p> <p>Boot Manager Menu is entered with a different key than setup application. It may be customized on your platform. The right key to use is always printed on the screen in the top-left corner, for example <code>F11</code>:</p> <pre><code>DEL   to enter Setup\nF11   to enter Boot Manager Menu\nENTER to boot directly\n</code></pre> <p>After pressing the right hotkey for Boot Manager Menu, a window should pop up:</p> <p></p> <p>On the bottom of the window there are instructions for moving and selecting entries.</p>"},{"location":"dasharo-tools-suite/documentation/","title":"Documentation","text":""},{"location":"dasharo-tools-suite/documentation/#supported-hardware","title":"Supported hardware","text":"<p>Dasharo Tools Suite was prepared to run on x86 platforms, but we can confirm that it boots on the following platforms:</p> <ul> <li>ASUS KGPE-D16,</li> <li>Dell OptiPlex 7010/9010,</li> <li>MSI PRO Z690-A DDR4 (test   report),</li> <li>MSI PRO Z690-A DDR5 (test   report),</li> <li>MSI PRO Z790-P DDR4,</li> <li>MSI PRO Z790-P DDR5 (test   report),</li> <li>NovaCustom NV4x (test   report),</li> <li>NovaCustom NS5x/7x (test   report).</li> </ul>"},{"location":"dasharo-tools-suite/documentation/#running","title":"Running","text":"<p>The Dasharo Tools Suite can be started in various ways. Currently, there are two options:</p> <ul> <li>bootable over a network (iPXE),</li> <li>bootable USB stick image.</li> </ul> <p>The first one should always be preferred if possible, as it is the easiest one to use.</p>"},{"location":"dasharo-tools-suite/documentation/#bootable-over-a-network","title":"Bootable over a network","text":"<p>This section describes how to boot DTS using iPXE.</p>"},{"location":"dasharo-tools-suite/documentation/#requirements","title":"Requirements","text":"<p>Below are the requirements that must be met to run DTS over a network on the platform:</p> <ul> <li>Dasharo device with DTS functionality integrated,</li> <li>wired network connection,</li> <li>Secure Boot disabled,</li> <li>disabled BIOS lock feature (if device is already flashed with Dasharo).</li> </ul>"},{"location":"dasharo-tools-suite/documentation/#launching-dts","title":"Launching DTS","text":"<p>To access Dasharo Tools Suite:</p> <ul> <li>attach a wired network cable to the device's Ethernet port,</li> <li>power on the device, holding down the Boot Menu entry key,</li> <li>in the Boot Menu, select the <code>iPXE Network Boot</code> option,</li> <li>in the Network Boot menu, select the <code>Dasharo Tools Suite</code> option,</li> <li>the DTS menu will now appear.</li> </ul>"},{"location":"dasharo-tools-suite/documentation/#bootable-usb-stick","title":"Bootable USB stick","text":"<p>This section describes how to boot DTS using a USB stick.</p>"},{"location":"dasharo-tools-suite/documentation/#requirements_1","title":"Requirements","text":"<p>Below are the requirements that must be met to run DTS from a USB device on the platform:</p> <ul> <li>USB stick (at least 2GB),</li> <li>wired network connection,</li> <li>Secure Boot disabled,</li> <li>disabled BIOS lock feature (if device is already flashed with Dasharo),</li> <li>latest image from releases section.</li> </ul>"},{"location":"dasharo-tools-suite/documentation/#launching-dts_1","title":"Launching DTS","text":"<p>To access Dasharo Tools Suite:</p> <ul> <li>flash the downloaded image onto USB stick,<ul> <li>you can use a cross-platform GUI installer - Etcher</li> <li>you can also use <code>dd</code> to flash from the command line</li> </ul> </li> </ul> <pre><code>gzip -cdk dts-base-image-v1.1.0.wic.gz | \\\nsudo dd of=/dev/sdX bs=16M status=progress conv=fdatasync\n</code></pre> <p>Note: this is an example done on the v1.1.0 image.</p> <ul> <li>insert the USB stick into a USB in your device,</li> <li>boot from the USB stick,</li> <li>the DTS menu will now appear.</li> </ul>"},{"location":"dasharo-tools-suite/documentation/#building","title":"Building","text":"<p>We choose Yocto Project to prepare Dasharo Tools Suite system. DTS image can be built using publicly available sources. Thanks to publishing the build cache on cache.dasharo.com the time needed to finish the process should be significantly decreased.</p>"},{"location":"dasharo-tools-suite/documentation/#prerequisites","title":"Prerequisites","text":"<p>The following must be met to build DTS:</p> <ul> <li>Linux PC (tested on <code>Ubuntu 20.04 LTS</code>),</li> <li>docker installed,</li> <li>kas-container 3.0.2   script downloaded and available in PATH,</li> </ul> <pre><code>wget -O ~/bin/kas-container https://raw.githubusercontent.com/siemens/kas/3.0.2/kas-container\n</code></pre> <pre><code>chmod +x ~/bin/kas-container\n</code></pre> <ul> <li><code>meta-dts</code> repository cloned.</li> </ul> <pre><code>mkdir yocto &amp;&amp; cd yocto\n</code></pre> <pre><code>git clone https://github.com/Dasharo/meta-dts.git\n</code></pre>"},{"location":"dasharo-tools-suite/documentation/#build","title":"Build","text":"<p>From <code>yocto</code> directory, run:</p> <pre><code>SHELL=/bin/bash kas-container build meta-dts/kas.yml\n</code></pre> <p>Image build takes time, so be patient, and the build's finished, you should see something similar to (tasks number may differ):</p> <pre><code>Initialising tasks: 100% |###########################################################################################| Time: 0:00:01\nSstate summary: Wanted 2 Found 0 Missed 2 Current 931 (0% match, 99% complete)\nNOTE: Executing Tasks\nNOTE: Tasks Summary: Attempted 2532 tasks of which 2524 didn't need to be rerun and all succeeded.\n</code></pre> <p>Using the cache is enabled in <code>kas/cache.yml</code> file and can be disabled by removing content of that file.</p> <pre><code>cat kas/cache.yml\n</code></pre> <p>output:</p> <pre><code>header:\n  version: 11\n\nlocal_conf_header:\n  yocto-cache: |\nSSTATE_MIRRORS ?= \"file://.* http://${LOCAL_PREMIRROR_SERVER}/${PROJECT_NAME}/sstate-cache/PATH\"\nSOURCE_MIRROR_URL ?= \"http://${LOCAL_PREMIRROR_SERVER}/${PROJECT_NAME}/downloads\"\nINHERIT += \"own-mirrors\"\nLOCAL_PREMIRROR_SERVER ?= \"cache.dasharo.com\"\nPROJECT_NAME ?= \"yocto/dts\"\n</code></pre>"},{"location":"dasharo-tools-suite/documentation/#build-image-with-uefi-secure-boot-support","title":"Build image with UEFI Secure Boot support","text":"<p>From <code>yocto</code> directory run:</p> <pre><code>SHELL=/bin/bash kas-container build meta-dts/kas-uefi-sb.yml\n</code></pre> <p>Image build takes time, so be patient and after build's finish you should see something similar to (the exact tasks numbers may differ):</p> <pre><code>Initialising tasks: 100% |###########################################################################################| Time: 0:00:04\nChecking sstate mirror object availability: 100% |###################################################################| Time: 0:00:03\nSstate summary: Wanted 892 Local 672 Mirrors 212 Missed 8 Current 1560 (99% match, 99% complete)\nNOTE: Executing Tasks\nNOTE: Tasks Summary: Attempted 5860 tasks of which 5841 didn't need to be rerun and all succeeded.\n</code></pre> <p>Image created with <code>kas-uefi-sb.yml</code> configuration file enable integration of UEFI Secure Boot into DTS using meta-secure-core. Building the image allow to prepare a PoC version with uses sample keys which by no mean should used in production. For user keys the script [create-user-key-store.sh](https://github.com/jiazhang0/meta-secure-core/blob/master/meta-signing-key/scripts/create-user-key-store.sh can be used but it was not tested yet. Quick start with instructions on how to use image are described in meta-efi-secure-boot.</p>"},{"location":"dasharo-tools-suite/documentation/#flash","title":"Flash","text":"<ul> <li>Find out your device name.</li> </ul> <pre><code>fdisk -l\n</code></pre> <p>output:</p> <pre><code>(...)\nDevice     Boot  Start    End Sectors  Size Id Type\n/dev/sdx1  *      8192 131433  123242 60,2M  c W95 FAT32 (LBA)\n/dev/sdx2       139264 186667   47404 23,2M 83 Linux\n</code></pre> <p>In this case the device name is <code>/dev/sdx</code>, but be aware, in the next steps, replace <code>/dev/sdx</code> with the right device name on your platform, or else you can damage your system!</p> <ul> <li>From where you ran image build type.</li> </ul> <pre><code>sudo umount /dev/sdx*\n</code></pre> <pre><code>cd build/tmp/deploy/images/genericx86-64\n</code></pre> <p>Here the file <code>dts-base-image-genericx86-64.wic.gz</code> should be available, which is the image of DTS. To flash image, you can use the same command shown in running section. Just change the file name.</p> <ul> <li>Boot the platform.</li> </ul>"},{"location":"dasharo-tools-suite/documentation/#disabling-secure-boot","title":"Disabling Secure Boot","text":"<p>Any procedure affecting the firmware flashing should be preceded by controlling the Secure Boot status and if it is turned on, turning it off. The enabled Secure Boot will not only prevent you from operating on the firmware, but you will also not be able to launch DTS.</p> <p>To check the Secure Boot state:</p> <ol> <li>Turn off the station on which you want to test the Dasharo firmware.</li> <li>Turn the station on and go to the next step immediately.</li> <li>Hold the <code>BIOS SETUP KEY</code> to enter the <code>BIOS MENU</code>.</li> <li>Localize and enter the <code>Secure Boot</code> menu using the arrow keys and Enter.</li> <li>Verify that the <code>Secure Boot Status</code> field says <code>Disabled</code> - if not,   deselect the <code>Enforce Secure Boot</code> option using the arrow keys and Enter.</li> <li>Change the setting of Secure Boot to <code>Disabled</code> and press Enter.</li> <li>Press the <code>F10</code> key to open the dialog box.</li> <li>Press <code>Enter</code> to confirm changes and exit from the menu.</li> </ol> <p>After completing the steps described above, Secure Boot should be disabled. You could confirm that by repeating steps 3 - 5.</p>"},{"location":"dasharo-tools-suite/documentation/#features","title":"Features","text":"<p>This section describes the functionality of the Dasharo Tools Suite. These are:</p> <ul> <li>Dasharo zero-touch initial deployment,</li> <li>HCL Report,</li> <li>Firmware update,<ul> <li>Local firmware update,</li> </ul> </li> <li>EC transition,</li> <li>EC update,</li> <li>additional features,<ul> <li>run commands from iPXE shell,</li> <li>run DTS using VentoyOS.</li> </ul> </li> </ul>"},{"location":"dasharo-tools-suite/documentation/#dasharo-zero-touch-initial-deployment","title":"Dasharo zero-touch initial deployment","text":"<p>DTS can be used to flash Dasharo firmware on your hardware. To achieve this, boot DTS, choose option number <code>2</code>. After creating report with firmware dump as backup, type <code>d</code> or <code>c</code> to confirm the installation of Dasharo firmware. Option <code>c</code> stands for community release which is available for anyone using Dasharo Tools Suite, option <code>d</code> stands for DES release and it is only available to Dasharo Entry Subscription subscribers.</p> <p>Next you will be asked two questions to confirm flashing. The first will be displayed with the detected information about the device you are using DTS on. The second will also provide the hash of Dasharo components which will then be used for flashing. You can compare them with the values listed in the supported hardware section on docs.dasharo.com. Both these questions can be accepted by typing <code>Y</code>.</p> <p>Procedure execution ends automatically on the reboot of the platform (unless it requires otherwise). After restarting the device, you can enjoy the basic version of Dasharo, which we provide for given hardware.</p> <p>This feature is supported on the following platforms:</p> <ul> <li>ASUS KGPE-D16,</li> <li>Dell OptiPlex 7010/9010,</li> <li>MSI PRO Z690-A DDR4,</li> <li>MSI PRO Z690-A DDR5,</li> <li>MSI PRO Z790-P DDR4,</li> <li>MSI PRO Z790-P DDR5,</li> <li>NovaCustom NV4x,</li> <li>NovaCustom NS5x/7x.</li> </ul>"},{"location":"dasharo-tools-suite/documentation/#hcl-report","title":"HCL Report","text":"<p>DTS allows the generation of a package with logs containing hardware information. To create one, choose option number 1 and check out the disclaimer. If you would like to send the report to our servers, please remember about connecting the ethernet cable. More information can be found in glossary.</p> <p></p>"},{"location":"dasharo-tools-suite/documentation/#hcl-report-correctness","title":"HCL Report correctness","text":"<p>Please note DTS HCL Report assumes that your chipset is already supported by flashrom. There are also other false negative errors and unknowns, which we trying to fix to improve user experience.</p> <p>Always check <code>results</code> file to confirm the quality of your HCL report. Sample content of such file may look as follows:</p> <pre><code>[OK]    PCI configuration space and topology\n[UNKNOWN] USB devices and topology\n[OK]    Super I/O configuration\n[UNKNOWN] EC configuration\n[ERROR]   MSRs\n[OK]    SMBIOS tables\n[OK]    BIOS information\n[OK]    CMOS NVRAM\n[UNKNOWN] Intel configuration registers\n[OK]    GPIO configuration C header files\n[OK]    kernel dmesg\n[OK]    ACPI tables\n[UNKNOWN] Audio devices configuration\n[OK]    CPU info\n[OK]    I/O ports\n[OK]    Input bus types\n[OK]    Firmware image\n[OK]    I2C bus\n[UNKNOWN] ACPI tables\n[OK]    Touchpad information\n[OK]    DIMMs information\n[ERROR]   CBMEM table information\n[ERROR]   TPM information\n[ERROR]   AMT information\n[OK]    ME information\nResults of getting data:\n\nLegend:\n[OK]     Data get successfully\n[UNKNOWN]  Result is unknown\n[ERROR]    Error during getting data\n</code></pre> <p>Please report all errors experienced while performing a dump to dasharo-issues repository.</p>"},{"location":"dasharo-tools-suite/documentation/#bios-backup","title":"BIOS backup","text":"<p>One of the key components of HCL Report is your BIOS backup. To prepare BIOS backup of your platform, simply run HCL Report and decide if you would like to contribute information about your hardware configuration.</p> <p>Please consider the following options depending on your situation:</p> <ul> <li>YES - If you decide to contribute, you can always get back to   us and ask about BIOS backup, which   we will provide after simple verification that you are the owner of the   hardware.</li> <li>NO (default) - If you decide to not contribute, your situation depends on   the boot method you used to execute DTS:<ul> <li>Network Boot - please note that Dasharo booted over iPXE assumes no   storage available, so the report, and your BIOS backup are stored in   temporary memory and will not be available after reboot. Please make sure   to move HCL Report to not volatile storage. This can be done using option   <code>9) Shell</code>,</li> <li>USB Boot - HCL Report and BIOS backup are saved to USB storage root   directory.</li> </ul> </li> </ul>"},{"location":"dasharo-tools-suite/documentation/#firmware-update","title":"Firmware update","text":"<p>DTS can be used to update Dasharo firmware. To achieve this, boot it on platform with flashed Dasharo and choose option number <code>5</code>. You may see additional information about available updates if you are not Dasharo Entry Subscription subscriber.</p> <p>Next you will be asked two questions to confirm flashing. The first will be displayed with the detected information about the device you are using DTS on. The second will also provide the hash of Dasharo components which will then be used for flashing. You can compare them with the values listed in the supported hardware section on docs.dasharo.com. Both these questions can be accepted by typing <code>Y</code>.</p> <p>If you see the following warning during the process, you do not need to worry about it:</p> <pre><code>Warning: Setting BIOS Control at 0xdc from 0x8b to 0x89 failed.\nNew value is 0x8b.\n</code></pre> <p>Procedure execution ends automatically on the reboot of the platform (unless it requires otherwise). After restarting the device, you can enjoy the updated version of Dasharo, which we provide for given hardware.</p> <p>Below we provide an example of updating Dasharo firmware from version v1.0.0 to v1.1.1 on MSI PRO Z690-A DDR4.</p> <pre><code>  DTS version v1.2.0\n\n  1) Dasharo HCL report - dump hardware information from this device\n  3) Restore firmware from Dasharo HCL report\n  4) Load SE keys\n  5) Update Dasharo firmware\n  9) Shell\n  10) Power off system\n  11) Reboot system\n\nEnter an option: 5\n\nGathering flash chip and chipset information...\nFlash information: vendor=\"Programmer\" name=\"Opaque flash chip\"\nFlash size: 32M\nChecking for the latest Dasharo update available...\nCurrent Dasharo version: 1.0.0\nLatest available Dasharo version: 1.1.1\n\nPlease verify detected hardware!\n\nBoard vendor: Micro-Star International Co., Ltd.\nSystem model: MS-7D25\nBoard model: PRO Z690-A WIFI DDR4(MS-7D25)\n\nDoes it match your actual specification? (Y|n)y\n\nFollowing firmware will be used to install Dasharo\nDasharo BIOS firmware:\n  - link: https://3mdeb.com/(...)/msi_ms7d25_v1.1.1_ddr4.rom\n  - hash: 3b438422338cf4c13abdb25823a9b2a2ad6e82fabbe0d9ed41a16a6eae1f15ff\n\nYou can learn more about this release on: https://docs.dasharo.com/\n\nDo you want to update Dasharo firmware on your hardware? (Y|n) y\n\nDownloading Dasharo firmware update...\n########################################################################### 100.0%\nChecking sha256sum...\n/tmp/biosupdate.rom: OK\nUpdating Dasharo firmware...\nThis will take around 3 minutes. Please be patient and do not reset your\ncomputer, or touch keyboard!\nSuccessfully updated Dasharo firmware\nSyncing disks... Done.\nThe computer will reboot automatically in 5 seconds\nRebooting in 5s:\n5...\n4...\n3...\n2...\n1...\nRebooting\n</code></pre>"},{"location":"dasharo-tools-suite/documentation/#local-firmware-update","title":"Local firmware update","text":"<p>To flash a local BIOS image (e.g. mounted from a USB stick), you can drop to the shell (option <code>9</code>) and use the <code>flashrom</code> binary provided inside DTS directly.</p> <p>DANGER: Failure to use <code>flashrom</code> correctly may result in an unbootable device. For example, never flash an image that does not contain an Intel Firmware Descriptor (IFD) region and/or Management Engine (ME) region to the whole chip.</p> <p>You can use <code>flashrom -p internal</code> without additional parameters to double check if <code>flashrom</code> detects your chipset. This will not write anything.</p> <p>The following <code>flashrom</code> command will only rewrite the BIOS region:</p> <pre><code>sudo flashrom -p internal --ifd -i bios -w [path/to/your/coreboot.rom]\n</code></pre> <p>If <code>flashrom</code> outputs the following, you do not need to worry about it:</p> <pre><code>Enabling flash write... Warning: Setting BIOS Control at 0xdc from 0x8b to 0x89 failed.\nNew value is 0x8b.\nSPI Configuration is locked down\n</code></pre>"},{"location":"dasharo-tools-suite/documentation/#ec-transition","title":"EC transition","text":"<p>DTS allows performing full Embedded Controller firmware transition from the proprietary vendor EC firmware to the Dasharo EC firmware. Currently, this functionality is supported on the NovaCustom NS5x/NS7x) and NovaCustom NV4x only.</p> <p>Starting from DTS v1.2.0 to perform EC transition please run firmware update on the platform with proprietary vendor EC firmware.</p>"},{"location":"dasharo-tools-suite/documentation/#ec-update","title":"EC update","text":"<p>DTS allows to update open-source Embedded Controller firmware to the newer version. This is how we can achieve that.</p> <ul> <li>Retrieve information about your current EC.</li> </ul> <pre><code>system76_ectool info\n</code></pre> <p>The output of the above-described command should contain information about   the version of flashed firmware:</p> <pre><code>board: clevo/ns50mu\nversion: 2022-08-16_c12ff1a\n</code></pre> <ul> <li>Download the newest version of Embedded Controller firmware.</li> <li>Plug in power supply, without it, flashing EC is not possible as losing power   may cause in damaged firmware.</li> <li>Flash Embedded Controller firmware internally.</li> </ul> <pre><code>system76_ectool flash ec_file.rom\n</code></pre> <p>The output of the above-described command should look as follows:</p> <pre><code>file board: Ok(\"clevo/ns50mu\")\nfile version: Ok(\"2022-08-16_c12ff1a\")\nec board: Ok(\"clevo/ns50mu\")\nec version: Ok(\"2022-08-31_cbff21b\")\nWaiting 5 seconds for all keys to be released\nSync\nSPI Read 128K\nSaving ROM to backup.rom\nSPI Write 128K\nSPI Read 128K\nSuccessfully programmed SPI ROM\nResult: Ok(())\nSync\nSystem will shut off in 5 seconds\nSync\n</code></pre> <p>Note: this is example output, versions may differ</p> <ul> <li>Computer will shut down automatically.</li> <li>Power on your computer. Booting process may take a while.</li> <li>After boot, choose option number 9 to drop to Shell.</li> <li>Retrieve information about your updated EC.</li> </ul> <pre><code>system76_ectool info\n</code></pre> <p>The output of the above-described command should contain information about   the version of flashed firmware:</p> <pre><code>board: clevo/ns50mu\nversion: 2022-08-31_cbff21b\n</code></pre>"},{"location":"dasharo-tools-suite/documentation/#additional-features","title":"Additional features","text":"<p>The section below presents a list of functionalities added to DTS, which were developed at the community's request and which do not necessarily relate strictly to Dasharo.</p>"},{"location":"dasharo-tools-suite/documentation/#run-commands-from-ipxe-shell","title":"Run commands from iPXE shell","text":"<p>Note: this functionality might not work, please see   GitHub issue.</p> <p>It is possible to execute the bash script after Linux startup by passing it from the iPXE shell. Every script placed in <code>/sbin/ipxe-commands</code> will be executed automatically after startup.</p> <p>Here is a simple instruction on how to use that feature.</p> <ul> <li>Run the HTTP server in the directory which contains the DTS base image. If you   build it by yourself, then it should be the <code>meta-dts</code> subdirectory:   <code>build/tmp/deploy/images/genericx86-64</code>.</li> </ul> <p>The easiest way to start an HTTP server is using <code>http.server</code> python module.</p> <pre><code>$ python3 -m http.server 9000\n</code></pre> <ul> <li>Create a <code>dts.ipxe</code> bootchain file in a directory where you have an HTTP   server. That file should have similar content (you need to enter the IP of   your host machine in a local network).</li> </ul> <pre><code>#!ipxe\n#\nkernel http://&lt;YOUR_IP&gt;:9000/bzImage root=/dev/nfs initrd=http://&lt;YOUR_IP&gt;:9000/dts-base-image-genericx86-64.cpio.gz\ninitrd http://&lt;YOUR_IP&gt;:9000/dts-base-image-genericx86-64.cpio.gz\nmodule http://&lt;YOUR_IP&gt;:9000/custom-script /sbin/ipxe-commands mode=755\nboot\n</code></pre> <ul> <li> <p>Copy your <code>custom-script</code> script in this same directory.</p> </li> <li> <p>Enter the iPXE shell on your device and load <code>dts.ipxe</code> bootchain file.</p> </li> </ul> <pre><code>iPXE&gt; dhcp\nConfiguring (net0 00:0d:b9:4b:49:60)...... ok\niPXE&gt; route\nnet0: 192.168.4.126/255.255.255.0 gw 192.168.4.1\niPXE&gt; chain http://192.168.4.98:9000/dts.ipxe\nhttp://192.168.4.98:9000/dts.ipxe... ok\nhttp://192.168.4.98:9000/bzImage... ok\nhttp://192.168.4.98:9000/dts-base-image-genericx86-64.cpio.gz... ok\nhttp://192.168.4.98:9000/custom-script... ok\n</code></pre> <p>Now your <code>custom-script</code> script should be copied to DTS rootfs as <code>ipxe-commands</code> and will be executed after boot.</p>"},{"location":"dasharo-tools-suite/documentation/#run-dts-using-ventoyos","title":"Run DTS using VentoyOS","text":"<p>Starting from version v1.1.1, we provide also an ISO formatted image. Thanks to that, it can be used with VentoyOS[1]. As for now the following limitations are known.</p> <ul> <li>VentoyOS needs to be started in UEFI mode.</li> <li>Nothing can be saved on root file system, as VentoyOS boots systems in   read-only mode.</li> </ul> <p>Please let us know if you started DTS using VentoyOS and have additional information for us. You can share them on Dasharo Matrix Workspace.</p>"},{"location":"dasharo-tools-suite/overview/","title":"Dasharo Tools Suite","text":""},{"location":"dasharo-tools-suite/overview/#overview","title":"Overview","text":"<p>Dasharo Tools Suite (DTS) is a set of tools running in a minimal Linux environment to deploy, update, and maintain firmware on Dasharo-supported devices. For example, it can be used to update the firmware on a device or run the initial deployment, even when no OS is currently installed.</p> <ul> <li>Releases - groups information about all releases.</li> <li>Documentation - describes DTS functionality and     information on how to run it.</li> </ul>"},{"location":"dasharo-tools-suite/overview/#reporting-issues","title":"Reporting issues","text":"<p>Thank you for using Dasharo Tools Suite. If you have encountered any problems with this system or would like to provide feedback for us - please open an issue on Dasharo issues.</p> <p>And if you have already used this system and would be interested in supporting the project, please check How to support us? section.</p>"},{"location":"dasharo-tools-suite/releases/","title":"Release Notes","text":"<p>Following Release Notes describe the status of Open Source Software development for Dasharo Tools Suite.</p> <p> Subscribe to Dasharo Tools Suite Newsletter </p>"},{"location":"dasharo-tools-suite/releases/#v128-2023-09-06","title":"v1.2.8 - 2023-09-06","text":""},{"location":"dasharo-tools-suite/releases/#images","title":"Images","text":"<p>USB bootable DTS v1.2.8 image sha256 sha256.sig</p> <p>DTS v1.2.8 ISO image sha256 ISO sha256.sig ISO</p> <p>To verify binary integrity with hash and signature please follow the   instructions in Dasharo release signature verification   using this key</p>"},{"location":"dasharo-tools-suite/releases/#changelog","title":"Changelog","text":"<p>Please, refer to changelog stored in <code>meta-dts</code> repository.</p>"},{"location":"dasharo-tools-suite/releases/#v126-2023-08-31","title":"v1.2.6 - 2023-08-31","text":"<p>Beta/preview release</p>"},{"location":"dasharo-tools-suite/releases/#images_1","title":"Images","text":"<p>USB bootable DTS v1.2.6 image</p>"},{"location":"dasharo-tools-suite/releases/#changelog_1","title":"Changelog","text":"<p>Please, refer to changelog stored in <code>meta-dts</code> repository.</p>"},{"location":"dasharo-tools-suite/releases/#v120-2023-05-10","title":"v1.2.0 - 2023-05-10","text":""},{"location":"dasharo-tools-suite/releases/#images_2","title":"Images","text":"<p>USB bootable DTS v1.2.0 image sha256 sha256.sig</p> <p>DTS v1.2.0 ISO image sha256 ISO sha256.sig ISO</p> <p>To verify binary integrity with hash and signature please follow the   instructions in Dasharo release signature verification   using this key</p>"},{"location":"dasharo-tools-suite/releases/#changelog_2","title":"Changelog","text":"<p>Please, refer to changelog stored in <code>meta-dts</code> repository.</p>"},{"location":"dasharo-tools-suite/releases/#v111-2023-02-20","title":"v1.1.1 - 2023-02-20","text":""},{"location":"dasharo-tools-suite/releases/#images_3","title":"Images","text":"<p>USB bootable DTS v1.1.1 image sha256 sha256.sig</p> <p>DTS v1.1.1 ISO image sha256 ISO sha256.sig ISO</p> <p>To verify binary integrity with hash and signature please follow the   instructions in Dasharo release signature verification   using this key</p>"},{"location":"dasharo-tools-suite/releases/#changelog_3","title":"Changelog","text":"<ul> <li>Fixed Dasharo zero-touch initial deployment on MSI PRO Z690-A, added DDR5   target with dedicated firmware.</li> <li>Blocked Dasharo zero-touch initial deployment on platforms where Dasharo   firmware was detected.</li> <li>Added couple UX improvements for Dasharo zero-touch initial deployment:<ul> <li>added platform verification step (show detected device information),</li> <li>added firmware verification step (show hash of using binary),</li> <li>added progress bar on first instructions,</li> <li>used reboot as default behavior after successful flashing.</li> </ul> </li> <li>Added improvements for HCL report.</li> <li>Added DTS ISO format image, and documentation about   VentoyOS usage.</li> <li>Improved <code>README</code> of the <code>meta-dts</code> repository.</li> <li>Added service to run shell commands from   iPXE.</li> <li>Added instructions for building PoC image with enabled UEFI Secure   Boot support.</li> </ul>"},{"location":"dasharo-tools-suite/releases/#v110-2022-11-02","title":"v1.1.0 - 2022-11-02","text":""},{"location":"dasharo-tools-suite/releases/#images_4","title":"Images","text":"<p>USB bootable DTS v1.1.0 image sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the   instructions in Dasharo release signature verification   using this key</p>"},{"location":"dasharo-tools-suite/releases/#changelog_4","title":"Changelog","text":"<ul> <li>Added Dasharo zero-touch   initial deployment   for a couple of supported platforms.</li> <li>Added multiple HCL report improvements, e.g. dump information about TPM, ME.</li> <li>Refactored Dasharo Tools Suite documentation.</li> <li>Added possibility to rollback using firmware dumped in HCL report.</li> <li>Added documentation about building Dasharo Tools Suite   image.</li> <li>Added Github Actions to automate new version building.</li> <li>Added new tools: cbfstool, cbmem, futil, intelmetool (all from Dasharo   coreboot fork),   binwalk,   uefi-firmware-parser,   mei-amt-check.</li> <li>Updated flashrom to version   dasharo-v1.2.2.</li> <li>Deploying iPXE boot artifacts on   boot.dasharo.com.</li> <li>Sharing build cache on cache.dasharo.com.</li> </ul>"},{"location":"dasharo-tools-suite/releases/#v102-2022-10-19","title":"v1.0.2 - 2022-10-19","text":""},{"location":"dasharo-tools-suite/releases/#images_5","title":"Images","text":"<p>USB bootable DTS v1.0.2 image sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the   instructions in Dasharo release signature verification   using this key</p>"},{"location":"dasharo-tools-suite/releases/#changelog_5","title":"Changelog","text":"<ul> <li>Added new vendor-specific menu entry, which is displayed only on supported   platforms. For now, NovaCustom menu was added for NovaCustom NV4x and   NovaCustom NS5x/7x laptops.</li> <li>DTS version is now printed in the main menu.</li> <li><code>ec_transition</code> script now supports NovaCustom NV4x laptops and automatically   download firmware used for transition both for NovaCustom NV4x NV4x and   NovaCustom NS5x/7x laptops, firmware   transition documentation is updated.</li> <li>Added kernel configuration to silence terminal logs by default (change   <code>loglevel</code> to 1).</li> <li>Enabled GOOGLE_MEMCONSOLE_COREBOOT kernel configuration to ease getting   firmware logs.</li> </ul>"},{"location":"dasharo-tools-suite/releases/#v101-2022-09-02","title":"v1.0.1 - 2022-09-02","text":""},{"location":"dasharo-tools-suite/releases/#images_6","title":"Images","text":"<p>USB bootable DTS v1.0.1 image sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the   instructions in Dasharo release signature verification   using this key</p>"},{"location":"dasharo-tools-suite/releases/#changelog_6","title":"Changelog","text":"<ul> <li>Added <code>system76_ectool</code> to enable Embedded Controller firmware   updating.</li> <li>Added <code>ec_transition</code> script, which helps with full Dasharo/Embedded   Controller firmware transition for   NovaCustom NS5x/7x.</li> <li>First public release: meta-dts-ce.</li> </ul>"},{"location":"dasharo-tools-suite/releases/#v100-2022-08-09","title":"v1.0.0 - 2022-08-09","text":""},{"location":"dasharo-tools-suite/releases/#images_7","title":"Images","text":"<p>USB bootable DTS v1.0.0 image sha256</p> <pre><code># assuming all files have been downloaded to the same directory without\n# changing names\nsha256sum -c [sha256 file]\n</code></pre>"},{"location":"dasharo-tools-suite/releases/#changelog_7","title":"Changelog","text":"<ul> <li>Added auto-login functionality.</li> <li>Added user menu.</li> <li>Dasharo HCL   Report, which adds   the ability to automatically dump device information and send it to 3mdeb   servers.</li> <li>Possibility to manually update the Dasharo   firmware.</li> <li>Bootable via iPXE.</li> <li>Bootable via USB.</li> <li>Tested on NovaCustom NV4x, Dell OptiPlex 7010/9010.</li> </ul>"},{"location":"dev-proc/documentation-guidelines/","title":"Documentation guidelines","text":"<p>That document can be treated as an onboarding into creating and maintaining documentation in projects developed by Dasharo Team. It is a set of general rules and tips that you should have in mind while writing guides to any projects in Dasharo repositories.</p>"},{"location":"dev-proc/documentation-guidelines/#table-of-content","title":"Table of content","text":"<ul> <li>General rules</li> <li>Document type</li> <li>Useful tools</li> <li>Formatting</li> <li>Diagrams</li> </ul>"},{"location":"dev-proc/documentation-guidelines/#general-rules","title":"General rules","text":"<ul> <li>Make a plan - before starting a new document, you should know how it will look. It is good to prepare a table of content first, and then fill up planned chapters.</li> <li>Read twice before publish - everyone make mistakes. Before committing your changes, it is good to read this again and make sure that you do not make any typos, a dump of commands output is correct, or there are no other mistakes.</li> <li>Goal of document - Documentation is not written for everyone. Some documents contain only a list of commands with minor descriptions, some of them were created to describe research results, and others may be written for non-technical persons with a huge amount of data that are obvious and unnecessary to read by developers. Because of that, you should always know for who you are writing that document - it may be developers, testers, or non-technical management.</li> <li>Hierarchy of information - most important information should always be on top of the document. We should start with the title, short description, and table of contexts. The rest of the chapters should start with the most important one.</li> <li>30/90 rule - It is good to ask your reporter or someone else to do a quick review where approx 30% of the work was done. At this moment, you probably have prepared the initial draft of the document with a table of content and some remarks about content in planned chapters. The second review should be done when 90%  of the work is finished, and the document is almost done. With that workflow, you can make sure that you are on the same page with a reporter.</li> <li>Existing resources - We should not duplicate content that was previously described in another document. Some steps or explanations are related to a few documents, and it is not necessary to write the same again. It is good to use references to existing documents (like hyperlinks) - because of that, updating and maintenance of documentation are easier because the change in one document is related to several others. Also, if you see that a related document is outdated, it will be a much better choice to review and update them instead of writing another new one from scratch.</li> <li>Maintenance - documentation may be outdated after a few changes. We should keep that in mind and prepare an updated schedule. One of the ideas is to mark related documents in every pull request with technical changes. Of course, the best solution is to improve documentation with every change in code/architecture, but it is not always possible due to deadlines or lack of time. Marking documents to update in the future allows us to do that on better occasions - and we prevent situations where the reader must inform us that the documentation is highly outdated - or even useless.</li> <li>Archive - Projects are changing, and some topics from the past are not existing now. If the document describes the working of a non-existing mechanism, we should move it to the special folder with archived content. We can go back to that solution in the future, but it must be moved out to as not to mislead the reader.</li> </ul>"},{"location":"dev-proc/documentation-guidelines/#document-type","title":"Document type","text":"<p>Good documentation should be written in one of four modes. It can be a tutorial, how-to guide, technical reference, or explanation. These modes were proposed by Diataxis framework, and we want to follow that method in the future. Generally:</p> <ul> <li>Tutorials are learning-oriented, and their purpose is to take the reader by the hand through a series of steps to complete a project of some kind. It may be a getting started guide, end2end process, or preparing the working environment.</li> <li>How-to-guides should be written as a step list that is required to solve the problem. They are goal-oriented, which is the main difference between tutorials: how-to guides lead to solving some problems and are not focused on the learning experience. For example, building system images or modifying boot parameters.</li> <li>Reference guides are technical descriptions, and it is information-oriented. It is only information about some technical thing without an explanation of it in the larger context. A good example of that is a requirement list, description of functions or variables used in the program, or list of supported platforms.</li> <li>Explanation is a discussion focused on the understanding of some topic, like boot flow, description of specific communication protocol, or device provisioning. That document should explain the subject, not instruct how to do something.</li> </ul> <p>We should not create documents that are not related to these modes.</p>"},{"location":"dev-proc/documentation-guidelines/#useful-tools","title":"Useful tools","text":"<ul> <li>grammarly.com - online writing assistant who can improve your grammar and make the document clear. A premium account is a very useful option, but it is not a must. Core functionalities are available for free. It is highly recommended to use the Grammarly tool before committing changes.</li> <li>hemingwayapp.com - make your writing clear. Sometimes it catches things that are not detected by Grammarly.</li> <li>draw.io - we use that to prepare diagrams.</li> <li>paste.dasharo.com - pastebin alternative hosted by Dasharo.</li> <li>asciinema.org - free and open-source solution for recording terminal sessions. Sometimes - especially in more complex cases, it is good to present command sequences in this way.</li> </ul>"},{"location":"dev-proc/documentation-guidelines/#formatting","title":"Formatting","text":"<p>General rules of formatting documents:</p> <ul> <li>Use markdown preview to verify that document is rendering correctly. That feature is available in VS code, Github/Gitlab web IDE, and other tools.</li> <li>Line with code should not have more than 80 characters. To follow that rule, it is good to set the line at width 80 in your IDE. Here is how to do it in VS code.</li> </ul> <p>We also maintain the repository Dasharo/dev-tools-configs with editors configs used by our community. Feel free to create PR with your configuration - you can give your proposition to improve existing settings or create configs for editors that don't exist yet in our repository. A properly configurated editor simplifies correct formatting.</p>"},{"location":"dev-proc/documentation-guidelines/#diagrams","title":"Diagrams","text":"<p>We use PlantUML for creating diagrams. To install PlantUML, run the following command in your terminal:</p> <pre><code>sudo dnf install plantuml\n</code></pre> <p>Now, install the PlantUML plugin in Visual Studio Code. You can do this in VS Code by pressing <code>Ctrl</code> + <code>p</code> and type in <code>ext install plantuml</code>.</p> <p>Create new files in the <code>/uml</code> folder of the docs repository. Remember to commit them along with other files when making changes.</p> <p>To show a preview of a <code>.uml</code> file, open it in the editor and press <code>Alt</code> + <code>D</code> to open a preview to the side. The preview will be automatically updated when you save the <code>.uml</code> file.</p> <p>To export a diagram to a <code>.png</code> file, when you're done making changes, press <code>Ctrl</code> + <code>Shift</code> + <code>P</code> and type in <code>plantuml export current diagram</code>. As you type, the option to export will be autocompleted for you. Press Enter and select <code>png</code> - or any other file format you may need. Exported files are saved to <code>out/</code> directory.</p> <p>For more information on the UML language and PlantUML, see the following links:</p> <ul> <li>https://holub.com/uml/</li> <li>https://modeling-languages.com/best-uml-cheatsheets-and-reference-guides/</li> <li>https://plantuml.com/</li> <li>https://open-vsx.org/extension/jebbs/plantuml</li> </ul>"},{"location":"dev-proc/feature-bug-fix-dev-process/","title":"Features and bug fixes development","text":"<p>We are in favor of Test Driven Bug Fixing methodology for which process looks as follows:</p> <ol> <li>Create automated test that validates feature or reproduces bug - test fails at    this point</li> <li>Pull upstream <code>master</code> branch to Dasharo forked repository <code>master</code> branch</li> <li>Merge <code>master</code> to <code>&lt;platform&gt;/develop</code></li> <li>Create new branch <code>&lt;platform&gt;/&lt;feature&gt;</code> from <code>&lt;platform&gt;/develop</code></li> <li>Commit changes to <code>&lt;platform&gt;/&lt;feature&gt;</code></li> <li>Run test written in point 1 and make sure it pass.</li> <li>Run <code>&lt;platform&gt;</code> regression test suite and make sure new feature does not    introduce new bugs.</li> <li>Submit PR to <code>&lt;platform&gt;/develop</code></li> </ol>"},{"location":"dev-proc/hcl-maintainer/","title":"Dasharo HCL Maintainer documentation","text":"<p>This documentaintion aims to describe how to maintain Dasharo Hardware Compatibility List for CPUs, memory, mainboards and GPU.</p>"},{"location":"dev-proc/hcl-maintainer/#generating-entry","title":"Generating entry","text":""},{"location":"dev-proc/hcl-maintainer/#dasharo-hcl-report-parsing","title":"Dasharo HCL report parsing","text":"<p>For reports uploaded to 3mdeb cloud please use dedicated script readme.</p>"},{"location":"dev-proc/hcl-maintainer/#extending-list","title":"Extending list","text":"<p>Please always sort table before publishing.</p> <p>In vim:</p> <ul> <li>Shift+V - to enter visual mode and mark whole range of entries.</li> <li>type <code>:</code> and <code>sort u</code> to run vim sort function on marked range and leave only   unique lines.</li> </ul>"},{"location":"dev-proc/hcl-maintainer/#github-report","title":"Github report","text":""},{"location":"dev-proc/hcl-maintainer/#github-pull-request","title":"Github pull request","text":"<p>Go through standard review process for Dasharo documentation.</p>"},{"location":"dev-proc/screenshots/","title":"Taking screenshots in firmware","text":""},{"location":"dev-proc/screenshots/#introduction","title":"Introduction","text":"<p>Dasharo EDKII fork comes with the functionality of taking screenshots. This is useful for creating guides, how-tos and tests. This document is meant to show the best practices for taking screenshots.</p>"},{"location":"dev-proc/screenshots/#resolution","title":"Resolution","text":"<p>When taking screenshots, remember to set the display mode to 80x25. This makes the pictures easier to read when embedded into documentation. Notice how this:</p> <p></p> <p>is easier to read than this:</p> <p></p> <p>To set the mode in UEFI:</p> <ul> <li>Enter the UEFI Setup Menu</li> <li>Select <code>One Time Boot</code></li> <li>Select <code>UEFI Shell</code></li> <li>Type in <code>mode 80 25</code> and press Enter to switch mode</li> <li>Type in <code>exit</code> to go back to setup menu</li> </ul> <p>You can browse the setup menu to take your screenshots now.</p>"},{"location":"dev-proc/screenshots/#taking-screenshots","title":"Taking screenshots","text":"<p>The key combination for taking screenshots is <code>LCtrl</code> + <code>LAlt</code> + <code>F12</code>. When taking screenshots, you'll notice a colored status indicator in the top left corner of the screen. The colors indicate:</p> <ul> <li>Yellow - no writable FS found, screenshot is not taken</li> <li>Blue - current GOP is pitch black, screenshot is not taken</li> <li>Red - something went wrong, screenshot is not taken</li> <li>Green - screnshot taken and saved to PNG file</li> </ul> <p>PNG files are saved to the first writable partition, which will in most cases be the EFI System Partition. You can mount the ESP in Dasharo Tools Suite, e.g.:</p> <pre><code># mount /dev/nvme0n1p1 /mnt\n</code></pre> <p>and then copy the files from there, or just <code>scp</code> them to your workstation.</p>"},{"location":"dev-proc/screenshots/#pikvm","title":"PiKVM","text":"<p>If a platform has PiKVM connected and configured, you can use it to take screenshots instead. This makes it easier to save taken screenshots to your workstation.</p> <p>To take a screenshot in PiKVM, simply click on the <code>System</code> menu in the top-right corner of the page and click on <code>Screenshot</code>:</p> <p></p> <p>This will open the screenshot in a new tab. From there you can <code>right-click</code> -&gt; <code>Save image as...</code>, or simply press <code>Ctrl</code> + <code>S</code> to save the image.</p>"},{"location":"dev-proc/screenshots/#cropping","title":"Cropping","text":"<p>If you changed the mode prior to taking the screenshot, you'll notice that the screenshot captured the entire framebuffer with the small content screen centered in the middle. You'll need to crop them to size for usage in docs. You can do this using GIMP's <code>Crop to Content</code> feature.</p>"},{"location":"dev-proc/smbios-rules/","title":"Dasharo Product Guidelines: SMBIOS Information","text":""},{"location":"dev-proc/smbios-rules/#introduction","title":"Introduction","text":"<p>This document describes the guidelines for filling in the SMBIOS fields in devices supported by Dasharo. It is meant to be used primarily as a reference for Dasharo developers.</p>"},{"location":"dev-proc/smbios-rules/#bios-information-type-0","title":"BIOS Information (Type 0)","text":""},{"location":"dev-proc/smbios-rules/#vendor-field","title":"Vendor field","text":"<p>The Vendor field, for firmware with release date after 13 January 2022, is set as follows:</p> <pre><code>3mdeb\n</code></pre> <p>For firmware with release date before 13 January 2022:</p> <pre><code>3mdeb Embedded Systems Consulting\n</code></pre>"},{"location":"dev-proc/smbios-rules/#bios-version-field","title":"BIOS Version field","text":"<p>The BIOS Version string is defined as follows:</p> <pre><code>Dasharo ([major_framework]+[minor_framework]) v[version]\n</code></pre> <ul> <li><code>major_framework</code> refers to the primary framework in which the firmware is   developed, e.g. <code>coreboot</code> or <code>UEFI</code>.</li> <li><code>minor_framework</code> is the secondary framework, a supporting component for the   primary framework, e.g. a coreboot payload. May not always be used, e.g. if   <code>edk2</code> is used as the primary framework.</li> <li><code>version</code> means version according to official   Dasharo Versioning documentation.</li> </ul> <p>For TianoCore UEFIPayloadPkg, we use the simpler and more recognizable UEFI name.</p> <p>Examples:</p> <ul> <li><code>Dasharo (coreboot+UEFI) v1.0.0</code> - for coreboot-based builds with TianoCore UEFIPayload</li> <li><code>Dasharo (coreboot+SeaBIOS) v1.0.0</code> - for coreboot-based builds with SeaBIOS payload</li> <li><code>Dasharo (coreboot+Heads) v1.0.0</code> - for coreboot-based builds with Heads payload</li> <li><code>Dasharo (UEFI) v1.0.0</code> - for plain edk2-based builds</li> </ul>"},{"location":"dev-proc/smbios-rules/#system-information-type-1","title":"System Information (Type 1)","text":""},{"location":"dev-proc/smbios-rules/#devices-with-an-existing-bios-implementation","title":"Devices with an existing BIOS implementation","text":"<p>In this case, set all the fields that are relevant (excluding BIOS version and vendor) to the same values as the stock firmware.</p> <p>To obtain SMBIOS values from the stock firmware, either:</p> <ul> <li>Obtain the <code>fwdump-docker</code> logs from 3mdeb cloud</li> <li>Run <code>dmidecode -t 1</code> on the machine itself</li> </ul>"},{"location":"dev-proc/smbios-rules/#devices-with-no-existing-bios-implementation","title":"Devices with no existing BIOS implementation","text":"<p>In the case where the device does not have an existing supported BIOS or the client chooses to use different SMBIOS fields (e.g. to make it easier to differentiate devices), refer to the SMBIOS specification v3.5.0.</p>"},{"location":"dev-proc/source-code-structure/","title":"Source code structure","text":"<p>Every repository forked and maintained by Dasharo Release Team has following branch structure:</p> <ul> <li><code>master</code> - follows upstream project master branch</li> <li><code>&lt;platform&gt;/release</code> - contains all code releases for given <code>&lt;platform&gt;</code>,   list of supported platforms is in   Hardware Compatibility List   section</li> <li><code>&lt;platform&gt;/rel_vX.Y.Z</code> - release branch for version X.Y.Z</li> <li><code>&lt;platform&gt;/develop</code> - contains most recent development and is periodically   synced with <code>master</code> branch</li> <li><code>&lt;platform&gt;/&lt;feature&gt;</code> - tracks development of platform specific feature</li> </ul> <p><code>&lt;platform&gt; = &lt;coreboot_mainboard_vendor&gt;_&lt;coreboot_mainboard_model&gt;</code> if platform is supported by coreboot, otherwise we use common sense and available information about hardware.</p>"},{"location":"dev-proc/source-code-structure/#remotes","title":"Remotes","text":"<p>It is assumed that upstream repository is cloned and remote named <code>dasharo</code> is added later. This has to be done in order to pull git submodules from upstream repository so they don't have to be kept on Dasharo's repository. This can be done like this:</p> <pre><code>git clone https://review.coreboot.org/coreboot.git\ncd coreboot\ngit submodule update --init --checkout\ngit remote add dasharo git@github.com:Dasharo/coreboot.git\n</code></pre> <p>If everything was done properly, this is expected state of remotes:</p> <pre><code>git remote -v\ndasharo git@github.com:Dasharo/coreboot.git (fetch)\ndasharo git@github.com:Dasharo/coreboot.git (push)\norigin  https://review.coreboot.org/coreboot.git (fetch)\norigin  https://review.coreboot.org/coreboot.git (push)\n</code></pre>"},{"location":"dev-proc/source-code-structure/#tags","title":"Tags","text":"<p>Dasharo Release tags in git repository use format: <code>&lt;platform&gt;_vX.Y.Z</code></p>"},{"location":"dev-proc/source-code-structure/#new-platform-support","title":"New platform support","text":"<p>Branch for new platform should be created from most recent<code>master</code> branch tag. If there is justified need to create support for new board at arbitrary non-tagged commit developer should mark this commit with <code>&lt;platform&gt;_v0.0.0</code> tag.</p>"},{"location":"dev-proc/source-code-structure/#force-pushes-rules","title":"Force-pushes rules","text":"<p>Force-pushes to <code>&lt;platform&gt;/rel_vX.Y.Z</code>, <code>&lt;platform&gt;/develop</code> or <code>&lt;platform&gt;/&lt;feature&gt;</code> are forbidden with following exceptions:</p> <ul> <li>rebasing - when some other PR is merged to target branch before our does, or   when upstream's master introduces the same fixes that our branch would</li> <li>squashing - to not produce unnecessary \"fix indentation\" or \"add missing   braces\" commits to the history</li> <li>(re-)signing commits (both -S and -s) - shouldn't happen, but if it does   happen it would be better to have it fixed by original author than the person   that tries to upstream it some time later.</li> </ul> <p>Force-pushes to  <code>&lt;platform&gt;/release</code> branches are unconditionally forbidden.</p>"},{"location":"dev-proc/source-code-structure/#merging-guidelines","title":"Merging guidelines","text":"<p>We want to keep the history linear. The <code>rebase</code> merging strategy is desired. Merge commits in the code repositories are not allowed. The <code>rebase</code> strategy should be the only one available in the GitHub web UI.</p> <p>It is, however, strongly advised not to use GitHub web UI to perform code merges. The <code>signed-off</code> tends to be dropped (even when using the <code>rebase</code> strategy), which is problematic for some projects (e.g. it makes the coreboot lint checks fail after merging from the UI).</p> <p>The procedure of merging is as follows:</p> <ol> <li>Review the code in GitHub.</li> <li>Make sure to receive at least one <code>Approve</code> in the review process.</li> <li>Make sure that all change requests are resolved.</li> <li> <p>Merge the branch using git CLI. In case of merging the <code>feature</code> branch into    <code>develop</code> branch it may look as follows:</p> <pre><code>git fetch dasharo\ngit checkout dasharo/&lt;platform&gt;/develop -b &lt;platform&gt;/develop\ngit merge --ff-only dasharo/&lt;platform&gt;/&lt;feature&gt;\ngit push dasharo &lt;platform&gt;/develop\n</code></pre> </li> <li> <p>This should automatically trigger closing the MR in the GitHub web UI.</p> </li> <li> <p>The remote branch can be safely deleted after this process.</p> <pre><code>git push dasharo --delete &lt;platform&gt;/&lt;feature&gt;\n</code></pre> </li> <li> <p>Note that the merging may fail if the source (in this case: <code>feature</code>) branch    is not properly rebased on top of the target (in this case: <code>develop</code>)    branch. In such a case, one must rebase the source branch first:</p> </li> </ol> <pre><code>git checkout dasharo/&lt;platform&gt;/&lt;feature&gt;\ngit checkout -b &lt;platform&gt;/&lt;feature&gt;\ngit rebase dasharo/&lt;platform&gt;/&lt;develop&gt;\ngit push -f dasharo &lt;platform&gt;/&lt;feature&gt;\n</code></pre>"},{"location":"dev-proc/standard-release-process/","title":"Standard Release Process","text":"<p>Following procedure is generic description of release process of firmware for supported hardware platforms. Precise steps and any difference from standard process are described in platform specific documentation.</p> <p>Description here is, intentionally, Open Source Firmware framework agnostics and should be maintained in that way.</p>"},{"location":"dev-proc/standard-release-process/#process-steps","title":"Process steps","text":"<ol> <li>Checkout new branch <code>&lt;platform&gt;/rel_vX.Y.Z</code> from recent commit on    <code>&lt;platform&gt;/release</code> - to understand versioning scheme please read    Versioning section</li> <li>Merge current <code>&lt;platform&gt;/develop</code> to <code>&lt;platform&gt;/rel_vX.Y.Z</code></li> <li>Run platform regression test suite</li> <li>Fix all required issues and repeat point 3 until fixed - this doesn't mean    all tests pass, this mean that approved set passed</li> <li>If results are accepted merge it to <code>&lt;platform&gt;/release</code> branch</li> <li> <p>Add tag, which should trigger CI and publish binaries. Tag should be    annotated and signed. For example:</p> <pre><code>git tag -a -s -m \"&lt;platform&gt;_vX.Y.Z\" &lt;platform&gt;_vX.Y.Z\n</code></pre> </li> <li> <p>Merge release branch to develop</p> </li> </ol>"},{"location":"dev-proc/versioning/","title":"Versioning","text":"<p>Dasharo Releases are versioned using Semantic Versioning and Keep A Changelog to document changes introduced in new releases.</p> <p>Major version zero (0.y.z) is for initial development or first release issued and may not support all Dasharo Quality Criteria.</p> <p>The only way to map Dasharo Version to version of Open Source Firmware framework or other components included in Dasharo Release is through release notes. Link to Dasharo Release Notes for your hardware platform can be found in menu on the left side (Supported Hardware-&gt;Hardware Model-&gt;Releases).</p> <p>Dasharo Releases can be divided into two categories:</p> <ul> <li>Dasharo Entry Subscription Releases (previous Dasharo Supporters Release for   Dasharo Support Entrance Subscribers)</li> <li>Dasharo Community Releases</li> </ul>"},{"location":"dev-proc/versioning/#dasharo-entry-subscription-releases","title":"Dasharo Entry Subscription Releases","text":"<p>Dasharo Entry Subscription subscribers receive firmware updates more frequently than the community. The number of updates per year depends on the number of Dasharo Entry Subscriptions sold and the availability of other funding (e.g., NLNet, corporate sponsors, community donations) but is less than 2 updates per year. Dasharo Entry Subscription Releases are characterized by a changing patch version (<code>z</code>). Fixes and features introduced in Dasharo Entry Subscription Releases will also be available later as Dasharo Community Releases with public pre-built binaries in the respective release pages. In short, being a Dasharo Subscriber gives early access to the newest features and fixes.</p> <p>How to become Dasharo Entry Subscription subscriber?</p>"},{"location":"dev-proc/versioning/#dasharo-community-releases","title":"Dasharo Community Releases","text":"<p>Dasharo Community Releases are built and published once a year. Each Dasharo Community Release has a zero patch version (<code>x.y.0</code>) and the only changing number is the minor version <code>y</code>. To be up-to-date with latest Dasharo Community Release updates, one can subscribed to free of charge mailing list for given hardware platform, for which the link can be found in menu on the left side (Supported Hardware-&gt;Hardware Model-&gt;Releases).</p>"},{"location":"dev-proc/versioning/#signing-keys","title":"Signing keys","text":"<p>In Dasharo we use following rules for keys:</p> <ul> <li>GPG RSA 4096 for signing and authentication and subkey for encryption</li> <li>There few types of naming conventions, which define <code>Real Name</code> field and   chain of trust schemes:<ul> <li>Software:<ul> <li>Real Name: <code>&lt;name&gt; open-source software release &lt;version&gt; signing key</code></li> <li>Signing key: <code>3mdeb Open Source Software Master Key &lt;contact@3mdeb.com&gt;</code></li> </ul> </li> <li>Firmware:<ul> <li>Real Name: <code>&lt;name&gt; open-source firmware release &lt;version&gt; signing key</code></li> <li>Signing key: <code>3mdeb Dasharo Master Key</code></li> </ul> </li> <li>PC Engines (firmware exception):<ul> <li>Real Name: <code>PC Engines open-source firmware release &lt;version&gt; signing key</code></li> <li>Signing key: <code>3mdeb Open Source Firmware Master Key &lt;contact@3mdeb.com&gt;</code></li> </ul> </li> <li>Dasharo firmware produced by 3mdeb:<ul> <li>Real Name: <code>Dasharo release &lt;version&gt; compatible with &lt;name&gt; signing key</code></li> <li>Signing key: <code>3mdeb Dasharo Master Key</code></li> </ul> </li> <li>For Dasharo firmware produced by 3mdeb on customer's behalf:<ul> <li>Real Name: <code>Dasharo open-source firmware &lt;version&gt; for &lt;name&gt; signing key</code></li> <li>Signing key: <code>3mdeb Dasharo Master Key</code></li> </ul> </li> </ul> </li> </ul> <p><code>&lt;name&gt;</code> typically is in form <code>&lt;vendor&gt; &lt;model&gt;</code> or just <code>&lt;vendor&gt;</code> if we release firmware for whole line of products which can be support in one binary e.g. PC Engines. Examples:</p> <ul> <li><code>Dell OptiPlex 7010/9010</code></li> <li><code>ASUS KGPE-D16</code></li> <li><code>MSI MS7D25</code></li> <li><code>NovaCustom</code></li> <li><code>Tuxedo</code></li> </ul> <p>Most recent status should be reflected in 3mdeb-secpack repository.</p>"},{"location":"ecosystem/overview/","title":"Ecosystem Overview","text":"<p>Dasharo ecosystem contain multiple components on various levels of organization. This section overview role of every component.</p> <p></p> <ul> <li>Open Source Firmware Community - semi-organised collections of contributors   to projects related to embedded firmware. Dasharo project contributors are   part of OSF community.</li> <li>Development - Dasharo Development describes processes which Embedded Firmware   Team uses for the development of Dasharo Modules, which are sometimes custom   services, but most of the time ready to use productised services, Open Core   or SaaS.</li> <li>Production - Dasharo Production describes the process of putting together Dasharo   Modules according to specific requirements. In this section we describe   development infrastructure, build environment, CI/CD and build publishing   methods. We also cover how production interacts with Dasharo Transparent   Validation System.</li> <li>Customer Infrastructure - Some customers may have the need of replicating part   of Dasharo Production process and infrastructure in their own environment,   which leads to repositories synchronization, different CI/CD setup and other   needs. This section describes interaction with Customer Infrastructure and   which part of Dasharo Production is deployable on the customer site.</li> <li>Transparent Validation - Dasharo Transparent Validation (DTV) is a set of   software, firmware and hardware components with the goal of simplifying and   improving long term maintenance of Dasharo firmware. In this section we   introduce components which belong to DTV.</li> <li>Testing Infrastructure - Part of Dasharo Transparent Validation responsible   for scheduling automated testing, publishing test results and interacting   with Dasharo Production in the area of release candidate quality confirmation.</li> </ul>"},{"location":"ecosystem/roadmap/","title":"Roadmap","text":"<p>Each features on below roadmap should be placed in public issue tracker, so it can be publicly referenced. Some places where issues can be discussed:</p> <ul> <li>Dasharo Github issues repo<ul> <li>especially issues tagged <code>enhancement</code>.</li> </ul> </li> <li>coreboot issues tracker</li> <li>edk2 bugzilla</li> </ul>"},{"location":"ecosystem/roadmap/#backlog","title":"Backlog","text":"<ul> <li>TrenchBoot Roadmap     firmware related issues.</li> <li>Dasharo Reference OS on USB stick to simplify firmware deployment</li> <li>fwupd/LVFS for firmware deployment</li> <li>ipxe for firmware deployment</li> </ul>"},{"location":"guides/dasharo-reviewers-guide/","title":"Dasharo Reviewers Guide","text":"<p>Based on reviews of Dasharo compatible with MSI Z690-A DDR4/DDR5, we created the following guide to explain the performance gap between MSI proprietary and Dasharo open-source firmware, but in the long run, the same discoveries can apply to other Dasharo and open-source firmware solutions.</p>"},{"location":"guides/dasharo-reviewers-guide/#introduction","title":"Introduction","text":"<p>During the 23+ years of coreboot's existence, one aspect that has never been in-depth tested is how its performance compares against proprietary firmware solutions that run on the same hardware platform. The lack of performance testing is because, for most of the interested parties, the selling point of coreboot was the transparency of being open-source, and this rarely made direct comparisons about other features or functionality. Historically, most of what we could find about coreboot performance involves the lower POST times claims, but there needs to be more information regarding its runtime performance as measured in benchmarks, which is a significant point that end users are interested in. Sadly, we need more internal resources and the necessary field experience to conduct such exhaustive benchmark testing. Several significant findings came from third-party benchmarks and community reports, which is enough to know our current standing. Professional hardware reviewers should be better at performing and analyzing measures than we are.</p>"},{"location":"guides/dasharo-reviewers-guide/#why-we-ask-to-fine-tune-settings","title":"Why We Ask To Fine Tune Settings","text":"<p>In general, we found out in our limited benchmarking that performance out-of-the-box with Dasharo is measurably lower than performance with MSI proprietary firmware, in the order of 6-8% on the benchmarked Core i5 12600K. Lower performance was quickly tracked down to MSI using, by default, certain processor operating parameters that are quite different from the values stated on the Intel datasheets, resulting in alterations of the processor behavior that allows it to sustain Turbo Boost with higher clock speeds and for longer periods than otherwise possible, and thus appear to perform better overall. After normalizing across both MSI proprietary firmware and Dasharo, the values we found were different, and the benchmark difference was reduced to around 2% (21:19- 29:00).</p> <p>We also found several review websites that have already written articles and analysis about this matter. Mainboard vendors use default values above those specified by Intel (technically overclocking) to produce better performance results in benchmarks (AnandTech, TechSpot, VideoCardz, Gamers Nexus about cheating, GamersNexus about MSI default settings, GamersNexus Z490 YouTube Review, TechPowerUp, Tom's Hardware). Depending on whom you ask, using aggressive values by default can be seen either as a convenience, since the end user gets more performance without having to know how to configure the firmware, or as a form of cheating, due to the end user usually having no idea about these changes and that they are overclocking out-of-the-box. As for the time being, we're sticking to Intel specification default values; these mainboard vendors' custom optimizations hurt us because it makes the difference look much bigger than it is.</p> <p>What we want to showcase is how Dasharo (for this MSI port, coreboot + EDKII UefiPayloadPkg) performance compares against the proprietary firmware codebase. The only way to do so accurately is by ensuring that the hardware operating values are the same in both Dasharo and the original firmware so that the performance differences are not due to higher processor clock speeds thanks to higher Power Limits, unlimited Turbo Boost times, or similar tricks. Note that we are okay with out-of-the-box comparisons, but that wouldn't be directly an apples-to-apples comparison of the performance of both firmware codebases, which is our point. Thus, to make it fair, the hardware has to be tweaked to run with the same operating values on both. As you can't change values on Dasharo unless you're willing to recompile (or ask for a custom build with tweaked values), the easiest way is by bringing MSI firmware values down to Dasharo/Intel levels.</p>"},{"location":"guides/dasharo-reviewers-guide/#find-your-processor-intel-default-parameters","title":"Find Your Processor Intel Default Parameters","text":"<p>So far we've found six processor-configurable parameters that differ significantly: PL1, PL2, PL1 Tau, ICCMAX, DC_LL, and AC_LL. coreboot uses the values found on two sections of the Intel 12th Generation Intel Core Processors Datasheet (Volume 1 of 2).  You will have to check the datasheet to find the proper values for your processor so that you can manually input them onto MSI firmware. In the case of MSI firmware default values, we found no public information, so we only know how it autoconfigures the processors we tested. Note that on the datasheet, Intel doesn't mention processor models by name/number but instead classifies them by amount of P+E cores and Base Power TDP, so first, you have to check these two values from Intel Ark for your processor model, then check on the Datasheet tables what matches both classes to get the Intel default values for the configurable parameters.</p> <p>Here are examples covering the 12400, 12600K, 12900K and 12900KS (<code>Processor Line Thermal and Power - Package Turbo Specifications (S / HX - Processor Lines) - S-Processor Line LGA</code>) from this section of datasheet:</p> <ul> <li>12400 6+0 Core 65W PL1 = 65W PL2 = 117W PL1 Tau = 28s</li> <li>12600K 6+4 Core 125W PL1 = 125W PL2 = 150W PL1 Tau = 56s</li> <li>12900K 8+8 Core 125W PL1 = 125W PL2 = 241W PL1 Tau = 56s</li> <li>12900KS 8+8 Core 150W PL1 = 150W PL2 = 241W PL1 Tau = 56s</li> </ul> <p><code>VCCCORE DC Specifications - Processor VCCCORE Active and Idle Mode DC Voltage and Current Specifications - Segment S-Processor Line</code>  from this section of datasheet:</p> <ul> <li>12400 S-Processor Line (65W) 6+0 -Core ICCMAX = 151A DC_LL/AC_LL = 1.7 m\u03a9 (170)</li> <li>12600K S-Processor Line (125W) 6+4 -Core ICCMAX = 175A DC_LL/AC_LL = 1.7 m\u03a9 (170)</li> <li>12900K S-Processor Line (125W) 8+8 -Core ICCMAX = 280A DC_LL/AC_LL = 1.1 m\u03a9 (110)</li> <li>12900KS S-Processor Line (150W) 8+8 -Core ICCMAX = 280A DC_LL/AC_LL = 1.1 m\u03a9 (110)<sup>1</sup></li> </ul> <p>On S-Processor Line, AC_LL is the same as DC_LL.</p> <p>For reference, on a 12600K, the MSI 1.70 firmware on Auto with CPU Cooler Tuning set to Boxed Cooler (lowest values for auto-configuration) uses the following values vs. Dasharo/Intel defaults:</p> <ul> <li>MSI BIOS 1.70 PL1 = 241W PL2 = 241W PL1 Tau = 56s ICCMAX = 250A DC_LL/AC_LL = 80</li> <li>Dasharo 1.1.0 PL1 = 125W PL2 = 241W PL1 Tau = 56s ICCMAX = 175A DC_LL/AC_LL = 170</li> </ul>"},{"location":"guides/dasharo-reviewers-guide/#configure-msi-firmware-with-intel-default-parameters","title":"Configure MSI Firmware With Intel Default Parameters","text":"<p>After you have found your processor model values, you can input them on MSI firmware. Most likely, you want to start from default settings.</p> <p>Enter MSI Firmware, and change the following:</p> <ul> <li>Settings Menu (Left Panel) -&gt; Save &amp; Exit</li> <li>Restore Defaults (Confirm Yes)</li> <li>Save Changes and Reboot (Confirm Yes)</li> </ul> <p></p> <p>After the power off/on cycle, enter MSI firmware again, change the following values, then repeat Save Changes and Reboot:</p> <ul> <li>OC Menu (Left Panel) -&gt; Advanced CPU Configuration<ul> <li>Enhanced Turbo: Disabled (This is MSI name for Multi Core Enhancement)</li> <li>Long Duration Power Limit(W): PL1</li> <li>Long Duration Maintained(s): PL1 Tau</li> <li>Short Duration Power Limit(W): PL2</li> <li>CPU Current Limit (A): ICCMAX</li> <li>CPU Lite Load Control: Advanced (Required to input DC_LL and AC_LL as   numbers instead of \"Modes\")</li> <li>CPU AC Loadline: AC_LL</li> <li>CPU DC Loadline: DC_LL</li> </ul> </li> </ul> <p> </p>"},{"location":"guides/dasharo-reviewers-guide/#miscellaneous-comments","title":"Miscellaneous Comments","text":"<ul> <li>Since you can software flash Dasharo and flash MSI firmware again on the same   system, you likely want to use the same computer to test both firmware so   that no temperature or clock speeds difference could attribute to different   pressure on heatsink mounting or silicon lottery.</li> <li>MSI firmware bases its default (Auto) PL1, PL2, and ICCMAX values on the CPU   Cooler Tuning set. When using Restore Defaults on a 12600K, this setting   defaults to Water Cooler, which allows for technically unlimited PL1 and PL2   (4095W). Even the Boxed Cooler setting configures the 12600K to 241W PL1 and   241W PL2. Thus, you must manually set the individual values for controlled   results.</li> <li>So far, the setting that most affected benchmark scores are AC_LL and DC_LL.   PL1, PL2 and ICCMAX are limiting. They are only meaningful if the processor   gets limited by them, which would depend on the processor model (some have more   headroom than others. PL1 is 125W for both 6+4 12600K and 8+8 12900K, the   latter would be severely more limited), whereas the other two values are always   in effect.</li> </ul> <p>On the tested 12600K, the effect of the significantly lower values of AC_LL on DC_LL that MSI uses is a rather massive difference of 20 Watts in power consumption (as reported by ThrottleStop and HWiNFO, and also by lower processor temperatures) when running Cinebench R23. Thus, with MSI values (whenever on MSI or a custom Dasharo build with those), the 12600K doesn't even reach the PL1 limit, allowing it to maintain the highest Turbo Boost clock speeds infinitely, whereas, on Dasharo (or MSI with Intel default values), the extra power consumption makes it to go beyond PL1, eventually throttling back to slower clocks to keep under PL1.</p> <ul> <li>LCC (Loadline Calibration Control) is also present in another menu as CPU   Loadline Calibration Control, but we left it at Auto. We need to find out if   changes in CPU Lite Load Control / CPU AC Loadline / CPU DC Loadline change it   or if LCC operates the same regardless of changes to the previous options.</li> <li>The most critical performance-related bug we found in Dasharo involves   benchmarking Single Thread applications on Windows 11. With Dasharo, Windows   11 CPU Scheduler likes to move threads around between P and E cores, whereas   MSI firmware on the same scenario instead always favors P cores. Such behavior   significantly affects the scores of Single-Threaded benchmarks and makes them   highly variable depending on which core type a thread spent most of its time.   There may be MSRs (Model Specific Registers) related to Intel Thread Director   that we aren't aware of that manages this. The only workaround found is to set   CPU Affinity manually, which can be performed automatically with Process Lasso,   with the bonus of using Forced Mode to continuously re-apply the CPU Affinity   settings, as some applications, including Cinebench, like to change them when   you start to run the benchmark. Of course, this will not happen on P core, only   models like 12400. We did not test manual affinity tested on Linux.</li> <li>Dasharo currently doesn't support manually changing the memory clock speeds,   and it will default to the highest standard JEDEC profile supported by the   installed memory modules. MSI firmware also defaults to JEDEC profiles, so   out-of-the-box, they're matched at memory configuration, thus not a problem.   Many enthusiast-grade DDR4 modules use 3200 MHz (maximum supported by Alder   Lake-S) or higher and have that clock speed as an XMP profile, whereas the   standard JEDEC profile could be just 2133 or 2400 MHz. In most cases, a 3200   MHz DDR4 module will run at lower speeds than expected. There are modules rated   for JEDEC 3200 MHz 22-22-22 @ 1.2V that should work in both Dasharo and MSI   firmware, in case you're interested in testing this. It is also possible to   force Dasharo to use an XMP profile if you're willing to recompile or use a   custom build.</li> <li>There are a lot of other settings and MSRs (Model Specific Registers) that we   have yet to test. We track the progress of that effort in this   issue. Public Alder Lake FSP Integration Guide documents how to set   these settings On or Off, but there are few details about how they change the   Processor behavior. The remaining 2% of performance will come from matching all   these settings.</li> </ul> <ol> <li> <p>On the public datasheet, there is no DC_LL for the 8+8 150W class, only   8+8 125W, but we can confirm from alternate sources that this is the correct value.\u00a0\u21a9</p> </li> </ol>"},{"location":"guides/firmware-update/","title":"Firmware update","text":""},{"location":"guides/firmware-update/#introduction","title":"Introduction","text":"<p>This document describes the process for updating firmware on devices running Dasharo firmware. Some steps specific to each device will be described in their respective documentation, but the generic process outlined here will apply to all devices.</p>"},{"location":"guides/firmware-update/#firmware-update-mode","title":"Firmware Update Mode","text":"<p>For enhanced firmware security, Dasharo uses a number of security mechanisms to prevent overwriting firmware. Depending on device, these may be some or all of the following:</p> <ul> <li>SPI flash write-protection - prevents overwriting the initial bootblock and   Verified Boot code</li> <li>SMM BIOS write protection - prevents all writes to BIOS flash memory outside   of privileged code running in System Management Mode</li> <li>UEFI Secure Boot - in combination with Linux Kernel Lockdown, prevents direct   access to the SPI flash controller from the OS</li> </ul> <p>If you are interested, see the Dasharo System Features section for more details.</p> <p>To allow updating firmware by the end user, these protections must be disabled first. To facilitate this, Dasharo has a Firmware Update Mode option that temporarily disables firmware security measures for the duration of one boot.</p> <p>To enter Firmware Update Mode:</p> <ol> <li>Enter the Setup Menu and navigate to Dasharo System Features: </li> <li>Navigate to <code>Dasharo Security Options</code>: </li> <li>Select <code>Firmware Update Mode</code>: </li> <li>When prompted, press Enter to accept. The device will reboot in Firmware   Update Mode. </li> <li>After reboot, when prompted, press the indicated key on the keyboard.   Alternatively, to abort Firmware Update Mode, press Enter instead or simply   wait for the timeout to expire.</li> </ol> <p>Once in Firmware Update Mode, proceed with the firmware update steps outlined in device-specific documentation.</p>"},{"location":"guides/firmware-update/#firmware-update-mode-flowchart","title":"Firmware Update Mode flowchart","text":""},{"location":"guides/image-customization/","title":"Dasharo image customization","text":""},{"location":"guides/image-customization/#introduction","title":"Introduction","text":"<p>Sometimes it is necessary to customize the image by changing the logo displayed on boot or to set a unique UUID or Serial Number for SMBIOS. Dasharo Configuration Utility is a simple script that help with these tasks.</p>"},{"location":"guides/image-customization/#prerequisites","title":"Prerequisites","text":"<p>Following packages must be installed:</p> <ul> <li><code>imagemagick</code> (for <code>convert</code> command)</li> <li><code>util-linux</code> (for <code>uuidparse</code> command)</li> </ul> <p>The script will exit with an error if any of above are not present.</p> <p>Additionally the script makes use of coreboot's cbfstool to modify the images, so it is required to be available to the script. The script will try to find the `cbfstool`` installed in the system. If not found, then it searches for cbfstool in the current directory. If not found, then it tries to download the cbfstool from 3mdeb's FTP (compiled using instructions in Compiling cbfstool). If that fails, the script will exit with an error.</p>"},{"location":"guides/image-customization/#usage","title":"Usage","text":"<pre><code>Usage: dcu OPTIONS coreboot.rom\n\n  coreboot.rom  - Dasharo coreboot file to modify\n\n  OPTIONS:\n    -u | --uuid &lt;UUID&gt;              - UUID in RFC4122 format to be set in SMBIOS type 1 structure\n    -s | --serial-number &lt;SERIAL&gt;   - Serial number to be set in SMBIOS type 1 and type 2 structure\n    -l | --logo &lt;LOGO&gt;              - Custom logo in BMP/PNG/JPG/SVG format to be displayed on boot\n\n  Examples:\n    ./dcu -u 96bcfa1a-42b4-6717-a44c-d8bbc18cbea4 -s D07229051 -l ~/logo.svg coreboot.rom\n\n    ./dcu -u `dmidecode -s system-uuid` -s `dmidecode -s baseboard-serial-number` coreboot.rom\n      Above command will obtain the current SMBIOS UUID and Serial Number\n      from the system and patch the coreboot binary.\n</code></pre> <p><code>dcu</code> can be used as a standalone script (paired with cbfstool) and is also available in Dasharo Tools Suite.</p> <p>The script will save the UUID and Serial Number to the COREBOOT region and the logo to BOOTSPLASH region.</p> <p>NOTE: Not all Dasharo platform support such customizations.</p> <p>NOTE: if you update the firmware by rewriting whole BIOS region, the data will be lost. To avoid data loss during the COREBOOT region update, Dasharo firmware will keep the copies of Serial Number and UUID in the UEFI variables on normal boot, so that in the potential firmware update in the future, the data will be kept (as long as UEFI variables are not erased).</p>"},{"location":"guides/image-customization/#error-codes","title":"Error codes","text":"<ul> <li>0 - no error</li> <li>1 - unknown argument/option</li> <li>2 - <code>uuidparse</code> not found</li> <li>3 - <code>convert</code> not found</li> <li>4 - coreboot image not found or invalid path</li> <li>5 - <code>cbfstool</code> not found</li> <li>6 - failed to extract coreboot configuration file from coreboot image</li> <li>7 - configurable UUID not supported by given coreboot image</li> <li>8 - invalid UUID format</li> <li>9 - failed to set the UUID (more detailed error information in the script       output)</li> <li>10 - configurable Serial Number not supported by given coreboot image</li> <li>11 - failed to set the Serial Number (more detailed error information in the        script output)</li> <li>12 - logo file not found or invalid path</li> <li>13 - unsupported logo file format</li> <li>14 - customizable logo not supported by given coreboot image</li> <li>15 - logo file too big to fit in given coreboot image</li> <li>16 - failed to set the logo (more detailed error information in the script        output)</li> </ul>"},{"location":"guides/image-customization/#compiling-cbfstool","title":"Compiling cbfstool","text":"<pre><code>git clone https://review.coreboot.org/coreboot.git\ncd coreboot\nTOOLLDFLAGS=-static make -C util/cbfstool\nstrip --strip-unneeded util/cbfstool/cbfstool\n</code></pre> <p>Copy the <code>util/cbfstool/cbfstool</code> to the directory where <code>dcu</code> is saved. Alternatively you make install <code>cbfstool</code> to your system: <code>TOOLLDFLAGS=-static sudo make -C util/cbfstool install</code>.</p> <p></p>"},{"location":"guides/logo-customization/","title":"Boot logo replacement instructions","text":""},{"location":"guides/logo-customization/#introduction","title":"Introduction","text":"<p>The logo displayed at boot can be customized according to the client's preferences. For this, we have created a script that automates the process of replacing the logo.</p>"},{"location":"guides/logo-customization/#procedure","title":"Procedure","text":"<p>Use the Dasharo Configuration Utility to put custom logo into a Dasharo coreboot image.</p> <pre><code>./dcu -l &lt;logo_file&gt; &lt;dasharo_image&gt;\n</code></pre>"},{"location":"guides/signature-verification/","title":"Dasharo release signature verification","text":"<p>Dasharo uses digital signatures to guarantee the authenticity and integrity of certain important assets. This page explains how to verify those signatures. It is extremely important for your security to understand and apply these practices.</p>"},{"location":"guides/signature-verification/#why-one-should-verify-the-signatures","title":"Why one should verify the signatures?","text":"<p>Please refer to Qubes OS signature verification page: What digital signatures can and cannot prove.</p>"},{"location":"guides/signature-verification/#signature-verification-prcocedure","title":"Signature verification prcocedure","text":"<p>Each published Dasharo release is signed with a signing key corresponding to given platform and versions. The key infrastructure is stored in 3mdeb-secpack.</p> <p>For the signature verification we use the OpenPGP software like Qubes OS.</p> <p>To verify the integrity of the binaries published in release notes on this site, please follow the instructions below:</p> <ol> <li> <p>Import necessary keys to your keyring:</p> <pre><code>wget https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/keys/master-key/3mdeb-master-key.asc \\\n-O - | gpg --import -\n</code></pre> <pre><code>wget https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/3mdeb-dasharo-master-key.asc  \\\n-O - | gpg --import -\n</code></pre> <pre><code>wget &lt;release signing key URL&gt; -O - | gpg --import -\n</code></pre> <ul> <li><code>&lt;release signing key URL&gt;</code> is provided in the release notes</li> </ul> </li> <li> <p>Check the signatures on the keys:</p> <pre><code>gpg --check-signatures \"Dasharo\" \"3mdeb\"\n</code></pre> </li> <li> <p>Download the binaries, SHA sums and their signature files</p> <pre><code>export BIN_URL=https://3mdeb.com/open-source-firmware/Dasharo/...\n</code></pre> <pre><code>wget ${BIN_URL} ${BIN_URL}.sha256 ${BIN_URL}.sha256.sig\n</code></pre> </li> <li> <p>Verify the signatures and binary integrity:</p> <pre><code>gpg -v --verify `basename $BIN_URL`.sha256.sig `basename $BIN_URL`.sha256\n</code></pre> <pre><code>sha256sum -c `basename $BIN_URL`.sha256\n</code></pre> </li> </ol> <p>Example verification of Dasharo release compatible with MSI PRO Z690-A DDR4:</p> <pre><code>miczyg@3M08:~ $ export BIN_URL=https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.1/msi_ms7d25_v1.1.1_ddr4.rom\nmiczyg@3M08:~ $ wget ${BIN_URL} ${BIN_URL}.sha256 ${BIN_URL}.sha256.sig\n--2023-08-02 10:44:13--  https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.1/msi_ms7d25_v1.1.1_ddr4.rom\nResolving 3mdeb.com (3mdeb.com)... 2001:41d0:301:5::26, 178.32.205.96\nConnecting to 3mdeb.com (3mdeb.com)|2001:41d0:301:5::26|:443... connected.\nHTTP request sent, awaiting response... 302 Found\nLocation: https://dl.3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.1/msi_ms7d25_v1.1.1_ddr4.rom [following]\n--2023-08-02 10:44:14--  https://dl.3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.1/msi_ms7d25_v1.1.1_ddr4.rom\nResolving dl.3mdeb.com (dl.3mdeb.com)... 178.32.205.96\nConnecting to dl.3mdeb.com (dl.3mdeb.com)|178.32.205.96|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 33554432 (32M) [application/octet-stream]\nSaving to: \u2018msi_ms7d25_v1.1.1_ddr4.rom\u2019\n\nmsi_ms7d25_v1.1.1_d 100%[===================&gt;]  32.00M  24.4MB/s    in 1.3s\n\n2023-08-02 10:44:15 (24.4 MB/s) - \u2018msi_ms7d25_v1.1.1_ddr4.rom\u2019 saved [33554432/33554432]\n\n--2023-08-02 10:44:15--  https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.1/msi_ms7d25_v1.1.1_ddr4.rom.sha256\nConnecting to 3mdeb.com (3mdeb.com)|2001:41d0:301:5::26|:443... connected.\nHTTP request sent, awaiting response... 302 Found\nLocation: https://dl.3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.1/msi_ms7d25_v1.1.1_ddr4.rom.sha256 [following]\n--2023-08-02 10:44:16--  https://dl.3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.1/msi_ms7d25_v1.1.1_ddr4.rom.sha256\nConnecting to dl.3mdeb.com (dl.3mdeb.com)|178.32.205.96|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 93\nSaving to: \u2018msi_ms7d25_v1.1.1_ddr4.rom.sha256\u2019\n\nmsi_ms7d25_v1.1.1_d 100%[===================&gt;]      93  --.-KB/s    in 0s\n\n2023-08-02 10:44:16 (49.8 MB/s) - \u2018msi_ms7d25_v1.1.1_ddr4.rom.sha256\u2019 saved [93/93]\n\n--2023-08-02 10:44:16--  https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.1/msi_ms7d25_v1.1.1_ddr4.rom.sha256.sig\nConnecting to 3mdeb.com (3mdeb.com)|2001:41d0:301:5::26|:443... connected.\nHTTP request sent, awaiting response... 302 Found\nLocation: https://dl.3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.1/msi_ms7d25_v1.1.1_ddr4.rom.sha256.sig [following]\n--2023-08-02 10:44:16--  https://dl.3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.1/msi_ms7d25_v1.1.1_ddr4.rom.sha256.sig\nConnecting to dl.3mdeb.com (dl.3mdeb.com)|178.32.205.96|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 833 [application/pgp-signature]\nSaving to: \u2018msi_ms7d25_v1.1.1_ddr4.rom.sha256.sig\u2019\n\nmsi_ms7d25_v1.1.1_d 100%[===================&gt;]     833  --.-KB/s    in 0s\n\n2023-08-02 10:44:17 (11.5 MB/s) - \u2018msi_ms7d25_v1.1.1_ddr4.rom.sha256.sig\u2019 saved [833/833]\n\ngpg -v --verify `basename $BIN_URL`.sha256.sig `basename $BIN_URL`.sha256\nFINISHED --2023-08-02 10:44:17--\nTotal wall clock time: 3.3s\nDownloaded: 3 files, 32M in 1.3s (24.4 MB/s)\ngpg: enabled compatibility flags:\ngpg: Signature made Thu 23 Feb 2023 12:21:55 AM CET\ngpg:                using RSA key 89B569C42BB9FCCBC3C9CFDF5DC481E1F371151E\ngpg: using pgp trust model\ngpg: Good signature from \"Dasharo release 1.x compatible with MSI MS-7D25 signing key\" [unknown]\ngpg: WARNING: This key is not certified with a trusted signature!\ngpg:          There is no indication that the signature belongs to the owner.\nPrimary key fingerprint: 89B5 69C4 2BB9 FCCB C3C9  CFDF 5DC4 81E1 F371 151E\ngpg: binary signature, digest algorithm SHA256, key algorithm rsa4096\n\nmiczyg@3M08:~ $sha256sum -c `basename $BIN_URL`.sha256\nmsi_ms7d25_v1.1.1_ddr4.rom: OK\n</code></pre>"},{"location":"guides/vboot-signing/","title":"Dasharo vboot signing","text":""},{"location":"guides/vboot-signing/#introduction","title":"Introduction","text":"<p>Verified Boot is a method of verifying that the firmware compents haven't been tampered with. It uses cryptographic signatures to determine whether the firmware comes from trusted source. This document covers the procedure for generating vboot keys and configuring the coreboot build system to sign the binaries with the generated keys.</p>"},{"location":"guides/vboot-signing/#prerequisites","title":"Prerequisites","text":"<ul> <li> <p>Functional Docker installation</p> <ul> <li>follow Install Docker Engine on Ubuntu</li> <li>follow Post-installation steps for Linux</li> </ul> </li> <li> <p>Clone dasharo-tools repository</p> </li> </ul> <pre><code>git clone https://github.com/Dasharo/dasharo-tools.git\n</code></pre>"},{"location":"guides/vboot-signing/#generating-keys","title":"Generating keys","text":"<p>Make sure that you are in the <code>dasharo-tools</code> repository</p> <p>Generate the keys with the following command:</p> <pre><code>./vboot/generate_keys keys\n</code></pre> <p>The keys will be created in the directory <code>$PWD/keys</code>, i.e. in the <code>keys</code> subdirectory in your current directory.</p>"},{"location":"guides/vboot-signing/#signing-image-without-rebuilding","title":"Signing image without rebuilding","text":"<p>This is the default procedure that should be followed by users downloading firmware from the <code>Release</code> section, who wishes to use their own keys for vboot.</p> <p>Make sure that you are in the <code>dasharo-tools</code> repository</p> <p>Be sure you have generated the keys as in Generate keys section. Assuming you have generated keys to the <code>keys/</code> directory:</p> <pre><code>./vboot/resign &lt;released_firmware_file&gt; keys\n</code></pre> <p>For example:</p> <pre><code>./vboot/resign protectli_vault_cml_v1.0.16_resigned.rom keys\n</code></pre> <p>The successful output can look like this:</p> <pre><code>...\nINFO: sign_bios_at_end: BIOS image does not have FW_MAIN_B. Signing only FW_MAIN_A\n - import root_key from /.../keys/root_key.vbpubk: success\n - import recovery_key from /.../keys/recovery_key.vbpubk: success\nsuccessfully saved new image to: /.../protectli_vault_cml_v1.0.16_resigned.rom\nThe /.../protectli_vault_cml_v1.0.16.rom was resigned and saved as: /.../protectli_vault_cml_v1.0.16_resigned.rom\n</code></pre> <p>Now the image will be signed with your own keys. Be sure to save the keys in a safe location, because you will need them to sign each firmware update. Otherwise, the firmware updates to RW partitions will not be executed by vboot.</p>"},{"location":"guides/vboot-signing/#adding-keys-to-the-coreboot-config","title":"Adding keys to the coreboot config","text":"<p>This procedure is only meant for developers or when you are rebuilding firmware by yourself.</p> <p>In the root of the coreboot tree, execute the following command:</p> <pre><code>make nconfig\n</code></pre> <p>Navigate to <code>Security</code> -&gt; <code>Verified Boot (vboot)</code> -&gt; <code>Vboot keys</code> and enter the paths to the keys in the appropriate fields.</p> <p>Exit <code>nconfig</code> by pressing <code>Esc</code> repeatedly and pressing <code>Enter</code> when prompted to save the configuration.</p> <p>Now, rebuild coreboot with this config to generate images signed with the chosen vboot keys.</p>"},{"location":"osf-trivia-list/dasharo/","title":"Frequenty Asked Questions about Dasharo","text":""},{"location":"osf-trivia-list/dasharo/#what-is-dasharo","title":"What is Dasharo?","text":"<p>Dasharo is registered trademark and product developed by 3mdeb.</p> <p>Dasharo is an open-source firmware distribution focusing on:</p> <ul> <li>carefully selected hardware platforms,</li> <li>zero-touch initial deployment,</li> <li>clean and simple code,</li> <li>long-term maintenance,</li> <li>professional support,</li> <li>transparent validation,</li> <li>extensive and structured documentation,</li> <li>privacy-respecting implementation,</li> <li>liberty for the owners and</li> <li>trustworthiness for all.</li> </ul> <p>Dasharo consists of productized services, set of open-source repositories, and quality control which help to provide scalable, modular, easy to combine open-source BIOS, UEFI, and firmware solutions. It offers the components that are needed to develop and maintain a high quality, and modular firmware, for the stability and security of your platform.</p> <p>For individuals Dasharo provides optional features in subscription model called Dasharo Entry Subscription.</p>"},{"location":"osf-trivia-list/dasharo/#why-3mdeb-created-dasharo","title":"Why 3mdeb created Dasharo?","text":"<p>3mdeb created Dasharo to establish a recognized brand with a proven history of successful firmware integrations. Dasharo aims to deliver added value to customers and the community as an open-source firmware distribution, such as transparent validation, long-term maintenance, bleeding-edge integration for modern hardware, and other products requested by the community and customers.</p> <p>3mdeb has been providing services related to open-source firmware for years and has been asked multiple times by various parties to create a recognized brand. Therefore, the creation of Dasharo was a move to fulfill that need and establish a marketing vehicle to deliver value to customers.</p> <p>In addition, 3mdeb plans to provide a camp for all coreboot refugees, including platforms moved to branches due to the need for code evolution, such as Intel Intel Quark SoC deprecation and LEGACY_SMP_INIT &amp; RESOURCE_ALLOCATOR_V3. We want to provide solutions for those requiring long-term maintenance and firmware support. More elaborate explanation of our position you can find below.</p> <p>Dasharo typically supports fully open platforms like Raptor Computing Systems Talos II family, ASUS KGPE-D16, and other which are not as open but provide modern computing experience, such as MSI PRO Z690-A DDR4/DDR5. The goal is to provide a reliable, secure, and scalable firmware solution for a wide range of platforms and applications, aligning with the vision of a new golden age of computing advocated by experts in computer architecture.</p>"},{"location":"osf-trivia-list/dasharo/#what-dasharo-provides","title":"What Dasharo provides?","text":"<p>Dasharo has 10 rules that govern the production and release of firmware within its ecosystem. Dasharo rules define what we deliver with every release. These rules are:</p> <ol> <li>Every release of firmware produced by Dasharo Ecosystem must contain source code, binary, SHA256 hash, and Dasharo cryptographic signature of that hash.</li> <li>Dasharo Universe contains structured documentation for key activities related to open-source firmware life-cycle: initial deployment, update and recovery.</li> <li> <p>Cryptographic keys hierarchy should be followed:</p> <ul> <li>CEO/Founder (GPG fingerint: <code>E030 9B2D 85A6 7E84 6329  E34B B2EE 71E9 67AA 9E4C</code>) which signs</li> <li>3mdeb Master Key (GPG fingerint: <code>1B57 85C2 965D 84CF 85D1  652B 4AFD 81D9 7BD3 7C54</code>) which signs</li> <li>3mdeb Dasharo Master Key (GPG fingerint: <code>0D5F 6F1D A800 329E B7C5  97A2 ABE1 D0BC 6627 8008</code>) which signs</li> <li>Customer Open Source Firmware Release x.y Signing Key (e.g. Novacustom Open Source Firmware Release 1.0 Signing Key)</li> <li>or dedicated 3mdeb keys to given platform.</li> </ul> <p>Keys can be found in 3mdeb-secpack repository.</p> </li> <li> <p>Every release of firmware produced by Dasharo Ecosystem must have an attached test report according to requirements. Every test should be described by test specification documentation.</p> </li> <li>Customer-specific Dasharo validation procedures are delivered with the release notes directly to the customer and does not have to be publicly available.</li> <li>Every firmware produced by Dasharo Ecosystem use Semantic Versioning 2.0.0 compatible versioning scheme. For details please check description.</li> <li>Every firmware produced by Dasharo Ecosystem should use Keep A Changelog 1.0.0 compatible scheme as changelog format.</li> <li>Every Dasharo firmware release should be delivered with integrity and signature verification procedures.</li> <li>Every Dasharo firmware release must contain a detailed description of components and links to the range of code changes since the last release.</li> <li>Dasharo Ecosystem uses open-source software to create and maintain its firmware solutions, and the company strives to maintain transparency in its processes and procedures.</li> </ol> <p>These 10 rules are designed to ensure that every release of firmware produced by Dasharo Ecosystem is reliable, secure, and meets the needs of customers and the community. By following these rules, Dasharo Ecosystem provides a consistent and high-quality firmware solution for a wide range of platforms and applications.</p>"},{"location":"osf-trivia-list/dasharo/#what-is-dasharo-binary-blob-policy","title":"What is Dasharo binary blob policy?","text":"<p>Modern x86 platforms' firmware requires closed source blobs to be integrated into the image to properly initialize the silicon. The ecosystem is shifting towards designs and technologies with a lot of small microcontrollers and intellectual property (IP) blocks specialized in a very thin range of tasks. Those microcontrollers and IP blocks typically require firmware blobs as well. Some of the blobs are clearly visible, some may be obfuscated and hidden inside the silicon or other firmware blobs (e.g. Intel Management Engine region contains multiple other blobs besides the ME firmware - more about Intel ME blob).</p> <p>So Dasharo's binary blob policy is as follows:</p> <p>Integrate only the necessary amount of blobs required for proper platform operation and minimize the amount of blobs that are optional whenever possible by providing open equivalent implementations or removing them if there is no functional impact on the platform operation. Ultimately the blobs should be attested and properly documented. Dasharo Team is trying to achieve it by working on firmware SBOMs.</p> <p>Dasharo also works without blobs on platforms that allow that. For example, ASUS KGPE-D16 can run without any blobs (officially there is no PSP on that hardware, and Opteron 6200 series CPUs can run without microcode patches). There is also a libre, POWER9-based server/workstation Talos II by Raptor Computing Systems, which also do not use any binary blobs, however it is more expensive than x86 platforms.</p>"},{"location":"osf-trivia-list/dasharo/#why-dasharo","title":"Why Dasharo?","text":""},{"location":"osf-trivia-list/dasharo/#open-source-firmware-ecosystem-problems","title":"Open-source firmware ecosystem problems","text":"<p>Every open-source project has its own internal dynamics, history and politics. We are always looking for a solution that endorse non-aggression principle and peaceful coexistence, which hopefully will allow everyone to compete based on the same rules. We believe that market is big enough for all players and, if not we should make market bigger, not fight for every possible piece causing collateral damage.</p> <p>Eventually, in the community, we are all human beings, including all our good and bad features. In some cases, sympathy and antipathy cause unexpected dynamics. This impacts every community.</p> <p>We also should be aware that the open-source ecosystem is a place of OPSEC and PSYWAR techniques use, which leads to redirecting energy and resources into directions that make open-source community activity less competitive.</p> <p>In our opinion, massive energy is wasted in the open-source firmware community because of incorrect focus, like religious flame wars about philosophical principles, security paranoia without having an idea of threat modeling, or revolutionary ideas and plans for how to overthrow multibillion-dollar industry overlords. Although we may enjoy discussion during Dasharo open-source firmware vPubs during everyday job would like to focus on delivering value to those who can vote by choosing open-source firmware/hardware/ISA based product to help change the computer industry.</p> <p>Overall there is no economy around open-source firmware, and nobody seems to care much about that. It impacts the upstreaming process, the number of contributors, and reviewers. There are huge players with their own interests, small open-source firmware vendors like 3mdeb and community members essentially working for free. Without middle-size companies standing behind open-source firmware-based products, not much will change. To fill the space between big players and small boutique dev companies, we have to have products with the volume on the market because the hardware market understands only sales volumes, nothing else.</p> <p>We want to work on changing the above paradigms or at least improve the state-of-the-art relation in the community to the level where threats will have a reasonably small impact. We believe that open-source firmware is a critical tool, which should be used consciously to ensure privacy and liberty.</p>"},{"location":"osf-trivia-list/dasharo/#what-is-open-source-firmware-distribution","title":"What is open-source firmware distribution?","text":"<p>Dasharo is 3mdeb's firmware distribution and all its components are open-source. We provide releases in binary form. As you know in most cases on x86 for firmware to be useful it has to cooperate with closed blobs. In all binary releases we are making sure we provide information where all components are coming from.</p> <p>Dasharo works without blobs on platforms that allow that. When we are saying Dasharo open-source firmware distribution we mean code that is delivered by 3mdeb that is open-source. We have no influence on the code provided by 3rd parties (e.g. FSP, ME, GbE etc.).</p> <p>In coreboot community there was some controversy about calling Dasharo open-source firmware distribution (for details please check gerrit review). We respect coreboot community opinion, so we agreed that in case of coreboot documentation it would be better to use open-source based firmware distribution. It doesn't mean we agree with that decision:</p> <ul> <li>Definitions and rules used in coreboot documentation review are not clear.</li> <li>Rules seem not to be applied equally to all contributors of   coreboot distribution.</li> </ul>"},{"location":"osf-trivia-list/dasharo/#why-dasharo-is-not-called-coreboot-firmware-distribution","title":"Why Dasharo is not called coreboot firmware distribution?","text":"<p>While the coreboot is now the default open-source framework for Dasharo, we do not want to limit Dasharo to one framework. We also expect another firmware frameworks to be a base for Dasharo, such as U-Boot, oreboot, Slim Bootloader, or pure EDK II.</p> <p>Moreover, coreboot is not enough in most cases for booting modern computer. Most Dasharo flavors are currently based on coreboot with EDK II payload, but we also have coreboot with skiboot/heads payload, and we expect more flavors to appear in the future.</p>"},{"location":"osf-trivia-list/dasharo/#what-value-dasharo-provides-in-comparison-to-coreboot","title":"What value Dasharo provides in comparison to coreboot?","text":"<ul> <li>Dasharo is open-source firmware distribution based on   coreboot and other open-source firmware frameworks   (e.g. Tianocore EDKII), you can think   about Dasharo and coreboot relation in the same way as you think about   Debian/Ubuntu/RedHat and Linux. That means it can provide better   cost-effectiveness, security, transparency and customizability than   proprietary alternative.</li> <li>There are seven characterestics of Dasharo:<ul> <li>carefully selected hardware platforms,</li> <li>zero-touch initial deployment,</li> <li>clean and simple code,</li> <li>long-term maintenance,</li> <li>professional support,</li> <li>transparent validation,</li> <li>extensive and structured documentation,</li> <li>privacy-respecting implementation,</li> <li>liberty for the owners,</li> <li>trustworthiness for all.</li> </ul> </li> </ul>"},{"location":"osf-trivia-list/dasharo/#dasharo-zero-touch-initial-deployment","title":"Dasharo Zero-Touch Initial Deployment","text":"<p>Documentation supported hardware provides information about initial deployment, updates and recovery procedures. Developed by Dasharo Team Dasharo Tools Suite (DTS) operating system supports users by automating the deployment process, which helps reducing errors and inconsistencies, and make sure the firmware can be further updated to new version without any problems. DTS also provides controlled and secure environment for initial deployment and update of firmware, reducing the risk of tampering or unauthorized changes.</p> <p>Dasharo Zero-Touch Initial Deployment is smooth, effortless and user-friendly process, which reduces user frustration and improves satisfaction.</p> <p>Use of DTS largely improves firmware adoption, hardware compatibility reporting and binary blobs transmission, as well as recovery.</p> <p>For more details about zero-touch initial deployment please read relevant DTS documentation.</p>"},{"location":"osf-trivia-list/dasharo/#dasharo-clean-and-simple-code","title":"Dasharo Clean and Simple Code","text":"<p>Dasharo is an open-source distribution project with a simple code structure described in detail here. While the project benefits from the simplicity of the coreboot source code, it is continuously researching and improving its development process and tools to provide a superior experience for developers.  One example of this ongoing work is the improvements made to fork maintenance, currently being tracked in this issue on the Dasharo GitHub repository. The project also explores the concept of a bootstrapable toolchain, discussed in the build process section of the project documentation.</p>"},{"location":"osf-trivia-list/dasharo/#dasharo-long-term-maintenance","title":"Dasharo Long Term Maintenance","text":"<ul> <li>We provide long term maintenance - coreboot community for various reasons, do   not merge some patches, because of understaffing, lack of reviewers. Some   changes have long way to upstream, we maintain those patches and make them   work before those will go upstrea. If ever, we are committed to maintain   platforms which are moved to branch in coreboot.</li> <li>Firmware update - we are registered consultants for fwupd/LVFS and   enable customers and community platforms, so they can get seamless firmware   update in Linux.</li> </ul>"},{"location":"osf-trivia-list/dasharo/#dasharo-professional-support","title":"Dasharo Professional Support","text":"<p>Dasharo Support coming in form of three following packages:</p> <ul> <li>Dasharo Community Support (DCP) - donation driven development.</li> <li>Dasharo Support Package (DSP) - annual firmware support package.</li> <li>Dasharo Enterprise Package (DEP) - custom SLA, corporate and open roadmap   alignment advisroy.</li> </ul> <p>The Dasharo Community Support Program is an open-source firmware support initiative that leverages the expertise of community members and developers to improve firmware solutions for a range of hardware models.</p> <p>Platforms in scope of the program should comply with Dasharo quality criteria, which we slowly gather in Dasharo Certification Program.</p> <p>3mdeb supports and maintains DCP-approved firmware through Dasharo Support Package (DSP) and Dasharo Enterprise Package (DEP). These packages offer essential services like porting to new platforms, developing device drivers, debugging, and fixing bugs. Companies can rely on 3mdeb's expertise to ensure their systems remain secure, up-to-date, and reliable.</p> <p>If you are interested in our services please contact us here.</p>"},{"location":"osf-trivia-list/dasharo/#dasharo-transparent-validation","title":"Dasharo Transparent Validation","text":"<ul> <li>We provide transparent validation results - coreboot in itself provide no   guarantees around release quality and do not provide binary distribution (for   reference please check coreboot project scope, we provide   those in scope of validation we perform.</li> </ul>"},{"location":"osf-trivia-list/dasharo/#dasharo-trustworthiness-for-all","title":"Dasharo Trustworthiness for All","text":"<ul> <li>We provide ready to use binaries with GPG based signing scheme that improve   verification where firmware coming from.</li> </ul>"},{"location":"osf-trivia-list/dasharo/#what-are-the-differences-between-the-official-coreboot-repository-and-the-dasharo-repository","title":"What are the differences between the official coreboot repository and the Dasharo repository?","text":"<p>Dasharo focuses on specific platforms listed in supported hardware section of Dasharo Universe documentation.</p> <p>Dasharo repository contains release tags which are associated with Dasharo Certification Program providing certain quality criteria including test results. We always trying to minimize delta, but sometimes it can be up to 5k SLOC (or more I guess e.g. Talos II coreboot support).</p>"},{"location":"osf-trivia-list/dasharo/#what-is-dasharo-certification-program","title":"What is Dasharo Certification Program?","text":"<p>The Dasharo Certification Program (DCP) is a highly specialized certification program that benchmarks open-source firmware ecosystem deliverables. The program ensures that firmware is stable, secure, and dependable while aligning with the Dasharo values. DCP encourages developers to create their version of Dasharo or contribute to the Dasharo project or coreboot upstream, enabling them to leverage the power of open-source development to create custom firmware tailored to their specific needs based on years of Dasharo quality assurance results. The program's rigorous certification process entails comprehensive testing in the Dasharo Certification Lab, ensuring that the firmware binary meets the strict standards established by the program. By aligning with the Dasharo values, the certification program improves the overall posture of the open-source firmware ecosystem, making it long-term maintainable, sustainable, and trustworthy and providing specific service level agreements and warranties to commercial customers and the community.</p>"},{"location":"osf-trivia-list/dasharo/#what-is-dcp-approved-firmware","title":"What is DCP-approved firmware?","text":"<p>The Dasharo-certified firmware provides long-term maintenance over ten years after the CPU microarchitecture release, which means that OEM, ODM, hardware vendors, and other companies can rely on the firmware for a long time without worrying about end-of-life issues. Moreover, DCP-approved firmware vendors must provide professional support channels to ensure that other business entities can rely on those channels for long-term support regarding firmware and software.</p> <p>The validation process for DCP firmware is transparent. Test results and bug reports are always publicly available, allowing the community to continually identify issues and improve the firmware. However, in case of a security embargo, the results can be kept under a strict but well-defined policy, ensuring the security of the firmware.</p>"},{"location":"osf-trivia-list/dasharo/#future-work","title":"Future work","text":"<p>These future goals align with the values of privacy, liberty, and trustworthiness in the context of firmware development and the broader tech industry. We would like to implement following features as part of Dasharo Certification Program:</p> <ul> <li>Privacy-respecting implementation: By working on solutions that allow users   to deactivate potentially malicious components, like ME or PSP, the firmware   will respect user privacy and help mitigate data privacy concerns. This   approach gives users more control over their devices and reduces the risk of   unauthorized access or surveillance. Discussion and more detail in dedicated   issue.</li> <li>Liberty for the owners: Respecting the liberty of hardware owners to repair   and transfer ownership without risking the leak of personally identifiable   data is crucial. This approach supports the right-to-repair movement and   ensures that users maintain control over their personal information even when   they modify or pass on their devices. Discussion and more detail in dedicated   issue.</li> <li>Trustworthiness for all: By publishing known good measurements for each boot   phase and storing those measurements in tamper-resistant mediums, such as   TPM, during the boot process will increase security and confidence in the   firmware. Users and other stakeholders can verify that the firmware executed   during the boot process is genuine and uncompromised by making reference   measurements publicly available. Discussion and more detail in dedicated   issue.</li> </ul>"},{"location":"osf-trivia-list/dasharo/#why-there-is-no-amd-mainboard-supported-in-dasharo","title":"Why there is no AMD mainboard supported in Dasharo ?","text":"<p>Unfortunately, from the perspective of a small open-source firmware vendor, it isn't easy to work with AMD. Despite our experience with AMD SoCs since 2016, we could not yet deliver Dasharo for a modern (Zen core-based) platform. We're trying hard, but Intel has a better ecosystem for open-source firmware development.</p> <p>The reason for that state may be because AMD is in a rush, and they are understaffed in all areas compared to their success. We've been doing AMD open-source firmware development for 6+ years, including our yearly reports of open-source firmware status at FOSDEM, but the level of support for small volume firmware development companies is not yet at the level of competition.</p> <p>AGESA distribution was a problem in the past, but we solved that, and Dasharo for AMD is possible. Because Dynamic Root of Trust can work without blob, we favor AMD, but we can't do anything without a partner who can sponsor the development effort. We are on the market of open-source firmware vendors, not hardware vendors.</p>"},{"location":"osf-trivia-list/dasharo/#can-you-port-dasharo-to-my-mainboard","title":"Can you port Dasharo to my mainboard?","text":"<p>There are other versions of the same questions:</p> <ul> <li>Dasharo supports mainboard X; I have mainboard Y (or X'). Can you teach me   how to port Dasharo to my mainboard?</li> <li>Can you help me port Dasharo to my mainboard?</li> </ul> <p>TL;DR: No, we can't. In Dasharo, we support only carefully selected targets.</p> <p>The answer to that question requires understanding many aspects of the open-source firmware business we learned over the years. The critical point is that we can't help to port arbitrary targets. Hardware has to be carefully selected to bring the most benefits to the open-source firmware community and improve the sustainability of the ecosystem. Random hardware porting lead to an unmaintainable stack of platforms that no one adapts in scale, which does not lead to market change in the correct direction. Lack of commercial adoption is part of coreboot problems as a project, and we would like to avoid this mistake.</p> <p>We have strict criteria based on various aspects explained in Dasharo Community Support section.</p> <p>Dasharo Team tries to select platforms with long-term availability potential.</p> <p>Because we are fully responsible for hardware that we enable in open-source firmware ecosystem, our releases have to pass the Dasharo Certification criteria.  The whole effort is relatively expensive and, in most cases, not feasible for enabling one platform. That's why in most cases, our customers are OEM/ODM, angel investors, or communities that need reasonable quantities of hardware (&gt;200pcs).</p> <p>If the board comes with variants with minimal differences required for support in an open-source firmware stack, and one of the variants is part of the Dasharo Support Package, Dasharo Enterprise Package, or Dasharo Community Support, there is a chance to put that hardware on the relevant roadmap. In such a case, don't hesitate to contact us; we will see what we can do. However, the community member who requested support for the platform should also offer their help in validating the firmware and maintenance. That kind of request will be more than welcome from active community members. New members should consider ways to help us to gain a reputation that can lead to influencing Dasharo Community Supported roadmap.</p>"},{"location":"osf-trivia-list/deployment/","title":"Deployment","text":"<p>Deployment section of Dasharo Knowledge Base FAQ considers topic of open-source firmware deployment, which may include operations of reading and writing SPI NOR flash, as well as binary modifications.</p> <p>If you can't find the answer to your questions feel free to contact us through Community Channels or submit issue through Dasharo Github.</p>"},{"location":"osf-trivia-list/deployment/#flashrom","title":"Flashrom","text":"<p>Following sections explain how to deal with most common <code>flashrom</code> problem.</p>"},{"location":"osf-trivia-list/deployment/#how-to-install-dasharo-flashrom-fork","title":"How to install Dasharo flashrom fork ?","text":"<ul> <li>Install flashrom v1.1 or newer with your distribution's package manager if   you don't have it installed yet. If your distro doesn't provide flashrom or   provides an outdated one, you can build it yourself using   this instruction.</li> <li>Or compile recent version of flashrom:</li> </ul> <p>If you need flashrom for Dasharo-supported hardware and for some reason you cannot use DTS, please consider the compilation of Dasharo flashrom fork.</p> <p>For compilation details and related issues, please check flashrom documentation and community.</p>"},{"location":"osf-trivia-list/deployment/#perform-dry-run-to-detect-the-problems-early","title":"Perform dry run to detect the problems early","text":"<p>Most of the problems can be detected early and avoided without attempting to flash the firmware. You may check for most of the errors described here by doing a dry run (not passing any firmware binary):</p> <pre><code>sudo flashrom -p internal\n</code></pre> <p>In below sections there are example errors that you may find in the output of above command.</p>"},{"location":"osf-trivia-list/deployment/#could-not-get-io-privileges-operation-not-permitted","title":"<code>Could not get I/O privileges (Operation not permitted)</code>","text":"<p>If you see a flashrom error like this:</p> <pre><code>ERROR: Could not get I/O privileges (Operation not permitted).\nYou need to be root.\nError: Programmer initialization failed.\n</code></pre> <p>It means you have insufficient privileges to perform initialization. Please use <code>sudo</code> before <code>flashrom</code> command.</p>"},{"location":"osf-trivia-list/deployment/#devmem-mmap-failed-operation-not-permitted","title":"<code>/dev/mem mmap failed: Operation not permitted</code>","text":"<pre><code>/dev/mem mmap failed: Operation not permitted\nFAILED!\nFATAL ERROR!\nError: Programmer initialization failed.\n</code></pre> <p>Linux kernel restricts access to IOMEM. To fix that add <code>iomem=relaxed</code> to the kernel command line.</p> <p>Recommended way to fix the problem:</p> <ul> <li>Edit <code>/etc/default/grub</code>:</li> </ul> <pre><code>GRUB_CMDLINE_LINUX=\"iomem=relaxed\"\n</code></pre> <ul> <li>Update GRUB2 config with:</li> </ul> <pre><code>sudo update-grub2\n</code></pre> <ul> <li>Alternatively, if previous command doesn't work:</li> </ul> <pre><code>sudo grub-mkconfig -o /boot/grub/grub.cfg\n</code></pre> <ul> <li>Reboot and try <code>flashrom</code> command again</li> </ul> <p>Other method:</p> <ul> <li>Edit <code>grub.cfg</code> in <code>/boot/grub/</code>:</li> </ul> <pre><code>linux /boot/vmlinuz-4.15.0-115-generic ro quiet iomem=relaxed\n</code></pre> <ul> <li>Reboot and try <code>flashrom</code> command again</li> </ul> <p>Last resort you can try to modify boot option runtime. YMMV:</p> <ul> <li>If your computer uses BIOS for booting, then hold down the Shift, or if   your computer uses UEFI for booting, press Esc several times, while GRUB   is loading to get the boot menu. And, after getting a GRUB menu, press E   on a boot entry to append <code>iomem=relaxed</code> to kernel command line and press   Ctrl+X or F10 to boot. Although this setting is temporary and will   last only during the next boot, this way is faster and a customer doesn't   need to re-generate anything.</li> </ul> <p>Please note having it as a temporary setting maybe is slightly better for security (there's a reason why it's disabled by default).</p> <p>If the above does not resolve the problem, the kernel may be compiled with strict devmem, which prohibits accessing the IOMEM. You should then take different Linux system.</p>"},{"location":"osf-trivia-list/deployment/#transaction-error-between-offset","title":"<code>Transaction error between offset ...</code>?","text":"<pre><code>SPI Configuration is locked down.\nFREG0: Flash Descriptor region (0x00000000-0x00000fff) is read-only.\nFREG2: Management Engine region (0x00005000-0x005fffff) is locked.\nNot all flash regions are freely accessible by flashrom. This is most likely\ndue to an active ME. Please see https://flashrom.org/ME for details.\nAt least some flash regions are read protected. You have to use a flash\nlayout and include only accessible regions. For write operations, you'll\nadditionally need the --noverify-all switch. See manpage for more details.\nEnabling hardware sequencing due to multiple flash chips detected.\nOK.\nFound Programmer flash chip \"Opaque flash chip\" (12288 kB, Programmer-specific) mapped at physical address 0x0000000000000000.\nReading flash... Transaction error between offset 0x00005000 and 0x0000503f (= 0x00005000 + 63)!\nRead operation failed!\nFAILED.\n</code></pre> <p>Most probably it means problem lays in ME not allowing to read its region. One of the method to mitigate the issues is to put ME in Manufacturing Mode. Such operation depends on ME version, SPI flash layout and platform design. Detail information you should find in sections dedicated to given hardware. To access documentation for supported hardware please go to Hardware Compatibility List.</p> <p>Please note we consider further mitigations in Dasharo Roadmap.</p>"},{"location":"osf-trivia-list/deployment/#warning-no-chipset-found","title":"<code>WARNING: No chipset found</code>","text":"<p>If you see the following in the flashrom output:</p> <pre><code>WARNING: No chipset found. Flash detection will most likely fail.\nNo EEPROM/flash device found.\nNote: flashrom can never write if the flash chip isn't found automatically.\n</code></pre> <p>that means your flashrom version is incorrect. Follow the procedure of building flashrom or use DTS.</p>"},{"location":"osf-trivia-list/deployment/#chip-write-protection-enabled","title":"Chip write protection enabled","text":"<p>If you see anything like this in the flashrom output (or similar, the hex number may differ):</p> <pre><code>PR0: Warning: 0x001c0000-0x01ffffff is read-only.\n</code></pre> <p>That means you did not disable <code>BIOS boot medium lock</code> correctly. GO back to firmware setup and disable the option as described in Prerequisites. Flashrom update procedure containing <code>--ifd -i bios</code> parameters will fails if you do not disable the protection. The procedure using the <code>--fmap -i RW_SECTION_A -i RW_SECTION_B</code> parameters is not affected.</p>"},{"location":"osf-trivia-list/deployment/#warning-bios-region-smm-protection-is-enabled","title":"<code>Warning: BIOS region SMM protection is enabled!</code>","text":"<p>If you see anything like this in the flashrom output (or similar, the hex number may differ):</p> <pre><code>Warning: BIOS region SMM protection is enabled!\nWarning: Setting Bios Control at 0xdc from 0xaa to 0x89 failed.\nNew value is 0xaa.\n</code></pre> <p>Any attempt to flash the firmware will fail. That means you did not disable <code>Enable SMM BIOS write protection</code> option correctly. Go back to firmware setup and disable the option as described in Prerequisites.</p>"},{"location":"osf-trivia-list/deployment/#how-to-use-flashrom-to-backup-vendor-bios","title":"How to use flashrom to backup vendor BIOS?","text":"<p>It is always a good idea to backup the original BIOS of your hardware, before switching to open-source firmware.</p> <ul> <li>Boot Dasharo Tools Suite</li> <li>Choose option 9) Shell.</li> <li>Read content of SPI NOR flash:</li> </ul> <pre><code>flashrom -p internal -r bios_backup_`date +%Y%m%d`.bin\n\nflashrom v1.2-551-gf47ff31 on Linux 5.10.0-9-amd64 (x86_64)\nflashrom is free software, get the source code at https://flashrom.org\n\nUsing clock_gettime for delay loops (clk_id: 1, resolution: 1ns).\nFound chipset \"Intel Q77\".\nEnabling flash write... SPI Configuration is locked down.\nThe Flash Descriptor Override Strap-Pin is set. Restrictions implied by\nthe Master Section of the flash descriptor are NOT in effect. Please note\nthat Protected Range (PR) restrictions still apply.\nEnabling hardware sequencing due to multiple flash chips detected.\nOK.\nFound Programmer flash chip \"Opaque flash chip\" (12288 kB, Programmer-specific) mapped at physical address 0x0000000000000000.\nReading flash... done.\n</code></pre> <p>If you face any issues, please refer to the troubleshooting section for hardware platform.</p>"},{"location":"osf-trivia-list/dts/","title":"Dasharo Tools Suite","text":""},{"location":"osf-trivia-list/dts/#what-is-dasharo-tools-suite","title":"What is Dasharo Tools Suite?","text":"<p>Dasharo Tools Suite (DTS) is like a swiss army knife for Dasharo firmware: you can execute initial deployment, firmware update and even dump machine logs for debugging and development support.</p> <p>Also refer to DTS Overview.</p>"},{"location":"osf-trivia-list/dts/#how-to-get-dasharo-entry-subscription-releases-using-dasharo-tools-suite","title":"How to get Dasharo Entry Subscription Releases using Dasharo Tools Suite?","text":"<p>Dasharo Entry Subscription Releases can be used to perform firmware updates with DTS by providing Dasharo Entry Subscription credentials obtained after buying a Dasharo Entry Subscription.</p> <p>Commercial use of DTS should be discussed directly with 3mdeb or Dasharo Team.</p>"},{"location":"osf-trivia-list/dts/#how-to-support-us","title":"How to support us?","text":"<p>In general there are three ways to support us:</p>"},{"location":"osf-trivia-list/dts/#i-have-more-time-than-money-and-i-can-code","title":"I have more time than money and I can code","text":"<p>Please help us develop Dasharo influence on open-source firmware market and spread the word about it. There are multiple ways to do that:</p> <ul> <li>Join Dasharo Matrix   Community and   support other members of community</li> <li>Join Dasharo open-source firmware   vPub or   other related event organized by 3mdeb or Dasharo Team.</li> <li>Write a Google review</li> <li>Follow us on social   media and help   spreading the word about Dasharo.</li> <li>Contribute   documentation, test results, Dasharo Hardware Compatibility List   Reports</li> </ul> <p>To get access to DTS SE you should contact 3mdeb or Dasharo Team and prove your contribution regarding above areas of support and influence. If it would be meaningful we would be glad to give you access to DTS SE for a year.</p>"},{"location":"osf-trivia-list/dts/#i-have-more-time-than-money-and-i-cant-code","title":"I have more time than money and I can't code","text":"<p>Please contribute ideas for new features, review documentation and help testing bug fixes.</p> <p>If you would like to pursue that path please contact us on Dasharo - General Matrix channel to agree on scope of contribution to avoid any potential collision with other developers. To get access to DTS SE you should contact 3mdeb or Dasharo Team with links to your contribution and we would be glad to provide one year of DTS SE updates.</p>"},{"location":"osf-trivia-list/dts/#i-have-more-money-than-time","title":"I have more money than time","text":"<p>Please donate using one of available methods and contact 3mdeb or Dasharo Team to let us know about your donation. Minimal donating to access DTS SE with one year update support is 60EUR.</p>"},{"location":"osf-trivia-list/introduction/","title":"Open Source Firmware Trivia Questions List (OSFTQL)","text":"<p>Goal of following questions list is to provide answers to terribly trivial topics or questions that were asked and answered gazillion times. We believe to move forward with so limited resources we have to stop wasting community precious time on something we agree on, but move forward with discussion.</p> <p>Other role of this list is to create taxonomy of OSF trivia questions for community and Dasharo customers, to avoid repeating explanation of topics which most of community already agree on.</p>"},{"location":"osf-trivia-list/introduction/#osftql0003-binary-blobs-what-are-they-what-do-we-need-them-for","title":"<code>[OSFTQL0003]</code> Binary blobs - what are they? What do we need them for?","text":"<p>Binary blobs are a term referring to proprietary, closed-source software components. They are called \"blobs\" because, unlike open-source code, you can't see their internal structure, nor verify their security; they are an undifferentiated mass (or \"blob\") of binary data. While often frowned upon in the Open Source community for being inauditable and suspicious, some are required by coreboot for most of the recent platforms. Here are some common types of binary blobs you might encounter when working with coreboot:</p> <ul> <li> <p>CPU Microcode:</p> <ul> <li>Modern CPUs often require microcode updates to fix bugs or security    vulnerabilities. These microcode updates are usually distributed as binary    blobs.</li> </ul> </li> <li> <p>Memory Initialization:</p> <ul> <li>Some platforms require binary blobs for memory initialization. The code    that sets up the RAM is sometimes provided only in binary form by the    hardware manufacturer.</li> </ul> </li> <li> <p>Video BIOS:</p> <ul> <li>The video BIOS (VBIOS) is a piece of firmware that initializes the    graphics hardware. In some cases, the VBIOS might be required to get    graphical output during the boot process.</li> </ul> </li> <li> <p>Management Engine (ME) Firmware (Intel platforms):</p> <ul> <li>Intel's Management Engine is a controversial component required for    Intel systems to boot. It requires a binary blob.</li> </ul> </li> <li> <p>Platform Security Processor (PSP) Firmware (AMD platforms):</p> <ul> <li>Similar to Intel's ME, AMD's Platform Security Processor (PSP) requires    binary firmware to function.</li> </ul> </li> <li> <p>Firmware Support Package (FSP) (Intel platforms):</p> <ul> <li>Intel provides a Firmware Support Package (FSP) which is a binary blob    used to initialize the processor, memory, and chipset on some Intel    platforms.</li> </ul> </li> <li> <p>Embedded Controller (EC) Firmware:</p> <ul> <li>The firmware for the embedded controller (which handles things like    power management, fan control, etc.) may also be a binary blob.</li> </ul> </li> </ul> <p>To see in fine detail which are required for your platform of interest, please refer to this coreboot wiki page.</p>"},{"location":"osf-trivia-list/me/","title":"Introduction","text":"<p>Until Nehalem (ME version 6) it was possible to remove ME firmware completely. Starting with Nehalem, ME firmware can't be completely removed.</p> <ul> <li>If ME firmware is missing, the PC will not boot at all</li> <li>Earlier ME versions left a 30 minute grace period for recovering from   a bad flash, but this is no longer true</li> </ul> <p>Three methods to reduce ME's capabilities have been found: neutering, disabling and soft-disabling.</p> <ul> <li>Removing non-essential portions of the ME's firmware is commonly referred   to as neutering ME</li> <li>Setting a bit in the Flash Descriptor which acts as a kill-switch which   tells ME to hang after initialization is usually what we mean by   disabling ME</li> </ul>"},{"location":"osf-trivia-list/me/#neutering-me","title":"Neutering ME","text":"<p>Neutralizing ME: removing non-essential portions of the ME's firmware</p> <ul> <li>Also called \"neutering\"</li> <li>Not initially designed by Intel</li> </ul> <p>Method discovered by Nicola Corna of the me_cleaner project Removes all modules other than those required for platform init</p> <ul> <li>Modules left in ME 6.0 - 10.x: <code>ROMP</code>, <code>BUP</code></li> <li> <p>Modules left in ME &gt;= 11.x: <code>rbe</code>, <code>kernel</code>, <code>syslib</code>, <code>bup</code>, sometimes   also <code>mfs</code> A neutered ME will initialize hardware, then throw an error due to missing firmware</p> </li> <li> <p>This sometimes results in power management issues</p> <ul> <li>Therefore it's not recommended in production without extensive testing</li> </ul> </li> <li>Functions provided by ME will no longer be operational</li> </ul> <p>ME &gt;= v11.x: Sometimes <code>mfs</code> also needs to be preserved. <code>mfs</code> is responsible for some of the hardware initialization.</p>"},{"location":"osf-trivia-list/me/#why-is-it-possible","title":"Why is it possible?","text":"<ul> <li>The FPT is not signed, has just a checksum</li> <li>The partitions are individually signed</li> <li>The offset and size of each partition are saved in each FPT entry</li> </ul> <p>Source: Intel ME myths and reality, Igor Skochinsky &amp; Nicola Corna</p>"},{"location":"osf-trivia-list/me/#soft-disabling-me","title":"Soft-disabling ME","text":"<p>It's also possible to put ME into a soft-disabled state by sending a HECI <code>SET_ME_DISABLE</code> or <code>HMRFPO_ENABLE</code> message</p> <ul> <li>BIOS needs to send these messages</li> <li>ME will stay disabled until a corresponding <code>ENABLE</code> message is sent</li> <li>Functional ME firmware must be present</li> <li>Usually what the \"Disable ME\" option in some BIOSes does</li> <li>Also offered as an option when buying some laptops (e.g. Dell)</li> </ul>"},{"location":"osf-trivia-list/me/#hap-altmedisable-bit-aka-disabling-me","title":"HAP / AltMeDisable bit (aka disabling ME)","text":"<p>Method discovered in 2017 by Positive Technologies. Initially introduced by Intel for government/intelligence purposes.</p> <ul> <li>Not even the US government trusts ME entirely!</li> </ul> <p>Also supported by the me_cleaner project Involves setting an undocumented, secret bit in the Flash Descriptor which acts as a kill-switch for the ME</p> <ul> <li><code>AltMeDisable</code> on ME versions &lt; 11.x</li> <li>HAP (High Assurance Platform) on ME versions &gt;= 11.x</li> </ul> <p>Leaves ME in a stopped state, lets it shut down gracefully instead of erroring out - This can help prevent issues with power management that may arise from   disabling the ME - Supported by some OEMs</p>"},{"location":"osf-trivia-list/me/#3mdeb-official-statement","title":"3mdeb official statement","text":"<p>Whenever it is possible 3mdeb try to minimize impact of (CS)ME/SPS/TXE or any other firmware residing on peripheral or built-in CPUs.</p>"},{"location":"osf-trolling-list/build_process/","title":"<code>[OSFI001]</code> Build process","text":""},{"location":"osf-trolling-list/build_process/#osfi0010-there-is-no-healthy-osf-without-reproducible-builds","title":"<code>[OSFI0010]</code> There is no healthy OSF without reproducible builds","text":""},{"location":"osf-trolling-list/build_process/#what-are-the-reproducible-builds","title":"What are the reproducible builds?","text":"<p>Reproducible Builds and a lot of its aspects is well explained on the linked website.</p>"},{"location":"osf-trolling-list/build_process/#why-are-reproducible-builds-crucial-osf","title":"Why are reproducible builds crucial OSF?","text":"<p>This is because knowing hashes of firmware components, we can calculate expected TPM PCRs values. By knowing good PCR values and being able to predict further values after firmware update, we are gaining the following advantages:</p> <ul> <li> <p>We can easily confirm if the firmware is valid by reading TPM PCRs and compare   to reference integrity measures (RIM), RIM can be calculated by build exactly   the same version of OSF.</p> <p>NOTE: Please note that depending on your threat model using TPM chip with closed source firmware implementation may lead to solution which is not trustworthy.</p> </li> <li> <p>Process of replying measurements provided in TPM Event Log is simpler because   we can easily obtain software and confirm hashes used during PCR extension   the process was valid and the same as produced by the software build process</p> </li> <li>Looking for bugs by using bisection is easier since being able to build every   commit of software in a reproducible manner give us confidence that there would   be no change in behavior between 2 consecutive builds</li> <li>Consistent behavior for given hash can be confirmed by test results tied to   given hash in that way users looking at test results may expect exactly the   same behavior for firmware binaries with the same hash</li> <li>Long term maintenance should be easier if firmware build would be   reproducible over a long time, because often happen some firmware land in   industrial applications, e.g., robots, trains, smart city infrastructure, if   the bug will be detected after a long time; it is important to have tools and be   able to confirm the same binary can be generated in the future. If we know given   toolchain reproduce binary bit by bit we are sure it also reproduces   software/firmware behavior. In that light making small incremental   improvement using a toolchain that gives reproducible results give us higher   the chance that we will not introduce uncontrolled change in behavior and code   the change will be reflected by the compilation process without affecting previous   software behavior.</li> </ul>"},{"location":"osf-trolling-list/build_process/#osfi0011-docker-containers-as-build-systems-considered-harmful","title":"[OSFI0011] Docker containers as build systems \"considered harmful.\"","text":"<p>Docker containers for a couple of last years become the default method for providing reproducible runtime environment for software as well those started to be very useful for developers to transfer exact configuration for building given software stack. We wrote about the usefulness of Docker containers in embedded software development environment on 3mdeb blog.</p> <p>After a long time of using Docker containers for embedded software development and build environments we noticed problems for long time maintenance and reproducibility.</p>"},{"location":"osf-trolling-list/build_process/#coreboot-sdk-problems","title":"coreboot-sdk problems","text":"<p>The example can be <code>coreboot-sdk</code> used for building coreboot project.</p> <p>A good summary of the problem was provided by Thrilleratplay in guix-docker repo:</p> <p>Currently, the coreboot build environment, <code>coreboot-sdk</code>, uses a Debian docker base image.  To install additional required packages, <code>apt-get update</code> must be run.  The resulting Docker image is hosted in the Docker hub repository to be retrieved at any time in the future.  However, at any time in the future, building the same docker file will generate a different image based on the latest packages used in apt-get.  Over time, as packages are updated due to bug, security or feature improvements, the docker image's provenance in the docker hub repository becomes increasingly difficult, if not impossible, to audit and reproduce.</p> <p>Some more detailed notes related to <code>coreboot-sdk</code> issues are presented below.</p> <ol> <li>There is no meaningful versioning of SDK    [1] - at some point,    there was versioning 1.32-53, now switched to git SHA. Both seemed to have    no meaning and were released at arbitrary points in time. The result is that it    is hard to find which version of SDK works with the coreboot tree version.</li> <li>Validation of coreboot-sdk is not sufficient - for example, recently, python    fixes were merged [2],    somehow this change passed all QA checks, but SeaBIOS use python (not python2    or python3) and all builds using this version of SDK that compile SeaBIOS fail.</li> <li><code>coreboot-sdk</code> is based on moving target Debian sid. It is close to impossible    to build the same Docker images at 2 different points in time.</li> <li>coreboot-sdk enforce given version of ACPI spec - this may not always be    a good thing to use the most recent compiler and update code accordingly    since it can easily break OSes.</li> </ol>"},{"location":"osf-trolling-list/build_process/#why-we-care","title":"Why we care?","text":"<ol> <li>Whenever we deliver code or service to community or customer, we provide    build environment which, for the sake of quality user support, should be    stable.</li> <li>CI pipelines rely on those containers. Replacing docker image in CI pipeline    whenever something change defeat the purpose of having automation and    increase maintenance cost significantly and increase maintenance cost    significantly</li> </ol>"},{"location":"osf-trolling-list/build_process/#requirements-for-osf-dev-and-build-process","title":"Requirements for OSF dev and build process","text":"<p>Open-source firmware development and build environment SHOULD have: * meaningful release process * meaningful validation process, at least basic build system and dev env   capabilities should be tested * meaningful revisions with a clear explanation of what software stack can be build   with what version of dev and build system, a description should include   side-spec compliance, e.g., ACPI, SMBIOS, UEFI, etc. * reproducible process that works across systems and in the long run * signature, so anyone can identify where build and dev env coming from and if   it is trustworthy</p>"},{"location":"osf-trolling-list/build_process/#ideas-for-solving-the-above-issues","title":"Ideas for solving the above issues","text":"<ol> <li>Docker images are not reproducible - this is a known fact, and if we are    extremely serious about stability, security and quality, we should stop    using a not reproducible build environment. Of course, there is some work    making Docker images reproducible, but it opens Pandora's box    [3]    of Yocto or Buildroot. Another path could be Nix or Guix, which is currently    pursued in the community OSFW #guix-buildstack channel</li> <li>this is a private channel; feel free to ping anyone from 3mdeb Team to join.</li> <li>coreboot toolchain is built by its own build system, which would be hard to    couple with Dockerfile or something else.</li> <li>Docker images can be signed using <code>docker trust</code> commands as described    here.</li> <li>Other idea would be to use <code>wget</code> and <code>dpkg -i</code> for every needed package in    <code>Dockerfile</code> that create base image for reproducible toolchain. Of course   that means quite extensive dependency management, but maybe simplicity is worth   the effort.</li> <li>It is also possible to maintain VMs per given coreboot (or other OSF)   version. That may mean long term VM image compatibility issues as well as   problems with making sure images would work with various hypervisor versions.   It is even more complex if multiple OS should be supported. VMs also have quite   big overhead in terms of performance</li> </ol> <p>I'm not tracking all activity in the community, so some claims may be plain wrong. Please let me know what I miss when I'm wrong.</p>"},{"location":"osf-trolling-list/jsm_documentation/","title":"Jira Service Management client procedure","text":""},{"location":"osf-trolling-list/jsm_documentation/#dasharo-support-package","title":"Dasharo Support Package","text":"<p>If you are interested in starting cooperation using the Support Package, it is the perfect time to start. The Support Package will help us allocate resources and a secure timeline for your needs. To ensure that we can provide comprehensive assistance with your current products and future new developments, we encourage you to choose our new Support Package for more streamlined cooperation, guaranteed availability, and quick, on-time delivery.</p>"},{"location":"osf-trolling-list/jsm_documentation/#why-should-you-add-requests-to-jira-service-management","title":"Why should you add requests to Jira Service Management?","text":"<p>JSM allows you to easily keep track of the status of individual requests. Each new request you add means analysis and pricing of task execution. This conversation will take place on JSM. Progress on the request will also be reported using JSM.</p>"},{"location":"osf-trolling-list/jsm_documentation/#before-you-raise-your-first-request","title":"Before you raise your first request","text":"<p>Remember to provide a list of email addresses of people that need access to the portal. It's required to prepare the organization, where requested people will automatically receive updates on the ticket statuses.</p>"},{"location":"osf-trolling-list/jsm_documentation/#how-to-add-a-request","title":"How to add a request","text":""},{"location":"osf-trolling-list/jsm_documentation/#raising-requests-using-the-portal","title":"Raising requests using the portal","text":"<p>To add a new request using the web service:</p> <ol> <li>Go to portal    and select the project.</li> <li>Select a type of request and provide the required data. You can also add    attachments by dragging and dropping them into any part of the web page, or    by clicking the <code>Browse</code> button.</li> <li>When you are ready to send the request, click Send. Your request is created    and awaits our response.</li> </ol> <p></p> <p></p>"},{"location":"osf-trolling-list/jsm_documentation/#raising-requests-using-email","title":"Raising requests using email","text":"<p>If you prefer raising a request using email, you can do this by sending a message to special email address generated for the project.</p> <p>The email address will be provided to you by separate message.</p>"},{"location":"osf-trolling-list/jsm_documentation/#communication-through-the-jira-service-desk","title":"Communication through the Jira Service Desk","text":"<p>You can always add a comment to the request and attach files. You can do it directly from the JSM request page or using email simply by replying to the email thread.</p> <p>We'll also add comments, questions and quotations in the comment section.</p>"},{"location":"osf-trolling-list/jsm_documentation/#what-happens-after-you-raise-a-request","title":"What happens after you raise a request","text":"<p>We'll soon let you know about the cost and what solutions are proposed. You'll also receive information on which requests will be resolved in the next release.</p>"},{"location":"osf-trolling-list/jsm_documentation/#process-and-request-statuses","title":"Process and request statuses","text":"<p>The diagram below presents what the workflow of JSM requests looks like.</p> <p></p> <ul> <li><code>Open</code> - your request is created and visible for us, but we didn't start working on it yet.</li> <li><code>Analysis</code> - our team is analyzing your request. We will soon let you know what will be the cost of resolving this request.</li> <li> <p><code>Waiting for the client</code> - your action is required to continue working on the request. Most of the time it will be:</p> <ol> <li>acceptance of the estimated effort</li> <li>need for additional clarification. <p>Note that the request with this status is waiting for your response. Delaying a response will result with lack of progress being made on the request.</p> </li> </ol> </li> <li> <p><code>Approved</code> - you have accepted the cost, and we will soon start working to resolve the request.</p> </li> <li><code>Rejected</code> - you have rejected the cost of resolving the request, and we will not work on this request.</li> <li><code>In progress</code> - we are actively working on the request.</li> <li><code>On hold</code> - the progress on resolving the request has been paused, and the work may be resumed in the future.</li> <li> <p><code>Closed</code> - the request has been resolved, but there was no work to be done or work was stopped due to:</p> <ol> <li>the client's decision</li> <li>feasibility study showed 0% success rate</li> <li>other</li> </ol> </li> <li> <p><code>Done</code> - the request is resolved, and work has been completed.</p> </li> </ul>"},{"location":"osf-trolling-list/jsm_documentation/#support-budget","title":"Support budget","text":"<p>After completing the requests, you'll receive information about the state of your support budget by email (by default two times a month).</p>"},{"location":"osf-trolling-list/jsm_documentation/#slas","title":"SLAs","text":"<p>Our team aims to provide the best support experience. We want you to always be up to date on the status of your request. We are doing our best to reply on your request in less that 36 hours.</p>"},{"location":"osf-trolling-list/trusted_computing/","title":"<code>[OSFI002]</code> Trusted computing","text":""},{"location":"osf-trolling-list/trusted_computing/#osfi0020-crtm-what-it-stand-for","title":"<code>[OSFI0020]</code> CRTM what it stand for?","text":"<p>According to TCG Glossary v1.1 rev1.0 published in 2017 correct definition is:</p> <p>The instructions executed by the platform when it acts as the RTM. [Formerly described as \u201cCore Root of Trust for Measurement\u201d. Code Root of Trust for Measurement is the preferred expansion.] This acronym expansion is preferred.</p> <p>Not every one agree with that expansion of CRTM abbreviation. What do you think?</p>"},{"location":"projects/capsule-updates/","title":"UEFI Capsule Update for coreboot with EDK II","text":""},{"location":"projects/capsule-updates/#abstract","title":"Abstract","text":"<p>The project, UEFI Capsule Update for coreboot with EDK II, aims to improve the firmware update process by integrating UEFI capsule update methods into coreboot with EDK II open-source firmware frameworks. UEFI capsule update is an industry-standard approach widely supported by hardware vendors, providing a secure and reliable method for delivering firmware updates. By adopting UEFI capsule update methods, the project aims to simplify the update process and enhance the user experience, providing a more secure and reliable approach compared to complex flashrom-based updates, which are still common in the open-source firmware distributions based on coreboot. Due to security measures, OS-level access to firmware is intentionally restricted, which in turn makes it increasingly challenging to apply firmware updates from the operating system. This limitation poses difficulties in utilizing traditional flashrom-based methods for firmware updates. The expected outcomes of the project include enhanced firmware update capabilities, a simplified user experience, heightened security, and enhanced compatibility, all achieved by seamlessly integrating with fwupd, a popular firmware update management tool for Linux systems.</p>"},{"location":"projects/capsule-updates/#involvement-with-projects-or-organisations-relevant-to-this-project","title":"Involvement with projects or organisations relevant to this project","text":"<p>Relevant projects:</p> <ul> <li>coreboot [1]</li> <li>Dasharo compatible with MSI PRO Z690-A DDR4 (and the subsequent port for the</li> <li>DDR5 variant) [2]</li> <li>Dasharo compatible with Dell Optiplex [3]</li> <li>EDKII [4]</li> <li>Fwupd (LVFS) [5]</li> <li>U-Boot [6]</li> </ul> <p>3mdeb has been a licensed provider of quality coreboot consulting services since 2016. We are well-known in the open-source community for maintaining th firmware of the PC Engines APU series platform since 2016, delivering high-quality firmware releases each month and providing technical support on PC Engines and OPNSense forums. Our contribution to the coreboot project reaches (as of 26th of July 2023):</p> <p>319 individual patches merged to the official coreboot repository 33481 lines of code added 41097 lines of code removed</p> <p>Moreover, we constantly develop Dasharo, which is an open-source firmware distribution focusing on clean and simple code, long-term maintenance, transparent validation, privacy-respecting implementation, liberty for the owners, and trustworthiness for all. More details can be found here [7].</p>"},{"location":"projects/capsule-updates/#project-scope","title":"Project scope","text":"<p>Task 1. Enable Capsule Updates in coreboot</p> <p>This task aims to enhance the coreboot framework by adding support for UEFI Capsule Update.</p> <ul> <li>Enable memory access above 4GB</li> </ul> <p>Modify coreboot to operate in 64-bit mode and enable access to memory above the 4GB limit.</p> <ul> <li>Parse capsule location from UEFI variables in coreboot</li> </ul> <p>Implement a mechanism for coreboot to identify the memory location of the capsule images from drivers to UEFI variables. This milestone ensures accurate retrieval of capsule images by coreboot.</p> <ul> <li>Gather capsules into one region</li> </ul> <p>Rewrite the existing capsule coalescing logic to consolidate all firmware update capsules into a single memory region.</p> <ul> <li>Reserve memory containing capsules and pass it to the payload</li> </ul> <p>Implement the necessary changes in coreboot to reserve the memory region containing the capsules. Pass this information to the UEFI payload using the Hand-Off Block (HOB) data structure.</p> <ul> <li>Add SMI handler for flashing firmware updates</li> </ul> <p>Implement a handler able of writing to SPI flash. Similar handler already exists, but it is limited to SMMSTORE region, used to implement secure UEFI variables. New handler would allow to overwrite whole BIOS image, so it must not be enabled unless a valid capsule update is present.</p> <p>Task 2. Enable capsule updates in coreboot EDK II UEFI Payload</p> <p>The UEFI payload integration task involves integrating the enhanced coreboot firmware with the UEFI system. Additionally, parsing the version reported by coreboot and incorporating it into the EFI System Resource Table (ESRT) ensures accurate tracking of system firmware updates. These integrations enhance firmware reliability, provide advanced update capabilities, and enable a seamless user experience.</p> <ul> <li>Implement PlatformFlashAccessLib leveraging coreboot SMI handler</li> </ul> <p>Create a library instance that enables flash access operations within the UEFI platform with the help of SMI handler implemented in coreboot.</p> <ul> <li>Modify FDF/DSC files and capsule processing</li> </ul> <p>Update the Firmware Descriptor (FDF) and Device Scope Configuration (DSC) files. Enable boot mode selection and invoke ProcessCapsules() at the necessary stages during the firmware update process.</p> <ul> <li>Parse version reported by coreboot for ESRT</li> </ul> <p>Extract coreboot version information and incorporate it into the EFI System Resource Table (ESRT) within UEFI, to reflect the updated firmware and prevent rolling back to earlier versions.</p> <ul> <li>Develop process for building capsules from coreboot.rom</li> </ul> <p>Establish a streamlined workflow to generate capsules containing the coreboot.rom image and automate the process where possible.</p> <p>Task 3. Test the solution on a hardware</p> <p>In this task, the UEFI Capsule Update will be tested on the hardware to ensure its proper functionality and compatibility.</p> <ul> <li>Verify feature using test signing keys</li> </ul> <p>Validate the CAPSULE_ENABLE feature using test signing keys before using product-specific signing keys.</p> <ul> <li>OS block booting verification</li> </ul> <p>Test a mechanism that prevents the operating system from booting until a reboot occurs after the firmware update process. The primary objective is to ensure that the system remains secure and stable after firmware updates are applied.</p> <p>Task 4. Secure Firmware Signing</p> <p>In this task the focus is on implementing secure firmware signing processes to ensure the integrity and authenticity of firmware updates. The use of OpenSSL utilities for generating signing keys enhances security, while the developed binary compilation procedure simplifies the signing process for end-users.</p> <ul> <li>Generate signing keys using OpenSSL utilities</li> </ul> <p>Utilize OpenSSL command line utilities to generate the necessary signing keys for the capsule update process.</p> <ul> <li>Develop binary compilation without using a private key</li> </ul> <p>This milestone involves creating a comprehensive procedure for users, outlining the process of signing binaries without the use of a private key, ensuring a consistent and efficient signing process.</p> <ul> <li>End-user documentation</li> </ul> <p>Create comprehensive documentation for end-users, including detailed instructions on how to perform firmware updates and utilize the provided features effectively.</p> <p>Task 5. Enhanced Boot Process with vboot A/B Support</p> <p>This task aims to establish a more secure, stable, and user-friendly firmware update process. The incorporation of the vboot A/B scheme will provide a reliable fallback in case of problematic updates, while the automated execution of the UX capsule will enhance the end-user experience during firmware updates.</p> <ul> <li>Add support for the vboot A/B scheme</li> </ul> <p>Enhance the firmware update mechanism to support the vboot A/B scheme, providing a fallback option in case of unstable updates.</p> <ul> <li>Automate the creation and execution of the UX capsule</li> </ul> <p>Use UX capsule to convey message to the user that the update is in progress. Because update takes significantly more time than normal boot, impatient user may think that the boot process is stuck and try to force a platform reboot, which in turn may end up with non-working platform.</p> <p>Task 6. Test and release UEFI Capsule Update for coreboot and EDK II</p> <p>Task 6 involves testing and release of firmware updates for both MSI PRO Z790-P and MSI PRO Z690-A DDR4/DDR5 platforms. The primary focus is to verify the successful update process, ensuring system stability and security after applying the new firmware update method.</p> <ul> <li>Test and publish release for MSI PRO Z790-P</li> </ul> <p>Verify the successful update process and ensure system stability and security after applying the new firmware update method.</p> <ul> <li>Test and publish release for MSI PRO Z690-A DDR4/DDR5</li> </ul> <p>Verify the successful update process and ensure system stability and security after applying the new firmware update method.</p> <p>Task 7. Upstream of the UEFI Capsule Update for coreboot with EDK II in coreboot</p> <p>The primary objective is to merge the UEFI Capsule Update functionality directly into the coreboot codebase, ensuring its availability as part of the coreboot project and expanding the firmware update capabilities for coreboot-supported systems.</p> <p>The code implementing UEFI Capsule Update for coreboot with EDK II shall be upstreamed to the official coreboot repository at https://review.coreboot.org/.</p> <p>Task 8. Upstream of the UEFI Capsule Update for coreboot with EDK II in EDK II</p> <p>The goal is to ensure that the UEFI Capsule Update implementation becomes a part of the official codebase, contributing to the wider EDK II ecosystem and enhancing the firmware update capabilities for coreboot-supported systems.</p> <p>The code implementing UEFI Capsule Update for coreboot with EDK II shall be upstreamed to the official EDK II repository at https://github.com/tianocore/edk2.</p>"},{"location":"projects/capsule-updates/#compare-your-own-project-with-existing-or-historical-efforts","title":"Compare your own project with existing or historical efforts","text":"<p>3mdeb's embedded systems developers are experienced engineers accustomed to firmware development on desktops. There are a few successfully enabled coreboot supported Dell machines that were enabled by 3mdeb and other platforms based on Intel FSP. By leveraging our knowledge and experience from the ESRT project, which plays a vital role within the operating system to initiate capsule updates at the system level, we bring valuable insights and advancements to the firmware update process. Through our contributions, we aim to promote open-source firmware adoption and facilitate a more robust and secure firmware update process, benefiting open-source firmware community and and ensuring a user-friendly and efficient firmware update experience for end-users.</p> <ul> <li>MSI Z690-A PRO DDR4 / DDR5: https://review.coreboot.org/c/coreboot/+/63463</li> <li>Dell OptiPlex 7010/9010 SFF: https://review.coreboot.org/c/coreboot/+/40351</li> <li>Dell Precision T1650: https://review.coreboot.org/c/coreboot/+/62212</li> <li>Libretrend LT1000: https://review.coreboot.org/c/coreboot/+/30360</li> <li>Protectli FW2B/FW4B: https://review.coreboot.org/c/coreboot/+/32076</li> <li>Protectli FW6: https://review.coreboot.org/c/coreboot/+/33839</li> <li>Fwupd for BSD: https://www.phoronix.com/news/FWUPD-To-The-BSDs</li> <li>EFI System Resource Table (ESRT): https://reviews.freebsd.org/rG24f398e7a153a05a7e94ae8dd623e2b6d28d94eb</li> </ul>"},{"location":"projects/capsule-updates/#significant-technical-challenges-you-expect-to-solve-during-the-project","title":"Significant technical challenges you expect to solve during the project","text":"<p>The coreboot and EDK II firmware frameworks need to be modified to support UEFI capsule update methods. This integration requires understanding and implementing the UEFI specification, especially the EFI_FIRMWARE_MANAGEMENT_PROTOCOL, FMP capsule format, and EFI System Resource Table (ESRT). Adapting coreboot and EDK II to support these mechanisms will involve extensive code changes and ensuring compatibility with the UEFI standard. Solving these challenges will involve significant code modifications, rigorous testing, and an active collaboration with the coreboot and EDK II communities to ensure successful integration and smooth functionality.</p>"},{"location":"projects/capsule-updates/#ecosystem-of-the-project","title":"Ecosystem of the project","text":"<p>Although 3mdeb will be responsible for the whole implementation and testing, anyone is also welcome to test, develop code, and report issues after the results will be published. For the project to be successful, the outcomes should be included in the upstream coreboot and edk2 projects for the benefit of the wider community. That is why we expect high level of engagement with communities of both of this projects at each stage of the project, to make sure the proposed solution can be accepted upstream.</p>"},{"location":"projects/capsule-updates/#review","title":"Review","text":"<p>Further reviews and suggestions are welcome. You can do it in two ways:</p> <ul> <li>using Giscus on the bottom of this page</li> <li>contributing to this repository directly via Pull Request</li> </ul>"},{"location":"projects/trenchboot-aem-v2/","title":"Trenchboot as Anti Evil Maid","text":""},{"location":"projects/trenchboot-aem-v2/#abstract","title":"Abstract","text":"<p>As Qubes OS users, promoters, and developers, we understand how essential it is to be aware of the latest developments in maintaining the security of your favorite operating system. We're excited to share our plans to integrate the TrenchBoot Project into Qubes OS's new Anti-Evil Maid (AEM) implementation. As you may know, traditional firmware security measures like UEFI Secure Boot and measured boot, even with a Static Root of Trust (SRT), may only sometimes be enough to ensure a completely secure environment for your operating system. Compromised firmware may allow for the injection of malicious software into your system, making it difficult to detect. To overcome these limitations, many silicon vendors have started implementing Dynamic Root of Trust (DRT) technologies to establish a secure environment for operating system launch and integrity measurements. We're excited to take advantage of these advancements through integration with the TrenchBoot Project.</p> <p>The usage of DRT technologies like Intel Trusted Execution Technology (TXT) or AMD Secure Startup becomes more and more significant, for example, Dynamic Root of Trust for Measurement (DRTM) requirements of Microsoft Secured Core PCs.  In open-source projects, DRTM hasn't found its place yet, but that gradually changes. The demand on having firmware independent Roots of Trust is increasing and projects that satisfy this demand are growing, for instance, TrenchBoot.  TrenchBoot is a framework that allows individuals and projects to build security engines to perform launch integrity actions for their systems. The framework builds upon Boot Integrity Technologies (BITs) that establish one or more Roots of Trust (RoT) from which a degree of confidence that integrity actions were not subverted is derived. The project has grown a lot thanks to the previous NLnet NGI0 PET grant and now it looks for further expansion into extensive use of the DRT technologies in open-source and security-oriented operating systems like Qubes OS. Qubes OS Anti Evil Maid (AEM) software heavily depends on the availability of the DRTM technologies to prevent the Evil Maid attacks.  However, the project hasn't evolved much since the beginning of 2018 and froze on the support of TPM 1.2 with Intel TXT in legacy boot mode (BIOS). This effectively limits the usage of this security software to older Intel machines only. TPM 1.2 implemented SHA1 hashing algorithm which is nowadays considered weak in the era of forever-increasing computer performance and quantum computing. The solution to this problem comes with a newer TPM 2.0 with more agile cryptographic algorithms and SHA256 implementation by default.  Qubes OS AEM software suffers from the following:</p> <ol> <li>Lack of TPM 2.0 support to handle more secure hashes and safer design of the    TPM firmware according to a newer specification.</li> <li>Qubes OS AEM has never supported any AMD processors with AMD Secure Startup    technology. Implementing AMD support would make a huge impact and broaden    the usage of DRTM technologies.</li> </ol> <p>The initial AEM implementation relied on the Trusted Boot project, Intel's reference implementation of Intel TXT. It had never any plans to support AMD processors. TrenchBoot is filling this gap supporting both Intel and AMD hardware which makes it an ideal target to replace Trusted Boot in Qubes OS AEM implementation. Furthermore, the project grant would be used to implement the missing pieces in the Qubes OS AEM software to cover the AMD and Intel support for both TPM 1.2 and TPM 2.0.</p>"},{"location":"projects/trenchboot-aem-v2/#compare-your-own-project-with-existing-or-historical-efforts","title":"Compare your own project with existing or historical efforts","text":"<p>3mdeb is a licensed provider for quality coreboot consulting services for 7 years. We are well-known in the open-source community for maintaining firmware of the PC Engines APU series platform for over 7-years. Delivering high-quality firmware releases each month and providing technical support on PC Engines and OPNSense forums. 3mdeb embedded systems developers are experienced engineers accustomed to operating systems development. Our developers have contributed to the fwupd support for Qubes OS. 3mdeb is also regularly co-organizing mini-conference events with Qubes OS maintainer Marek Marczykowski-G\u00f3recki where various topics related to Qubes OS security are discussed. Among them, the Anti Evil Maid was frequently presented by 3mdeb engineers:</p> <ul> <li>Anti Evil Maid for Intel coreboot-based platform</li> <li>Anti Evil Maid for modern AMD UEFI-based platform</li> </ul> <p>3mdeb, with financial support from Qubes OS, developed a proof of concept replacing Trusted Boot with TrenchBoot on Intel hardware with TPM 1.2. Qubes OS and 3mdeb already tested a new solution with Qubes OS Anti Evil Maid, which is available for community use. The result of this solution can be seen in the published blog post that concludes the first phase of integrating TrenchBoot Anti Evil Maid for Qubes OS. The numbering of the next phases of the project will commence with number 2 in order to maintain consistency with the work already completed in phase 1. The following application describes the remaining work required to have production quality adoption in one of the most popular secure operating system on the market.</p>"},{"location":"projects/trenchboot-aem-v2/#what-are-the-significant-technical-challenges-you-expect-to-solve","title":"What are the significant technical challenges you expect to solve","text":"<p>First of all Qubes OS AEM software consists of software packages providing Trusted Boot and the Qubes OS TPM scripts. These software packages would need to replace the Trusted Boot with TrenchBoot supported GRUB2 and Xen.</p> <p>Secondly, the TPM scripts require adding support for TPM 2.0 equivalent functionality. AEM requires access to non-volatile RAM inside TPM which is defined differently in the TPM 2.0 specification compared to TPM 1.2.</p> <p>Another challenge would be to update the TrenchBoot components for AMD platforms to the recent boot protocol, which will allow AMD platforms to take advantage of the QubesOS AEM feature, and TrenchBoot.</p>"},{"location":"projects/trenchboot-aem-v2/#requested-support","title":"Requested support","text":"<ol> <li> <p>Phase 2 - TPM 2.0 support in Qubes OS AEM (Intel hardware):</p> <ul> <li> <p>Implement support for TPM 2.0 module in Xen</p> <p>Required to measure Dom0 kernel and initial ram disk before they are executed.</p> </li> <li> <p>Implement support for TPM 2.0 event log in Xen</p> <p>Required to log the Dom0 kernel and initial ram disk hashes to the TPM event log. The event log could be used for future system attestation.</p> </li> <li> <p>Implement parallel CPU cores bring-up for DRTM launch</p> <p>Currently the CPU cores are being woken up in parallel, but later they are hacked to be waiting in a queue. If any interrupt would come at that time, it could be a serious danger. It has to be fixed as soon as possible, as required by Intel TXT specification.</p> </li> <li> <p>Integrate TPM 2.0 software stack into Qubes OS Dom0</p> </li> <li> <p>Extend the AEM scripts to detect TPM version on the platform</p> <p>While AEM fully supports TPM 1.2 there is no support for TPM 2.0 at all. When the TPM family is determined the script should use the appropriate software stack for given TPM. The task implements the AEM TPM 1.2 equivalent functionalities using TPM 2.0 software stack and as a result allowing the use of TPM 2.0 with Qubes OS AEM. It will require implementing the access to TPM 2.0 NVRAM, sealing and unsealing the secret data and generating TOTP.</p> </li> <li> <p>Extend the AEM scripts to use appropriate software stack for TPM 2.0</p> <p>Currently, only TPM 1.2 is supported in Qubes OS AEM service code. The 3 items above will ensure the necessary software for TPM 2.0 is available and AEM scripts executed early from the initrd can detect which TPM family is present on the platform and use appropriate software stack and functions. TPM 1.2 and TPM 2.0 software stacks are not compatible so the scripts themselves must use proper API for given TPM and its respective software stack.</p> </li> <li> <p>Update Qubes OS AEM documentation</p> </li> <li> <p>Test the solution on Intel hardware with TPM 1.2 and 2.0 using legacy   boot mode</p> </li> </ul> </li> <li> <p>Phase 3 - Update to the newest TrenchBoot boot protocol:</p> <ul> <li> <p>Code rebase onto the most recent work implementing Secure Launch protocol   being upstreamed to Linux and GRUB</p> <p>The current state of TrenchBoot support has diverged with what was developed for QubesOS AEM for Intel hardware with TPM 1.2. The task aims to update the work and align with the TrenchBoot boot protocol being upstreamed to GRUB and Linux kernel. Xen shall take similar approach as Linux kernel in terms of DRTM launch.</p> </li> <li> <p>Test the solution on Intel hardware with TPM 1.2 and TPM 2.0 using   legacy boot mode</p> </li> </ul> </li> <li> <p>Phase 4 - AMD support for Qubes OS AEM with TrenchBoot:</p> <ul> <li> <p>Update the Secure Kernel Loader (formerly LandingZone) package support   for QubesOS</p> <p>Since the initial work done by 3mdeb engineers for AMD AEM in Qubes OS a lot of time has passed and Secure Kernel Loader - SKL (formerly Landing Zone) has improved a lot and added new features. SKL is an open-source module written by TrenchBoot developers required by AMD Secure Startup technology to perform DRTM launch. The task aims to refresh the previous work and update the SKL package for Qubes OS to the newest revision.</p> </li> <li> <p>TrenchBoot Secure Kernel Loader (SKL) improvements for AMD server   CPUs with multiple nodes</p> <p>While SKL was extensively tested on System on Chip and single CPU platforms, it was not much tested on workstation/server segment CPUs which are more complex. For example one server CPU package may contain two independent CPUs inside called nodes. Each node will enable protection on the SKL during DRTM execution. This protection has to be disabled on each node when TrenchBoot DRTM tasks are done. The task implements the correct support for server CPUs in TrenchBoot SKL.</p> </li> <li> <p>Update TrenchBoot boot protocol for AMD in GRUB2</p> <p>Some work to implement TrenchBoot support for Qubes OS on AMD hardware has been done. GRUB2 with TrenchBoot support has been added to Qubes building system on 3mdeb fork. The task aims to update the work and align with the TrenchBoot boot protocol being upstreamed to GRUB2 and Linux kernel.</p> </li> <li> <p>Update TrenchBoot boot protocol for AMD in Secure Kernel Loader</p> <p>The task aims to update the TrenchBoot boot protocol for AMD platforms in Secure Kernel Loader and align with the TrenchBoot boot protocol being upstreamed to GRUB2 and Linux kernel.</p> </li> <li> <p>Test the solution on AMD hardware with TPM 2.0 and TPM 1.2 with legacy   boot mode</p> </li> </ul> </li> </ol>"},{"location":"projects/trenchboot-aem-v2/#projects-or-organizations-relevant-to-this-project-before","title":"Projects or organizations relevant to this project before?","text":"<ol> <li>Qubes OS</li> <li>Xen Hypervisor</li> <li>GNU GRUB</li> <li>TrenchBoot</li> <li>Invisible Things Lab</li> <li>Apertus Solutions</li> <li>Oracle</li> <li>3mdeb</li> </ol>"},{"location":"projects/trenchboot-aem-v2/#the-ecosystem-of-the-project","title":"The ecosystem of the project","text":"<p>3mdeb has a good relationship with the maintainers of relevant projects which will participate in review of the work:</p> <ul> <li>Marek Marczykowski-G\u00f3recki (Invisible Things Lab CTO) - Qubes OS maintainer</li> <li>Andrew Cooper (Citrix) - Xen Hypervisor Maintainer</li> <li>Daniel Kiper (Oracle) - GRUB2 Maintainer</li> <li>Daniel Smith (Apertus Solutions) - TrenchBoot founder and maintainer</li> </ul>"},{"location":"projects/trenchboot-aem-v2/#review","title":"Review","text":"<p>Further reviews and suggestions are welcome. You can do it in two ways:</p> <ul> <li>using Giscus on the bottom of this page</li> <li>contributing to this repository directly via Pull Request</li> </ul>"},{"location":"projects/trenchboot-aem/","title":"Trenchboot as Anti Evil Maid","text":"<p>This is out of date and left here as a reference. Please use the current version of the plan for up-to-date information</p>"},{"location":"projects/trenchboot-aem/#abstract","title":"Abstract","text":"<p>The firmware is the heart of the security of a given system and should always be up-to-date to maintain the computer's security. However, being up to date does not prevent the firmware vulnerabilities from appearing. The Static Root of Trust (SRT) like Unified Extensible Firmware Interface (UEFI) Secure Boot and measured boot provided by the firmware is not always sufficient to establish a secure environment for an operating system. If the firmware is compromised, it could inject malicious software into operating system components and prevent the machine owner from detecting it. Silicon vendors implement alternative technologies to establish a Dynamic Root of Trust (DRT) to provide a secure environment for operating system launch and integrity measurements. Either from SRT or DRT, these integrity measurements can be used for operating system attestation. However, DRT technologies are designed to provide the ability to establish a secure environment for integrity measurements at any arbitrary point of time instead of relying on the firmware, which requires machine reset to establish the aforementioned secure environment.</p> <p>The usage of DRT technologies like Intel Trusted Execution Technology (TXT) or AMD Secure Startup becomes more and more significant, for example, Dynamic Root of Trust for Measurement (DRTM) requirements of Microsoft Secured Core PCs. DRTM hasn't found its place in open-source projects yet, but that gradually changes. The demand on having firmware independent Roots of Trust is increasing, and projects that satisfy this demand are growing, for instance, TrenchBoot. TrenchBoot is a framework that allows individuals and projects to build security engines to perform launch integrity actions for their systems. The framework builds upon Boot Integrity Technologies (BITs) that establish one or more Roots of Trust (RoT) from which a degree of confidence that integrity actions were not subverted is derived. The project has grown a lot thanks to the previous NLnet NGI0 PET grant and now it looks for further expansion into extensive use of the DRT technologies in open-source and security-oriented operating systems like Qubes OS. Qubes OS Anti Evil Maid (AEM) software heavily depends on the availability of the DRTM technologies to prevent the Evil Maid attacks. However, the project hasn't evolved much since the beginning of 2018 and froze on the support of TPM 1.2 with Intel TXT in legacy boot mode (BIOS). Because of that, the usage of this security software is effectively limited to older Intel machines only. TPM 1.2 implemented SHA1 hashing algorithm, which is nowadays considered weak in the era of forever-increasing computer performance and quantum computing. The solution to this problem comes with a newer TPM 2.0 with more agile cryptographic algorithms and SHA256 implementation by default. Qubes OS AEM software suffers from the following:</p> <ol> <li>Lack of TPM 2.0 support to handle more secure hashes and safer design of the    TPM firmware according to a newer specification.</li> <li>Lack of UEFI mode support. All modern systems boot in UEFI mode only. Legacy    boot modes are being deprecated and dropped from the PC firmware. The AEM    usage is not possible on most if not all modern machines.</li> <li>Qubes OS AEM has never supported AMD processors with AMD Secure Startup    technology. Implementing AMD support would make a significant impact and    broaden the usage of DRTM technologies.</li> </ol> <p>The initial AEM implementation relied on the Trusted Boot, Intel's reference implementation of Intel TXT. It never had any plans to support AMD processors. TrenchBoot is filling this gap, supporting both Intel and AMD hardware which makes it an ideal target to replace Trusted Boot in Qubes OS AEM implementation. Furthermore, the project grant would be used to implement the missing pieces in the Qubes OS AEM software to cover the AMD and Intel support for both TPM 1.2 and TPM 2.0.</p>"},{"location":"projects/trenchboot-aem/#compare-your-own-project-with-existing-or-historical-efforts","title":"Compare your own project with existing or historical efforts","text":"<p>3mdeb is a licensed provider for quality coreboot consulting services since 2016. We are well-known in the open-source community for maintaining the firmware of the PC Engines APU series platform since 2016. Delivering high-quality firmware releases each month and providing technical support on PC Engines and OPNSense forums. 3mdeb embedded systems developers are experienced engineers accustomed to operating systems development. Our developers have contributed to the fwupd support for Qubes OS. 3mdeb is also regularly co-organizing mini-conference events with Qubes OS maintainer Marek Marczykowski-G\u00f3recki, where various topics related to Qubes OS security are discussed. Among them, the Anti Evil Maid was frequently presented by 3mdeb engineers:</p> <ul> <li>Anti Evil Maid for Intel coreboot-based platform</li> <li>Anti Evil Maid for modern AMD UEFI-based platform</li> </ul> <p>A similar approach was already tried by Assured Information Security (AIS) to boot Xen in UEFI mode with Intel TXT DRTM technology. However, this is only a tiny portion of the work covered by our proposal. Additionally, Qubes OS does not launch using Xen.efi like in the AIS work but uses Multiboot2 protocol with GRUB2 instead, making this approach unusable. Moreover, the Xen.efi approach is much more complex and assumes usage of Trusted Boot, limiting the feature to Intel hardware only.</p>"},{"location":"projects/trenchboot-aem/#what-are-the-significant-technical-challenges-you-expect-to-solve","title":"What are the significant technical challenges you expect to solve","text":"<p>First of all, Qubes OS AEM software consists of software packages providing Trusted Boot and the Qubes OS TPM scripts. These software packages would need to replace the Trusted Boot with TrenchBoot supported GRUB2 and Xen. Secondly, the TPM scripts require adding support for TPM 2.0 equivalent functionality. AEM requires access to non-volatile RAM inside TPM, which is defined differently in the TPM 2.0 specification compared to TPM 1.2.</p> <p>Another challenge would be to make Xen possible to boot in UEFI boot mode without Boot Services defined in UEFI specification. Boot Services are a set of functions exposed in UEFI structures that are used to help with handling the boot process. However, the main principle of DRTM technologies is to not depend on any external code that is not a part of the operating system software to be executed after DRTM. UEFI Boot Services are a part of the firmware of which DRTM tries to be independent. The whole security concept of DRTM depends on cutting the ties with firmware. Thus the work includes implementing the capability in Xen not to use the UEFI Boot Services, which GRUB2 would terminate before DRTM is executed. Xen also contains an option not to use the UEFI Runtime Services. Runtime Services is a set of functions available throughout the whole machine lifetime, which means some firmware functionalities are available even when the operating system is launched.</p> <p>Removing the Boot Services from Xen brings certain drawbacks to the system because the Boot Services hold essential information like memory map, TPM event log, graphics framebuffer, etc. This information must be extracted by GRUB before Boot Services are terminated and passed to the Xen. The proposed solution is to pass this information via the Multiboot2 tags defined in the specification for this particular Boot Services information.</p> <p>Another challenge would be to get the work merged in the upstream repositories. It would ensure the long-term support and maintenance of the solution and availability. Providing software packages to be used out of the box is crucial for technology availability.</p>"},{"location":"projects/trenchboot-aem/#requested-support","title":"Requested support","text":"<ol> <li> <p>Phase 1: TrenchBoot Intel TXT and TPM 1.2 support</p> <ul> <li> <p>Add TPM 1.2 support for Intel TXT in TrenchBoot GRUB2</p> <p>The TrenchBoot support hasn't been implemented and verified with TPM 1.2 on Intel TXT path. This requirement ensures that the TPM 1.2 is also supported for older Intel hardware with Intel TXT.</p> </li> <li> <p>Xen Secure Launch - Intel TXT support in Xen for TrenchBoot</p> <p>Due to the requirements of Intel TXT and how it is utilized, it is impossible to use the Xen boot protocols defined in the UEFI or Multiboot2 specifications. This task aims to create a custom Intel TXT entry point for Xen, which would hand off to the standard Multiboot2 entry point and enable the direct launch of Xen by GRUB via DRTM on Intel hardware. Additionally, there is no support for launching Xen with Intel TXT other than Trusted Boot. It has to be ported from Trusted Boot specific code:</p> <ul> <li>constructing MLE header</li> <li>waking up APs</li> <li>restoring MTRRs</li> <li>reserving the TXT memory</li> <li>reenabling SMIs</li> <li>handling TXT shutdown and S3 resume/suspend</li> <li>TPM event log finding</li> </ul> </li> <li> <p>Test the solution on Intel hardware with TPM 1.2 with legacy boot mode</p> </li> </ul> </li> <li> <p>Phase 2 - Qubes OS AEM TPM 2.0 support:</p> <ul> <li> <p>Extend the AEM scripts to detect TPM version on the platform</p> <p>As TPM 1.2 and TPM 2.0 use different software stacks and tools, it is necessary to distinguish the TPM module family and use the appropriate software. The task will implement the logic to distinguish the TPM families.</p> </li> <li> <p>Extend the AEM scripts to use the appropriate software stack for TPM 2.0</p> <p>While AEM fully supports TPM 1.2, there is no support for TPM 2.0 at all. When the TPM family is determined, the script should use the appropriate software stack for the given TPM. The task implements the AEM TPM 1.2 equivalent functionalities using TPM 2.0 software stack and as a result allowing the use of TPM 2.0 with Qubes OS AEM. It will require implementing the access to TPM 2.0 NVRAM, sealing and unsealing the secret data, and generating TOTP.</p> </li> <li> <p>Test the solution on Intel hardware with TPM 2.0 with legacy boot mode</p> </li> </ul> </li> <li> <p>Phase 3 - Qubes OS AEM AMD support:</p> <ul> <li> <p>Rebase and refresh TrenchBoot GRUB2 for QubesOS</p> <p>Some work to implement TrenchBoot support for Qubes OS on AMD hardware has been done. GRUB2 with TrenchBoot support has been added to Qubes building system on 3mdeb fork The task aims to refresh the work and align with the upstream Qubes OS GRUB2 repository</p> </li> <li> <p>Clean up the Secure Kernel Loader (formerly LandingZone) package support   for QubesOS</p> <p>Since the initial work done by 3mdeb engineers for AMD AEM in Qubes OS, a lot of time has passed, and Secure Kernel Loader - SKL (formerly Landing Zone) has improved a lot and added new features. SKL is an open-source module written by TrenchBoot developers required by AMD Secure Startup technology to perform DRTM launch. The task aims to refresh the previous work and update the SKL package for Qubes OS to the newest revision.</p> </li> <li> <p>TrenchBoot Secure Kernel Loader (SKL) improvements for AMD server CPUs with   multiple nodes</p> <p>While SKL was extensively tested on System on Chip and single CPU platforms, it was not tested on workstation/server segment CPUs which are more complex. For example, one server CPU package may contain two independent CPUs inside called nodes. Each node will enable protection on the SKL during DRTM execution, and this protection must be disabled on each node when TrenchBoot DRTM tasks are done. The task implements the correct support for server CPUs in TrenchBoot SKL.</p> </li> <li> <p>Test the solution on AMD hardware with TPM 2.0 and TPM 1.2 with legacy boot   mode</p> </li> </ul> </li> <li> <p>Phase 4 - Xen UEFI boot mode with DRTM:</p> <ul> <li> <p>TrenchBoot support for UEFI boot mode for AMD in GRUB</p> <p>While TrenchBoot DRTM was extensively tested on Intel hardware with UEFI firmware and Linux, it was not on AMD platforms. This task ensures that DRTM works with UEFI boot mode on AMD processors in GRUB2 and Linux without UEFI Boot Services.</p> </li> <li> <p>TrenchBoot support for UEFI boot mode in Xen</p> <p>When UEFI boot mode with TrenchBoot is working with GRUB2 and Linux, all that is missing to fully support AMD and Intel hardware with Qubes OS AEM is the Xen support to boot in UEFI mode without Boot Services. This requires a significant amount of work to ensure that all information that Xen would obtain from UEFI Boot Services would still be available. The information has to be passed by GRUB2 to Xen via Multiboot2 protocol:</p> <ul> <li>EFI memory map</li> <li>Framebuffer information</li> <li>PCI devices information with their option ROMs</li> </ul> <p>Additionally \"EFI boot services not terminated\" Multiboot2 tag must not be passed to Xen by GRUB2 on DRTM launch when GRUB2 will terminate Boot Services. Xen should detect such situations and act according to the state of Boot Services. Xen will be implemented to:</p> <ul> <li>parse the EFI memory map, framebuffer information, and PCI devices    information passed by GRUB2</li> <li>do not expose the \"EFI boot services\" Multiboot2 tag indicating that    Xen can be executed without UEFI Boot Services presence</li> <li>allocate the memory space for the trampoline used to launch other    processors or use the allocation done by GRUB2 if necessary</li> <li>do not go error path when Boot Services are not present and skip all    calls to UEFI Boot Services by using the information provided by    GRUB2</li> </ul> </li> <li> <p>Test the solution on AMD and Intel hardware with TPM 2.0 and TPM 1.2 with   legacy and UEFI boot mode</p> </li> </ul> </li> </ol>"},{"location":"projects/trenchboot-aem/#projects-or-organizations-relevant-to-this-project-before","title":"Projects or organizations relevant to this project before?","text":"<ol> <li>Qubes OS</li> <li>Xen Hypervisor</li> <li>GNU GRUB</li> <li>TrenchBoot</li> <li>Invisible Things Lab</li> <li>Apertus Solutions</li> <li>Oracle</li> <li>3mdeb</li> </ol>"},{"location":"projects/trenchboot-aem/#the-ecosystem-of-the-project","title":"The ecosystem of the project","text":"<p>3mdeb has a good relationship with the maintainers of relevant projects which will participate in the review of the work:</p> <ul> <li>Marek Marczykowski-G\u00f3recki (Invisible Things Lab CTO) - Qubes OS maintainer</li> <li>Andrew Cooper (Citrix) - Xen Hypervisor Maintainer</li> <li>Daniel Kiper (Oracle) - GRUB2 Maintainer</li> <li>Daniel Smith (Apertus Solutions) - TrenchBoot founder and maintainer</li> </ul>"},{"location":"projects/trenchboot-aem/#review","title":"Review","text":"<p>Further reviews and suggestions are welcome. You can do it in two ways:</p> <ul> <li>using Giscus on the bottom of this page</li> <li>contributing to this repository directly via Pull Request</li> </ul>"},{"location":"quality-principles/introduction/","title":"Dasharo Quality Principles","text":""},{"location":"quality-principles/introduction/#secure-delivery","title":"Secure Delivery","text":"<p>Each Dasharo release is secured cryptographically, ensuring with RSA 4096 keys the authenticity of binary SHA-256 integrity checksum. The three-step key verification is guarantees that your client receives a clean file without any third-party modifications. Integrity and signature verification procedure is included, so that the key compliance can be easily checked.</p>"},{"location":"quality-principles/introduction/#secure-maintenance","title":"Secure Maintenance","text":"<p>Dasharo doesn't believe in security through obscurity. That is why each Dasharo firmware is supported with the system of Transparent Validation, proving its efficiency and quality with testing results. As an Open Source product, it provides timely emergency releases and patches together with long-lasting maintenance.</p>"},{"location":"quality-principles/introduction/#credibility","title":"Credibility","text":"<p>Dasharo values credibility. Each release is extended by a validation report based on a project charter and a complete changelog with a description of the product versioning.</p>"},{"location":"quality-principles/introduction/#transparency","title":"Transparency","text":"<p>Generic testing procedures for a given Dasharo product line are included in the product documentation. Specific testing procedures are delivered in the form of a PDF document accompanying a release.</p>"},{"location":"quality-principles/introduction/#availability","title":"Availability","text":"<p>Dasharo product line page includes a hardware compatibility platform list. The platform for which the new product line is created becomes its reference platform. The consecutive hardware platforms are added to the hardware compatibility list (HCL).</p>"},{"location":"quality-principles/introduction/#compliance","title":"Compliance","text":"<p>No danger of version lock. Dasharo releases are versioned according to the [Semantic Versioning 2.0.0] (https://semver.org/) specification for the sake of consistency. Release notes comply with the [Keep A Changelog 1.0.0] specification (https://keepachangelog.com/en/1.0.0/).</p>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/","title":"Laboratory stand dedicated to MSI PRO Z690-A assembly guide","text":""},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#introduction","title":"Introduction","text":"<p>This document describes the assembly procedure dedicated to the MSI PRO Z690-A testing stand.</p>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#prerequisites","title":"Prerequisites","text":"<p>The below table contains information about all elements which are needed to create the testing stand.</p> <ul> <li>MSI PRO Z690-A platform</li> <li>RTE v1.1.0</li> <li>Sonoff S20 type E</li> <li>4x standard female-female connection wire 2.54 mm raster</li> <li>7x standard female-female connection wire 2.54/2.00 mm raster</li> <li>USB-UART converter with 4-wire cable</li> <li>4-pin header 2.54 mm raster</li> </ul>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#pre-setup-activities","title":"Pre-setup activities","text":"<p>The following subsections describe the method of preparing all the components of the laboratory stand.</p>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#msi-pro-z690-a","title":"MSI PRO Z690-A","text":"<p>MSI PRO Z690-A platform should be prepared in accordance with the Motherboard assembly documentation.</p>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#rte","title":"RTE","text":"<p>RTE (acronym: Remote Testing Environment) should be prepared in accordance with Quick start guide documentation dedicated to the device.</p>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#sonoff","title":"Sonoff","text":"<p>The below section of the documentation is based on the EPSHome documentation</p> <ol> <li> <p>Open the Sonoff case.</p> </li> <li> <p>Check if the headers are soldered to the board. If not - 4 pin header     raster 2.54 mm should be soldered to the board in accordance with the below     images.</p> <p></p> <p></p> </li> <li> <p>Connect the USB-UART converter to the USB port.</p> <p></p> </li> <li> <p>Create a Sonoff configuration file. The file extension should be <code>.yaml</code> and     it should contain the device configuration.</p> <p>Example configuration:</p> <pre><code>esphome:\n  name: XXXXXX\n  platform: ESP8266\n  board: esp01_1m\n\nwifi:\n  ssid: \"XXXXXX\"\n  password: \"XXXXXX\"\n  # manual_ip:\n  #   # Set this to the IP of the ESP\n  #   static_ip: 192.168.4.187\n  #   # Set this to the IP address of the router. Often ends with .1\n  #   gateway: 192.168.4.1\n  #   # The subnet of the network. 255.255.255.0 works for most home networks.\n  #   subnet: 255.255.255.0\n  power_save_mode: none\n\n\n  # # Enable fallback hotspot (captive portal) in case wifi connection fails\n  ap:\n    ssid: \"Sonoff1 Fallback Hotspot\"\n    password: \"123456789\"\n\n\ncaptive_portal:\n\n# Enable logging\nlogger:\n\n# Enable Home Assistant API\napi:\n\n\nota:\n\n\nbinary_sensor:\n- platform: gpio\n  pin:\n    number: GPIO0\n    mode: INPUT_PULLUP\n    inverted: True\n  name: \"Sonoff S20 Button\"\n  on_press:\n    - switch.toggle: relay\n- platform: status\n  name: \"Sonoff S20 Status\"\n\n\nswitch:\n- platform: gpio\n  name: \"Sonoff S20 Relay\"\n  pin: GPIO12\n  id: relay\n\noutput:\n- platform: esp8266_pwm\n  id: s20_green_led\n  pin: GPIO13\n  inverted: True\n\nlight:\n- platform: monochromatic\n  name: \"Sonoff S20 Green LED\"\n  output: s20_green_led\n\nweb_server:\n  port: 80\n  reboot_timeout: 0s\n</code></pre> </li> <li> <p>Run the docker container in the folder containing created <code>.yaml</code>     configuration file:</p> <pre><code>docker run --rm -v \"${PWD}\":/config --device=/dev/ttyUSB0 -p 6052:6052 -it esphome/esphome\n</code></pre> </li> <li> <p>Open the browser and type into the web browser the following address:</p> <pre><code>http://localhost:6052/\n</code></pre> </li> <li> <p>Put the device in flash mode. Putting the device in this mode should be done     in accordance with the     documentation.</p> </li> <li> <p>Change the upload method from OTA to <code>/dev/ttyUSB0</code>. After this operation,     the new element with the name specified in <code>esphome:name</code> should be     displayed.</p> </li> <li> <p>Select the option <code>Upload</code>. After clicking, the program should generate     the image, compile it and upload it to the device.</p> </li> <li> <p>After successful upload replug the device to the USB (without the button     pressed) to get out of the flashing mode.</p> </li> <li> <p>Open connection to the device in the PC terminal by typing:</p> <pre><code>sudo minicom -D /dev/ttyUSB0 -o -b 115200.\n</code></pre> <p>Note: <code>/dev/ttyUSB0</code> is example device - check whether <code>USB0</code> is the correct one.</p> </li> <li> <p>Check if the device is responsible - whether network connectivity     information is generated.</p> <p>Note: The effective range for this device is only a few meters.</p> </li> <li> <p>Based on the minicom logs read the IP address assigned to the device.</p> </li> </ol>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#connections","title":"Connections","text":"<p>The following sections describe how to enable all of the following features:</p> <ul> <li>serial connection to the platform,</li> <li>controlling power supply,</li> <li>enabling basic power actions with the platform (power off/power on/reset),</li> <li>external flashing with the RTE,</li> <li>device power status readout.</li> </ul>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#serial-connection","title":"Serial connection","text":"<ol> <li> <p>Attach the jumpers in the RTE J16 header to enable header J18:</p> Jumper position (TX) Jumper position (RX) EXT + COM EXT + COM </li> <li> <p>Connect the RTE J18 header to the platform JBD1 header as described in the     table:</p> RTE MSI PRO Z690-A J18 pin 1 (GND) JBD1 pin 1 (pin closer to JBAT1) J18 pin 2 (RX) JBD1 pin 2 (pin further from JBAT1) <p>Note: Pins on JBD1 are not described in the documentation. They have been discovered experimentally. Pay attention to the connections.</p> <p> </p> </li> </ol>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#power-supply-controlling","title":"Power supply controlling","text":"<p>Connect SeaSonic FOCUS Plus Platinum to Sonoff.</p>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#basic-power-operations-enabling","title":"Basic power operations enabling","text":"<p>Connect the RTE J11 header to the platform JFP1 header as described in the table:</p> RTE Msi Z690 J11 pin 9 JFP1 pin 6 (PWR_ON) J11 pin 8 JFP1 pin 7 (RST) J15 pin 1 (GND) JFP1 pin 5 (GND) <p> </p>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#external-flashing-enabling","title":"External flashing enabling","text":"<p>Connect the RTE SPI header to the platform as described in the table:</p> RTE SPI header MSI Z690-A J7 pin 1 (Vcc) JTPM1 pin 1 (SPI Power) J7 pin 2 (GND) JTPM1 pin 7 (GND) J7 pin 3 (CS) JTPM1 pin 5 (RESERVED / BIOS SPI CS pin) J7 pin 4 (SCLK) JTPM1 pin 6 (SPI Clock) J7 pin 5 (MISO) JTPM1 pin 3 (MISO) J7 pin 6 (MOSI) JTPM1 pin 4 (MOSI) <p>Note: external access to the flash chip is possible only from the JTPM header. JTPM1 is a 2mm pitch header, you will need 2mm to 2.54mm female-female dupont wires to connect to RTE.</p> <p> </p>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#device-power-status-readout","title":"Device power status readout","text":"<p>Connect the RTE J1 header to the platform JFP1 header as shown in the picture below:</p> <p></p> <p>The values \u200b\u200bof <code>R1</code>, <code>R2</code>, <code>V1</code> and <code>V2</code> should meet the relationship according to the formula <code>R1/R2 = V2/V1</code>. <code>V1</code> cannot be greater than 3.3V (RTE property).</p>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#complete-setup","title":"Complete Setup","text":"<p>After preparing all of the connections also three activities should be performed to enable all of the test stand features:</p> <ol> <li> <p>Connect Sonoff to the mains:</p> <p></p> </li> <li> <p>Connect the RTE to the Internet by using the Ethernet cable.</p> </li> <li>Connect the RTE to the mains by using the microUSB 5 V/2 A power supply.</li> </ol> <p>Complete setup should looks as follows:</p> <p></p>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#theory-of-operation","title":"Theory of operation","text":"<p>The following sections describe how to use all of the enabled features:</p> <ul> <li>serial connection to the platform,</li> <li>controlling power supply,</li> <li>enabling basic power actions with the platform (power off/power on/reset),</li> <li>external flashing with the RTE,</li> <li>device power status readout.</li> </ul>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#serial-connection_1","title":"Serial connection","text":"<p>The method of setting and using serial connection is described in the Serial connection guide.</p>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#power-supply-controlling_1","title":"Power supply controlling","text":"<p>Power supply controlling (in this case: controlling the state of Sonoff) should be performed based on the <code>sonoff.sh</code> script implemented in <code>meta-rte</code> (OS image dedicated to the RTE platform).</p> <p>Note, that before using the above-mentioned script, it should be modified and <code>SONOFF_IP</code> parameter should be set in accordance with obtained Sonoff IP address.</p> <p>To perform basic power operations use the below-described commands:</p> <ol> <li> <p>Turn on the power supply:</p> <pre><code>./sonoff on\n</code></pre> </li> <li> <p>Turn off the power supply:</p> <pre><code>./sonoff on\n</code></pre> </li> </ol>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#basic-power-operations","title":"Basic power operations","text":"<p>Basic power operations should be performed based on the <code>rte_ctrl</code> script implemented in <code>meta-rte</code> (OS image dedicated to the RTE platform). To perform basic power operations use the below-described commands:</p> <ol> <li> <p>Turn on the platform:</p> <pre><code>rte_ctrl pon\n</code></pre> </li> <li> <p>Turn off the platform:</p> <pre><code>rte_ctrl poff\n</code></pre> </li> <li> <p>Reset the platform:</p> <pre><code>rte_ctrl reset\n</code></pre> </li> </ol> <p>Note, that in order for the above commands to work properly, the platform should be powered up: both Sonoff and the power supply must be turned on.</p>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#external-flashing","title":"External flashing","text":"<p>The external flashing procedure should be performed based on the scripts implemented on the RTE platform. To perform the flashing operation reproduce, the below-described steps:</p> <ol> <li> <p>By using <code>scp</code> put the requested Dasharo file to the RTE:</p> <pre><code>scp &lt;path_to_firmware&gt;/&lt;firmware_file&gt; root@&lt;RTE_IP&gt;:/tmp/coreboot.rom\n</code></pre> <p>Where:</p> <ul> <li><code>path_to_firmware</code> - path to firmware, which should send to RTE,</li> <li><code>firmware_file</code> - the name of the firmware file, which should be sent     to RTE,</li> <li><code>RTE_IP</code> - IP address of the connected RTE.</li> </ul> </li> <li> <p>Login to RTE via <code>ssh</code> or <code>minicom</code>.</p> </li> <li> <p>Read the flash chip by executing the following command on RTE:</p> <pre><code>./flash.sh read tmp/dump.rom\n</code></pre> </li> <li> <p>If the reading was successful, the output from the command above should     contain the phrase <code>Verifying flash... VERIFIED</code>.</p> </li> <li> <p>Write the flash chip by executing the following command on RTE:</p> <pre><code>./flash.sh write /tmp/coreboot.rom\n</code></pre> <p>Do not interrupt the flashing procedure in any way (especially by changing connections). It may cause hardware damage!</p> </li> <li> <p>If the reading was successful, the output from the command above should     contain the phrase <code>Verifying flash... VERIFIED</code>.</p> </li> </ol>"},{"location":"transparent-validation/msi-z690/laboratory-assembly-guide/#device-power-status-readout_1","title":"Device power status readout","text":"<p>To read the current power status use the following command:</p> <pre><code>cat /sys/class/gpio/gpio12/value\n</code></pre> <p>Example output:</p> <ul> <li><code>1</code> means that the platform is turned on.</li> <li><code>0</code> means that the platform is turned off.</li> </ul>"},{"location":"transparent-validation/msi-z690/presale-assembly-and-validation/","title":"Presale device assembly and validation","text":""},{"location":"transparent-validation/msi-z690/presale-assembly-and-validation/#introduction","title":"Introduction","text":"<p>This document describes the assembly procedure of the MSI PRO Z690-A DDR4 with specified components in requirements.</p>"},{"location":"transparent-validation/msi-z690/presale-assembly-and-validation/#requirements","title":"Requirements","text":"Part Model Name Image Motherboard MSI PRO Z-690A DDR4 CPU Intel Core i5-12600K, 3.7G Cooling Noctua CPU NH-U12S Redux (w/ Noctua NM-i17xx-MP78 Mounting Kit) RAM Kingston Fury Beast, DDR4, 4*8GB (32GB Total), 3600MHz, CL17 Power Supply Seasonic Focus PX 750W 80 Plus Platinum Storage SSD Intel 670p 512 GB M.2 2280 PCI-E x4 Gen3 NVMe Enclosure SilentiumPC Armis AR1 <p>Additionally, you will need a regular Phillips screwdriver and thermal paste. Try not to tighten all the elements to the maximum, as it will make disassembly difficult. Remember that make all connections in the grounding strap.</p>"},{"location":"transparent-validation/msi-z690/presale-assembly-and-validation/#device-assembly","title":"Device assembly","text":""},{"location":"transparent-validation/msi-z690/presale-assembly-and-validation/#full-set-assembly","title":"Full set assembly","text":"<p>Section below describes the procedure of complete assembling of the working station.</p> <ol> <li>Unpack all equipment.</li> <li> <p>Place the motherboard in front of you, this is the component with which most     of the operations will be performed. It's best to put something softer under     the board so as not to damage it, e.g. during the installation of RAM     modules.</p> <p></p> </li> <li> <p>To install the CPU on the motherboard first, open the CPU socket:</p> <p></p> </li> <li> <p>Insert the processor carefully and tighten it with the dedicated mechanism:</p> <p></p> </li> <li> <p>To install the CPU cooler, the parts shown in the picture below are     necessary:</p> <p></p> </li> <li> <p>Attach the black stand to the bottom of the motherboard, then apply and screw     down the remaining parts except the cooler itself and apply thermal paste.     After these steps, the CPU area should look like this:</p> <p></p> </li> <li> <p>Then attach the cooler from above by tightening the two screws. Most likely,     for this operation, it is necessary to dismantle the fan and restore it     after tightening the screws.</p> <p></p> </li> <li> <p>Install the memory module into the DIMM slots. To insert a single module,     open the latch on both sides. Then insert the RAM and gently press the     module downward at both ends of the module and the latch will close     automatically. Always insert memory modules in the DIMMA2 slot first.</p> <p></p> </li> <li> <p>Install the M.2 solid-state drive (SSD) into the M.2 slot. Remove the two     screws from the cover and the one responsible for disk stabilization. Insert     the SSD into the M.2 slot and tighten the previously removed screws.</p> <p></p> </li> <li> <p>Take the enclosure of the computer and open one side as shown in the picture     below:</p> <p></p> </li> <li> <p>Install the rear panel by inserting it from the inside of the enclosure     and pressing it lightly.</p> <p></p> </li> <li> <p>Insert the motherboard into the case but do not twist it, some pins are     hard to connect when the motherboard is screwed. The photo below shows the     slots that should be filled in the next steps.</p> <p></p> </li> <li> <p>Connect the fan from the CPU cooler to the slot marked <code>I</code>.</p> <p></p> </li> <li> <p>Connect the cables from the front panel to the appropriately marked places:</p> <p></p> <p>A detailed description of the connection cable marked <code>D</code> can be found in the Board manual in section: JFP1, JFP2: Front Panel Connectors. To verify correct connection of the cable marked <code>D</code>, you can compare them to the pictures below:</p> <p>Connection from the inside: </p> <p>Connection from the outside: </p> </li> <li> <p>Connect the speaker to the slot marked before <code>E</code>:</p> <p></p> </li> <li> <p>Screw the motherboard to the enclosure.</p> </li> <li> <p>Connect the power supply to the motherboard using the cables marked RE25 for     connection to the <code>G</code> and <code>H</code> slots and the cable marked RJ21 to connect the     <code>F</code> slots.</p> <p></p> </li> <li> <p>Connect the fan built into the enclosure to the indicated place:</p> <p></p> </li> <li> <p>Bundle the cables so that they don't interfere with the fans or other     components.</p> </li> <li>Close the case of the computer.</li> </ol>"},{"location":"transparent-validation/msi-z690/presale-assembly-and-validation/#motherboard-assembly-only","title":"Motherboard assembly only","text":"<p>Section below describes the procedure of assembling the motherboard.</p> <p>To prepare the motherboard the following operations should be performed:</p> <ol> <li>Go through steps 1-8 from     Full set assembling section.</li> <li>Go through 13th step from Full set assembling section.</li> <li>Connect cable marked <code>D</code> to allows power on the device as described in     the 14th point of the     Full set assembling section.</li> <li>Connect the power supply to the motherboard as described in the 17th point     of the Full set assembling section.</li> </ol>"},{"location":"transparent-validation/msi-z690/presale-assembly-and-validation/#device-validation","title":"Device validation","text":"<ol> <li>Connect the device to the mains.</li> <li>Power on the device with the button located on the front panel.</li> <li>If all connections have been made correctly, the device should start and     the boot logo should be shown.</li> <li>Install Dasharo firmware in accordance with     Initial Deployment -     the <code>Migrating SMBIOS unique data</code> chapter can be skipped.</li> <li>Power on the device.</li> <li>Boot to Linux system (Ubuntu is recommended).</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo dmidecode -t 0 | grep Version\n</code></pre> </li> <li> <p>The output of the command above should be similar to:     <code>Version: Dasharo (coreboot+UEFI) &lt;version&gt;</code> where the version should     correspond to the version of the flashing binary used eg. v1.0.0.</p> </li> <li>Check in the system that everything is working properly.</li> </ol>"},{"location":"transparent-validation/msi-z690/presale-assembly-and-validation/#useful-content","title":"Useful content","text":"<ul> <li>Building manual - documentation contains information on how to     build Dasharo compatible with the MSI PRO Z690-A DDR4.</li> <li>Board manual - documentation contains detailed information about     the motherboard and its operations.</li> </ul>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/","title":"Laboratory stand dedicated to MSI PRO Z790-P assembly guide","text":""},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#introduction","title":"Introduction","text":"<p>This document describes the assembly procedure dedicated to the MSI PRO Z790-P testing stand.</p>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#prerequisites","title":"Prerequisites","text":"<p>The below table contains information about all elements which are needed to create the testing stand.</p> <ul> <li>MSI PRO Z790-P platform</li> <li>RTE v1.1.0</li> <li>Sonoff S20 type E</li> <li>4x standard female-female connection wire 2.54 mm raster</li> <li>7x standard female-female connection wire 2.54/2.00 mm raster</li> <li>USB-UART converter with 4-wire cable</li> <li>4-pin header 2.54 mm raster</li> </ul>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#pre-setup-activities","title":"Pre-setup activities","text":"<p>The following subsections describe the method of preparing all the components of the laboratory stand.</p>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#msi-pro-z790-p","title":"MSI PRO Z790-P","text":"<p>MSI PRO Z790-P platform should be prepared in accordance with the Motherboard assembly documentation.</p>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#rte","title":"RTE","text":"<p>RTE (acronym: Remote Testing Environment) should be prepared in accordance with Quick start guide documentation dedicated to the device.</p>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#sonoff","title":"Sonoff","text":"<p>The below section of the documentation is based on the EPSHome documentation</p> <ol> <li> <p>Open the Sonoff case.</p> </li> <li> <p>Check if the headers are soldered to the board. If not - 4 pin header     raster 2.54 mm should be soldered to the board in accordance with the below     images.</p> <p></p> <p></p> </li> <li> <p>Connect the USB-UART converter to the USB port.</p> <p></p> </li> <li> <p>Create a Sonoff configuration file. The file extension should be <code>.yaml</code> and     it should contain the device configuration.</p> <p>Example configuration:</p> <pre><code>esphome:\n  name: XXXXXX\n  platform: ESP8266\n  board: esp01_1m\n\nwifi:\n  ssid: \"XXXXXX\"\n  password: \"XXXXXX\"\n  # manual_ip:\n  #   # Set this to the IP of the ESP\n  #   static_ip: 192.168.4.187\n  #   # Set this to the IP address of the router. Often ends with .1\n  #   gateway: 192.168.4.1\n  #   # The subnet of the network. 255.255.255.0 works for most home networks.\n  #   subnet: 255.255.255.0\n  power_save_mode: none\n\n\n  # # Enable fallback hotspot (captive portal) in case wifi connection fails\n  ap:\n    ssid: \"Sonoff1 Fallback Hotspot\"\n    password: \"123456789\"\n\n\ncaptive_portal:\n\n# Enable logging\nlogger:\n\n# Enable Home Assistant API\napi:\n\n\nota:\n\n\nbinary_sensor:\n- platform: gpio\n  pin:\n    number: GPIO0\n    mode: INPUT_PULLUP\n    inverted: True\n  name: \"Sonoff S20 Button\"\n  on_press:\n    - switch.toggle: relay\n- platform: status\n  name: \"Sonoff S20 Status\"\n\n\nswitch:\n- platform: gpio\n  name: \"Sonoff S20 Relay\"\n  pin: GPIO12\n  id: relay\n\noutput:\n- platform: esp8266_pwm\n  id: s20_green_led\n  pin: GPIO13\n  inverted: True\n\nlight:\n- platform: monochromatic\n  name: \"Sonoff S20 Green LED\"\n  output: s20_green_led\n\nweb_server:\n  port: 80\n  reboot_timeout: 0s\n</code></pre> </li> <li> <p>Run the docker container in the folder containing created <code>.yaml</code>     configuration file:</p> <pre><code>docker run --rm -v \"${PWD}\":/config --device=/dev/ttyUSB0 -p 6052:6052 -it esphome/esphome\n</code></pre> </li> <li> <p>Open the browser and type into the web browser the following address:</p> <pre><code>http://localhost:6052/\n</code></pre> </li> <li> <p>Put the device in flash mode. Putting the device in this mode should be done     in accordance with the     documentation.</p> </li> <li> <p>Change the upload method from OTA to <code>/dev/ttyUSB0</code>. After this operation,     the new element with the name specified in <code>esphome:name</code> should be     displayed.</p> </li> <li> <p>Select the option <code>Upload</code>. After clicking, the program should generate     the image, compile it and upload it to the device.</p> </li> <li> <p>After successful upload replug the device to the USB (without the button     pressed) to get out of the flashing mode.</p> </li> <li> <p>Open connection to the device in the PC terminal by typing:</p> <pre><code>sudo minicom -D /dev/ttyUSB0 -o -b 115200.\n</code></pre> <p>Note: <code>/dev/ttyUSB0</code> is example device - check whether <code>USB0</code> is the correct one.</p> </li> <li> <p>Check if the device is responsible - whether network connectivity     information is generated.</p> <p>Note: The effective range for this device is only a few meters.</p> </li> <li> <p>Based on the minicom logs read the IP address assigned to the device.</p> </li> </ol>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#connections","title":"Connections","text":"<p>The following sections describe how to enable all of the following features:</p> <ul> <li>serial connection to the platform,</li> <li>controlling power supply,</li> <li>enabling basic power actions with the platform (power off/power on/reset),</li> <li>external flashing with the RTE,</li> <li>device power status readout.</li> </ul>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#serial-connection","title":"Serial connection","text":"<ol> <li> <p>Attach the jumpers in the RTE J16 header to enable header J18:</p> Jumper position (TX) Jumper position (RX) EXT + COM EXT + COM </li> <li> <p>Connect the RTE J18 header to the platform JBD1 header as described in the     table:</p> RTE MSI PRO Z790-P J18 pin 1 (GND) JBD1 pin 1 (pin closer to JBAT1) J18 pin 2 (RX) JBD1 pin 2 (pin further from JBAT1) <p>Note: Pins on JBD1 are not described in the documentation. They have been discovered experimentally. Pay attention to the connections.</p> <p> </p> </li> </ol>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#power-supply-controlling","title":"Power supply controlling","text":"<p>Connect SeaSonic FOCUS Plus Platinum to Sonoff.</p>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#basic-power-operations-enabling","title":"Basic power operations enabling","text":"<p>Connect the RTE J11 header to the platform JFP1 header as described in the table:</p> RTE Msi Z790-P J11 pin 9 JFP1 pin 6 (PWR_ON) J11 pin 8 JFP1 pin 7 (RST) J15 pin 1 (GND) JFP1 pin 5 (GND) <p> </p>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#external-flashing-enabling","title":"External flashing enabling","text":"<p>Connect the RTE SPI header to the platform as described in the table:</p> RTE SPI header MSI Z790-P J7 pin 1 (Vcc) JTPM1 pin 1 (SPI Power) J7 pin 2 (GND) JTPM1 pin 7 (GND) J7 pin 3 (CS) JTPM1 pin 5 (RESERVED / BIOS SPI CS pin) J7 pin 4 (SCLK) JTPM1 pin 6 (SPI Clock) J7 pin 5 (MISO) JTPM1 pin 3 (MISO) J7 pin 6 (MOSI) JTPM1 pin 4 (MOSI) <p>Note: external access to the flash chip is possible only from the JTPM header. JTPM1 is a 2mm pitch header, you will need 2mm to 2.54mm female-female dupont wires to connect to RTE.</p> <p> </p>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#device-power-status-readout","title":"Device power status readout","text":"<p>Connect the RTE J1 header to the platform JFP1 header as shown in the picture below:</p> <p></p> <p>The values \u200b\u200bof <code>R1</code>, <code>R2</code>, <code>V1</code> and <code>V2</code> should meet the relationship according to the formula <code>R1/R2 = V2/V1</code>. <code>V1</code> cannot be greater than 3.3V (RTE property).</p>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#complete-setup","title":"Complete Setup","text":"<p>After preparing all of the connections also three activities should be performed to enable all of the test stand features:</p> <ol> <li> <p>Connect Sonoff to the mains:</p> <p></p> </li> <li> <p>Connect the RTE to the Internet by using the Ethernet cable.</p> </li> <li>Connect the RTE to the mains by using the microUSB 5 V/2 A power supply.</li> </ol> <p>Complete setup should looks as follows:</p> <p></p>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#theory-of-operation","title":"Theory of operation","text":"<p>The following sections describe how to use all of the enabled features:</p> <ul> <li>serial connection to the platform,</li> <li>controlling power supply,</li> <li>enabling basic power actions with the platform (power off/power on/reset),</li> <li>external flashing with the RTE,</li> <li>device power status readout.</li> </ul>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#serial-connection_1","title":"Serial connection","text":"<p>The method of setting and using serial connection is described in the Serial connection guide.</p>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#power-supply-controlling_1","title":"Power supply controlling","text":"<p>Power supply controlling (in this case: controlling the state of Sonoff) should be performed based on the <code>sonoff.sh</code> script implemented in <code>meta-rte</code> (OS image dedicated to the RTE platform).</p> <p>Note, that before using the above-mentioned script, it should be modified and <code>SONOFF_IP</code> parameter should be set in accordance with obtained Sonoff IP address.</p> <p>To perform basic power operations use the below-described commands:</p> <ol> <li> <p>Turn on the power supply:</p> <pre><code>./sonoff on\n</code></pre> </li> <li> <p>Turn off the power supply:</p> <pre><code>./sonoff on\n</code></pre> </li> </ol>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#basic-power-operations","title":"Basic power operations","text":"<p>Basic power operations should be performed based on the <code>rte_ctrl</code> script implemented in <code>meta-rte</code> (OS image dedicated to the RTE platform). To perform basic power operations use the below-described commands:</p> <ol> <li> <p>Turn on the platform:</p> <pre><code>rte_ctrl pon\n</code></pre> </li> <li> <p>Turn off the platform:</p> <pre><code>rte_ctrl poff\n</code></pre> </li> <li> <p>Reset the platform:</p> <pre><code>rte_ctrl reset\n</code></pre> </li> </ol> <p>Note, that in order for the above commands to work properly, the platform should be powered up: both Sonoff and the power supply must be turned on.</p>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#external-flashing","title":"External flashing","text":"<p>The external flashing procedure should be performed based on the scripts implemented on the RTE platform. To perform the flashing operation reproduce, the below-described steps:</p> <ol> <li> <p>By using <code>scp</code> put the requested Dasharo file to the RTE:</p> <pre><code>scp &lt;path_to_firmware&gt;/&lt;firmware_file&gt; root@&lt;RTE_IP&gt;:/tmp/coreboot.rom\n</code></pre> <p>Where:</p> <ul> <li><code>path_to_firmware</code> - path to firmware, which should send to RTE,</li> <li><code>firmware_file</code> - the name of the firmware file, which should be sent     to RTE,</li> <li><code>RTE_IP</code> - IP address of the connected RTE.</li> </ul> </li> <li> <p>Login to RTE via <code>ssh</code> or <code>minicom</code>.</p> </li> <li> <p>Read the flash chip by executing the following command on RTE:</p> <pre><code>./flash.sh read tmp/dump.rom\n</code></pre> </li> <li> <p>If the reading was successful, the output from the command above should     contain the phrase <code>Verifying flash... VERIFIED</code>.</p> </li> <li> <p>Write the flash chip by executing the following command on RTE:</p> <pre><code>./flash.sh write /tmp/coreboot.rom\n</code></pre> <p>Do not interrupt the flashing procedure in any way (especially by changing connections). It may cause hardware damage!</p> </li> <li> <p>If the reading was successful, the output from the command above should     contain the phrase <code>Verifying flash... VERIFIED</code>.</p> </li> </ol>"},{"location":"transparent-validation/msi-z790/laboratory-assembly-guide/#device-power-status-readout_1","title":"Device power status readout","text":"<p>To read the current power status use the following command:</p> <pre><code>cat /sys/class/gpio/gpio12/value\n</code></pre> <p>Example output:</p> <ul> <li><code>1</code> means that the platform is turned on.</li> <li><code>0</code> means that the platform is turned off.</li> </ul>"},{"location":"transparent-validation/muxpi/basic-validation/","title":"muxPi board validation","text":"<p>In case of any troubles, first it is recommended to read     comprehend Theory of Operations for muxPi     devices.</p>"},{"location":"transparent-validation/muxpi/basic-validation/#necessary-components-preparation","title":"Necessary components preparation","text":"<ul> <li>NanoPi</li> <li>muxPi</li> <li>ETH, microUSB&lt;-&gt;USB cables, power supply (5V/2A Dc 5.5/2.1mm jack)</li> <li>2 SDcards (minimum 8GB each)</li> <li>IDC-uSD adapter (DUT&lt;-&gt;SD card)</li> <li>SD card adapter (USB&lt;-&gt;SD card)</li> <li>Device bootable from SD card (e.g. RPI)</li> </ul>"},{"location":"transparent-validation/muxpi/basic-validation/#nanopi-setup","title":"NanoPi setup","text":"<ol> <li>Prepare microSD card (minimum 8GB) for NanoPi NEO operating system.</li> <li>Download and extract image -     link</li> <li>Flash image into microSD card (Etcher     tool could be helpful)</li> </ol>"},{"location":"transparent-validation/muxpi/basic-validation/#muxpi-setup","title":"muxPi setup","text":"<ol> <li>Attach NanoPi to muxPi connectors.</li> <li>Plug ETH cable to RJ45 NanoPi port.</li> <li>Plug microUSB&lt;-&gt;USB cable to muxPi and your machine.</li> <li> <p>Plug in power supply. </p> </li> <li> <p>Make sure that jumpers are correctly set according to image:</p> <p></p> </li> <li> <p>Connect to NanoPi using terminal:</p> <pre><code>sudo minicom -D /dev/ttyUSB0 -o -b 115200`\n</code></pre> </li> <li> <p>Save ip address:</p> <pre><code>ifconfig\n</code></pre> </li> <li> <p>Connect to NanoPi via ssh (with password: <code>fa</code>):</p> <p><code>bash ssh root@192.168.4.XXX</code></p> </li> <li> <p>Or via serial connection.</p> <p>NOTE: Connecting with MuxPi through serial will automatically login as non root user <code>pi</code> with password <code>pi</code>.</p> </li> </ol>"},{"location":"transparent-validation/muxpi/basic-validation/#validation-steps","title":"Validation steps","text":""},{"location":"transparent-validation/muxpi/basic-validation/#1-install-wiringnp","title":"1. Install WiringNP","text":"<pre><code> git clone https://github.com/friendlyarm/WiringNP\n cd WiringNP/\n chmod 755 build\n ./build\n</code></pre> <ul> <li>verify installation:</li> </ul> <pre><code>gpio readall\n</code></pre> <ul> <li>If your installation is successful the following messages will show up:</li> </ul> <pre><code> +-----+-----+----------+------+---+-NanoPi-NEO--+------+----------+-----+-----+\n | BCM | wPi |   Name   | Mode | V | Physical | V | Mode | Name     | wPi | BCM |\n+-----+-----+----------+------+---+----++----+---+------+----------+-----+-----+\n |     |     |     3.3V |      |   |  1 || 2  |   |      | 5V       |     |     |\n|  12 |   8 |  GPIOA12 | ALT5 | 0 |  3 || 4  |   |      | 5V       |     |     |\n|  11 |   9 |  GPIOA11 | ALT5 | 0 |  5 || 6  |   |      | 0v       |     |     |\n| 203 |   7 |  GPIOG11 |  OFF | 0 |  7 || 8  | 0 | ALT5 | GPIOG6   | 15  | 198 |\n|     |     |       0v |      |   |  9 || 10 | 0 | ALT5 | GPIOG7   | 16  | 199 |\n|   0 |   0 |   GPIOA0 | ALT5 | 0 | 11 || 12 | 0 |  OUT | GPIOA6   | 1   | 6   |\n|   2 |   2 |   GPIOA2 |  OFF | 0 | 13 || 14 |   |      | 0v       |     |     |\n|   3 |   3 |   GPIOA3 |  OFF | 0 | 15 || 16 | 0 |  OFF | GPIOG8   | 4   | 200 |\n|     |     |     3.3v |      |   | 17 || 18 | 0 |  OFF | GPIOG9   | 5   | 201 |\n|  64 |  12 |   GPIOC0 | ALT4 | 0 | 19 || 20 |   |      | 0v       |     |     |\n|  65 |  13 |   GPIOC1 | ALT4 | 0 | 21 || 22 | 0 | ALT5 | GPIOA1   | 6   | 1   |\n|  66 |  14 |   GPIOC2 | ALT4 | 0 | 23 || 24 | 1 |  OUT | GPIOC3   | 10  | 67  |\n+-----+-----+----------+------+---+----++----+---+------+----------+-----+-----+\n | BCM | wPi |   Name   | Mode | V | Physical | V | Mode | Name     | wPi | BCM |\n+-----+-----+----------+------+---+-NanoPi-NEO--+------+----------+-----+-----+\n\n +-----+----NanoPi-NEO USB/Audio-+----+\n | BCM | wPi |   Name   | Mode | V | Ph |\n+-----+-----+----------+------+---+----+\n |     |     |       5V |      |   | 25 |\n|     |     |  USB-DP1 |      |   | 26 |\n|     |     |  USB-DM1 |      |   | 27 |\n|     |     |  USB-DP2 |      |   | 28 |\n|     |     |  USB-DM2 |      |   | 29 |\n|     |     |    IR-RX |      |   | 30 |\n|  17 |  19 |  GPIOA17 |  OFF | 0 | 31 |\n|     |     |  PCM/I2C |      |   | 32 |\n|     |     |  PCM/I2C |      |   | 33 |\n|     |     |  PCM/I2C |      |   | 34 |\n|     |     |  PCM/I2C |      |   | 35 |\n|     |     |       0V |      |   | 36 |\n+-----+-----+----------+------+---+----+\n\n +-----+----NanoPi-NEO Debug UART-+----+\n | BCM | wPi |   Name   | Mode | V | Ph |\n+-----+-----+----------+------+---+----+\n |   4 |  17 |   GPIOA4 | ALT5 | 0 | 37 |\n|   5 |  18 |   GPIOA5 | ALT5 | 0 | 38 |\n+-----+-----+----------+------+---+----+\n</code></pre>"},{"location":"transparent-validation/muxpi/basic-validation/#2-cortex-m0-flashing","title":"2. Cortex-M0 flashing","text":"<p>The second controllable unit on the muxPi board is embedded microcontroller <code>STM32 F030C6T6</code> from Cortex-M0 family. It is required to flash special binary prepared by Tizen group (the code is not open yet, but this process is in progress). To flash muxPi's microcontroller, follow steps below:</p> <ol> <li>Make sure that VDD jumper is left open.</li> <li>Download binary file - link.</li> <li>Copy binary to nanoPi: <code>scp &lt;path-to-file&gt; root@192.168.4.XXX:/root/</code></li> <li>Update package lists (nanoPi): <code>apt-get update</code></li> <li>Install stm32flash utility (nanoPi): <code>sudo apt-get install stm32flash</code></li> <li>Export GPIO: <code>gpio mode 3 out</code> and <code>gpio mode 7 out</code></li> <li>Set Cortex-M0 to \"Flashing mode\": <code>gpio write 7 1</code></li> <li>Power up microcontroller: <code>gpio write 3 1</code></li> <li>Flash firmware: <code>stm32flash -w /root/firmware-05.bin -v -g 0x0 /dev/ttyS2</code></li> <li>Power off microcontroller: <code>gpio write 3 0</code></li> <li>Set Cortex-M0 to \"Execution mode\": <code>gpio write 7 0</code></li> <li>Power on microcontroller: <code>gpio write 3 1</code></li> </ol> <p>From now on, muxPi's LCD should light on and display:</p> <pre><code>    *  MuxPi  *\n    HW: 1.0 SW: 0.5\n</code></pre>"},{"location":"transparent-validation/muxpi/basic-validation/#3-sd-adapter","title":"3. SD Adapter","text":"<ol> <li> <p>Connect IDC-uSD adapter to the muxPI board:</p> <p></p> </li> <li> <p>Insert the microSD card to microSD card slot accessible on the bottom side of    muxPi board.</p> </li> <li> <p>To enable microSD card reader, connect to Cortex from MuxPi via minicom:</p> <pre><code>minicom -D /dev/ttyS2\n</code></pre> <p>and enter in minicom following commands:</p> <pre><code>ts\n</code></pre> <p>and then</p> <pre><code>dut\n</code></pre> <p>NOTE: Each command should return <code>OK</code></p> </li> <li> <p>Connect IDC-uSD adapter to a SD card adapter plugged into your machine</p> <p>NOTE: You need to force IDC-uSD adapter to insert into SD card adapter</p> </li> <li> <p>(On your machine) Check if device is connected: <code>dmesg -w</code> should help. You should also be able to read and write data to uSD card from file manager.</p> </li> <li>Flash image into microSD card (for RPI or other device bootable form SD card).</li> <li>Disconnect uSD adapter form a SD card adapter and connect to the device (e.g. RPI).</li> <li>Connect device to the power supply, now device should boot via IDC-uSD adapter.</li> </ol>"},{"location":"transparent-validation/muxpi/basic-validation/#4-screening","title":"4. Screening","text":"<ol> <li>It is recommended to use screen program for communication:</li> <li>Install screen: <code>sudo apt-get install screen</code></li> <li>Open connection (from muxPi): <code>screen /dev/ttyS2 115200,cs8,ixon,ixoff</code></li> <li>Write <code>help</code> and press Enter.</li> </ol> <p>Help output:</p> <pre><code>help --- This help\nversion --- Display version of the firmware\necho --- Get (no arguments) or set ('on' or 'off') echo on serial \"console\": echo [on|off]. The default value is on.\npower --- Get (no arguments) or set ('on' or 'off') or switch off and on ('tick') power supply for DUT: power [on|off|tick]\nhdmi --- Get (no arguments) or set ('on' or 'off') HDMI HOTPLUG pin: hdmi [on|off]\ndyper --- Get (no second argument) or set ('on' or 'off') DyPer state: dyper 1|2 [on|off]\nmux --- Connect microSD card to external connector (DUT) or card reader (ts): mux [dut|ts]\ndut --- Connect microSD card and power to DUT: dut\n  ts --- Connect microSD card and power to TS: ts\n led --- Get (no second or third argument) or set ('R G B') color of led (1 | 2), ex: led 1 255 0 255\nclr --- Clear oled display\ntext --- Print text on the OLED display: text x y color content\ndraw --- Draw an object on the OLED display: draw object x1 y1 [x2 y2], objects are:\n         - point x y color - draws one point at given coordinates\n         - line x1 y1 x2 y2 color - draws line between given coordinates\n         - rectangle left top width height color - draws line between given coordinates\n         - circle x y radius color - draws line between given coordinates\ncolor must be 'on', 'off' or 'inv'\nadc --- Print current adc value of all (if no arguments are given) or one specified channel, ex: adc 1\nvoltage --- Print current voltage [mV] of all (if no arguments are given) or one specified channel, ex: voltage 1\ncurrent --- Print current current [mA] being consumed by DUT\nlthor --- Get (no second argument) or set state of lthor control signals:\n         - lthor switch [usb|uart] - redirect DUT's USB wires to NanoPi's 'usb' or 'uart'\n- lthor id [usb|uart] - switch DUT's USB to 'usb' or 'uart' mode\n         - lthor vbus [on|off] - switch DUT's VBUS 'on' or 'off'\n- lthor combo [usb|uart] - make DUT and MuxPi USB work in 'usb' or 'uart' mode - no get function\n\nkey --- Get current state of given key or both if no key number is given: key [1|2]\nuart --- Get current value of UART voltage or set if new value is given [in millivolts]\n</code></pre> <p>NOTE: <code>help</code> might not display anything. Then try to use minicom.</p> <p>Minicom quick guide:</p> <ol> <li>Install minicom: <code>sudo apt-get install minicom</code></li> <li>Connect via minicom: <code>sudo minicom -D /dev/ttyS2 -o -b 115200</code></li> <li> <p>Type: <code>help</code></p> <p>NOTE: If output is the same as above then basic validation for muxPi is done.</p> </li> </ol> <p>Images source: Wiki Tizen</p>"},{"location":"transparent-validation/muxpi/theory-of-operations/","title":"MuxPi - Theory of Operations","text":""},{"location":"transparent-validation/muxpi/theory-of-operations/#block-diagram","title":"Block diagram","text":""},{"location":"transparent-validation/muxpi/theory-of-operations/#muxpi-setup","title":"muxPi setup","text":""},{"location":"transparent-validation/muxpi/theory-of-operations/#nanopi-neo","title":"NanoPi NEO","text":"<p>Preparation of the muxPi's \"heart\":</p> <ol> <li>Prepare microSD card (minimum 8GB) for NanoPi NEO operating system.</li> <li>Download and extract image - link</li> <li>Flash image into microSD card (Etcher tool could be helpful)</li> <li>Insert card to NanoPi microSD slot.</li> <li>Attach NanoPi to muxPi connectors.</li> <li>Plug Ethernet cable to RJ45 NanoPi port.</li> </ol>"},{"location":"transparent-validation/muxpi/theory-of-operations/#serial-communication","title":"Serial communication","text":"<p>There are two methods to setup serial communication with muxPi:</p> <ul> <li> <p>with microUSB&lt;-&gt;USB cable</p> <p></p> </li> <li> <p>with UART/USB converter</p> <p>Attach USB/UART converter to muxPi's left addon female header (<code>GND</code>,  <code>DBG UART RX</code>, <code>DBG UART TX</code> on pinout image below):</p> <p></p> <p>and plug USB connector to the computer. Next, open connection in PC terminal by typing:</p> <pre><code>sudo minicom -D /dev/ttyUSB0 -o -b 115200.\n</code></pre> <p><code>/dev/ttyUSB0</code> is example device - check whether <code>USB0</code> is the correct one</p> </li> </ul>"},{"location":"transparent-validation/muxpi/theory-of-operations/#jumpers-configuration","title":"Jumpers configuration","text":"<ul> <li>UART - pins <code>Vloc</code> &amp; <code>VCC</code> - if jumped then internal voltage generator is     used as voltage reference for data lines and powers up target device. If     open then voltage reference for data lines comes from target device and     internal voltage generator is unused.</li> <li> <p>USB/ETH - determines what USB data lines of one USB HUB are connected to. If     first two pins are jumped then USB lines are connected to add-on connector.     If last two pins are jumped then these lines are connected tu USB&lt;-&gt;ETH     converter. If none of the pins are jumped then the only connection is the      upper socket of double connector.</p> <p>NOTE: The upper socket of double USB-A connector must be left empty if USB&lt;-&gt;ETH is selected or add-on connector is selected and something is connected to these data lines on the addon! NOTE: Both jumpers must be placed in the same position!</p> </li> <li> <p>VDD - if this pins are jumped then the VDD and 3V3 are always on. If this is     left open then VDD and 3V3 are controlled by NanoPi. The usage example is     setting value of USB ID potentiometer (which is located underneath NanoPi).     But when NanoPi NEO is removed there is no way to turn on power for     microcontroller (that is when VDD jumper is helpful).</p> <p>NOTE: If there is no particular need then leave this jumper open.</p> </li> </ul>"},{"location":"transparent-validation/muxpi/theory-of-operations/#power-supply","title":"Power supply","text":"<p>To power on MuxPi with NanoPi attached, plug the 5V/2A DC 5.5/2.1mm power supply jack to the CON1 muxPi's connector. Power consumption of MuxPi should be less then 1A assuming no addons connected.</p> <p></p>"},{"location":"transparent-validation/muxpi/theory-of-operations/#ip-address","title":"IP address","text":"<p>To check which IP address has been assigned, type in terminal: <code>ifconfig</code>.</p> <p>OPTIONAL STEP: To set static IP, create the following file:</p> <pre><code>sudo vi /etc/NetworkManager/NetworkManager.conf\n</code></pre> <p>Edit NetworkManger.conf and set the value of \"managed\" under \"ifupdown\" to false:</p> <pre><code>[ifupdown]\nmanaged=false\n</code></pre> <p>Add network setting to <code>/etc/network/interfaces</code>:</p> <pre><code>sudo vi /etc/network/interfaces\n</code></pre> <p>Here is sample of <code>/etc/network/interfaces</code>:</p> <pre><code># The loopback network interface\nauto lo\niface lo inet loopback\n\n# network interface not managed by Network Manager\nallow-hotplug eth0\niface eth0 inet static\naddress 192.168.4.XXX\nnetmask 255.255.255.0\ngateway 192.168.4.1\ndns-nameservers 192.168.4.1\n</code></pre> <p>Restart the whole device:</p> <pre><code>reboot\n</code></pre> <p>Now you should be able to connect to device through ssh:</p> <pre><code>ssh root@192.168.4.XXX\n</code></pre> <p>with the password: <code>fa</code></p>"},{"location":"transparent-validation/muxpi/theory-of-operations/#install-wiringnp","title":"Install WiringNP","text":"<p>Connect to NanoPi NEO through ssh (serial connection automatically login to non root user <code>pi</code>), then type:</p> <pre><code>git clone https://github.com/friendlyarm/WiringNP\ncd WiringNP/\nchmod 755 build\n./build\n</code></pre> <p>Verify installation:</p> <pre><code>gpio readall\n</code></pre> <p>If your installation is successful the following messages will show up:</p> <pre><code> +-----+-----+----------+------+---+-NanoPi-NEO--+------+----------+-----+-----+\n | BCM | wPi |   Name   | Mode | V | Physical | V | Mode | Name     | wPi | BCM |\n+-----+-----+----------+------+---+----++----+---+------+----------+-----+-----+\n |     |     |     3.3V |      |   |  1 || 2  |   |      | 5V       |     |     |\n|  12 |   8 |  GPIOA12 | ALT5 | 0 |  3 || 4  |   |      | 5V       |     |     |\n|  11 |   9 |  GPIOA11 | ALT5 | 0 |  5 || 6  |   |      | 0v       |     |     |\n| 203 |   7 |  GPIOG11 |  OFF | 0 |  7 || 8  | 0 | ALT5 | GPIOG6   | 15  | 198 |\n|     |     |       0v |      |   |  9 || 10 | 0 | ALT5 | GPIOG7   | 16  | 199 |\n|   0 |   0 |   GPIOA0 | ALT5 | 0 | 11 || 12 | 0 |  OUT | GPIOA6   | 1   | 6   |\n|   2 |   2 |   GPIOA2 |  OFF | 0 | 13 || 14 |   |      | 0v       |     |     |\n|   3 |   3 |   GPIOA3 |  OFF | 0 | 15 || 16 | 0 |  OFF | GPIOG8   | 4   | 200 |\n|     |     |     3.3v |      |   | 17 || 18 | 0 |  OFF | GPIOG9   | 5   | 201 |\n|  64 |  12 |   GPIOC0 | ALT4 | 0 | 19 || 20 |   |      | 0v       |     |     |\n|  65 |  13 |   GPIOC1 | ALT4 | 0 | 21 || 22 | 0 | ALT5 | GPIOA1   | 6   | 1   |\n|  66 |  14 |   GPIOC2 | ALT4 | 0 | 23 || 24 | 1 |  OUT | GPIOC3   | 10  | 67  |\n+-----+-----+----------+------+---+----++----+---+------+----------+-----+-----+\n | BCM | wPi |   Name   | Mode | V | Physical | V | Mode | Name     | wPi | BCM |\n+-----+-----+----------+------+---+-NanoPi-NEO--+------+----------+-----+-----+\n\n +-----+----NanoPi-NEO USB/Audio-+----+\n | BCM | wPi |   Name   | Mode | V | Ph |\n+-----+-----+----------+------+---+----+\n |     |     |       5V |      |   | 25 |\n|     |     |  USB-DP1 |      |   | 26 |\n|     |     |  USB-DM1 |      |   | 27 |\n|     |     |  USB-DP2 |      |   | 28 |\n|     |     |  USB-DM2 |      |   | 29 |\n|     |     |    IR-RX |      |   | 30 |\n|  17 |  19 |  GPIOA17 |  OFF | 0 | 31 |\n|     |     |  PCM/I2C |      |   | 32 |\n|     |     |  PCM/I2C |      |   | 33 |\n|     |     |  PCM/I2C |      |   | 34 |\n|     |     |  PCM/I2C |      |   | 35 |\n|     |     |       0V |      |   | 36 |\n+-----+-----+----------+------+---+----+\n\n +-----+----NanoPi-NEO Debug UART-+----+\n | BCM | wPi |   Name   | Mode | V | Ph |\n+-----+-----+----------+------+---+----+\n |   4 |  17 |   GPIOA4 | ALT5 | 0 | 37 |\n|   5 |  18 |   GPIOA5 | ALT5 | 0 | 38 |\n+-----+-----+----------+------+---+----+\n</code></pre>"},{"location":"transparent-validation/muxpi/theory-of-operations/#cortex-m0-flashing","title":"Cortex-M0 flashing","text":"<p>The second controllable unit on the muxPi board is embedded microcontroller <code>STM32 F030C6T6</code> from Cortex-M0 family. It is required to flash special binary prepared by Tizen group (the code is not open yet, but this process is in progress). To flash muxPi's microcontroller, follow steps below:</p> <ol> <li>Make sure that <code>VDD</code> jumper is left open.</li> <li>Download binary file - link</li> <li>Copy binary to nanoPi: <code>scp &lt;path-to-file&gt; root@192.168.4.XXX:/root/</code></li> <li>Update package lists (nanoPi): <code>apt-get update</code></li> <li>Install stm32flash utility (nanoPi): <code>sudo apt-get install stm32flash</code></li> <li>Export GPIO: <code>gpio mode 3 out</code> and <code>gpio mode 7 out</code></li> <li>Set Cortex-M0 to \"Flashing mode\": <code>gpio write 7 1</code></li> <li>Power up microcontroller: <code>gpio write 3 1</code></li> <li>Flash firmware: <code>stm32flash -w firmware-05.bin -v -g 0x0 /dev/ttyS2</code></li> <li>Power off microcontroller: <code>gpio write 3 0</code></li> <li>Set Cortex-M0 to \"Execution mode\": <code>gpio write 7 0</code></li> <li>Power on microcontroller: <code>gpio write 3 1</code></li> </ol> <p>From now on, muxPi's LCD should light on and display:</p> <pre><code>*  MuxPi  *\nHW: 1.0 SW: 0.5\n</code></pre>"},{"location":"transparent-validation/muxpi/theory-of-operations/#software-installation","title":"Software installation","text":"<p>NOTE: It is recommended to cross-compile muxPi's software on your host machine</p>"},{"location":"transparent-validation/muxpi/theory-of-operations/#building-using-docker","title":"Building using docker","text":"<p>Prerequisites: <code>Docker</code>, <code>Make</code>.</p> <ol> <li>Clone repository: <code>git clone https://github.com/SamsungSLAV/muxpi.git</code>.</li> <li>Change directory: <code>cd muxpi/sw/nanopi</code>.</li> <li>Build muxPi software: <code>make docker-build</code></li> </ol> <p>Resulting binaries will be in <code>bin</code> directory.</p>"},{"location":"transparent-validation/muxpi/theory-of-operations/#building-from-source","title":"Building from source","text":"<p>Prerequisites: <code>git</code>, <code>go (1.10+)</code></p> <ol> <li>Go get it: <code>go get github.com/SamsungSLAV/muxpi</code></li> <li>Change directory: <code>cd $GOPATH/src/github.com/SamsungSLAV/muxpi/sw/nanopi</code></li> <li>Download dependencies: <code>go get ./...</code></li> <li> <p>Build binaries:</p> <pre><code>mkdir -p bin\nGOARCH=arm GOOARM=7 GOOS=linux go build -o bin/stm ./cmd/stm/\nGOARCH=arm GOOARM=7 GOOS=linux go build -o bin/fota ./cmd/fota/\n</code></pre> </li> </ol>"},{"location":"transparent-validation/muxpi/theory-of-operations/#install-muxpi-power","title":"Install muxpi-power","text":"<p><code>muxpi-power</code> - tool for controlling power supply for  MuxPi's main board.</p> <ol> <li> <p>Copy muxpi-power files (change <code>XXX</code> to proper values):</p> <pre><code>scp power/muxpi-power root@192.168.4.XXX:/usr/bin\nscp power/systemd/muxpi-power.service root@192.168.4.XXX:/etc/systemd/system\n</code></pre> </li> <li> <p>On your MuxPi device, enable and start muxpi-power service:</p> <pre><code>systemctl enable muxpi-power.service\nsystemctl start muxpi-power.service\n</code></pre> </li> </ol>"},{"location":"transparent-validation/muxpi/theory-of-operations/#install-stm","title":"Install stm","text":"<p><code>stm</code> - tools/libs for communicating with STM32F030 microcontroller.</p> <ol> <li> <p>Copy stm binary and systemd files (change <code>XXX</code> to proper values):</p> <pre><code>scp bin/stm_armv7 root@192.168.4.XXX:/usr/bin/stm\nscp stm/systemd/stm.service root@192.168.4.XXX:/etc/systemd/system\nscp stm/systemd/stm-user.socket root@192.168.4.XXX:/etc/systemd/system\nscp stm/systemd/stm.socket root@192.168.4.XXX:/etc/systemd/system\nscp stm/stm root@192.168.4.XXX:/usr/local/bin/stm\n</code></pre> </li> <li> <p>On your MuxPi device - create group stm and add your user:</p> <pre><code>groupadd stm\nusermod -aG stm root\n</code></pre> </li> <li> <p>On your MuxPi device - enable stm sockets:</p> <pre><code>systemctl daemon-reload\nsystemctl enable stm.socket stm-user.socket\nsystemctl start stm.socket stm-user.socket\n</code></pre> </li> </ol>"},{"location":"transparent-validation/muxpi/theory-of-operations/#install-fota","title":"Install fota","text":"<p><code>fota</code> - tools/libs for flashing devices - usually microSD card.</p> <ol> <li> <p>Copy fota binary to MuxPi device (change <code>XXX</code> to proper values):</p> <pre><code>scp bin/fota_armv7 root@192.168.4.XXX:/usr/bin/fota\n</code></pre> </li> <li> <p>On your MuxPi device - create a symlink from <code>/usr/local/bin/fota</code> to <code>/usr/bin/fota/</code>. Only <code>/usr/local/bin/fota/</code> should be used by software interfacing with MuxPi. This allows to swap fota implementation to your preferred tool:</p> <pre><code>ln -s /usr/bin/fota /usr/local/bin/fota\n</code></pre> </li> </ol>"},{"location":"transparent-validation/muxpi/theory-of-operations/#dut-setup","title":"DUT setup","text":""},{"location":"transparent-validation/muxpi/theory-of-operations/#dut-power-supply","title":"DUT power supply","text":"<p>MuxPi is capable of:</p> <ul> <li>power switching on/off</li> <li>current measurement</li> </ul> <p>Power switching - it can switch power supply up to 5A and 250VAC. One line is connected directly and one is connected through relay.</p> <p>Current measurement - It is able to measure up to -/+5A and is galvanically isolated from the rest of components thanks to use of Hall effect current sensor ACS712ELCTR-05B-T. It is connected to unswitchable power line. The current sensor is bypassed with 3 0R resistors that can be populated if current sensor is not needed. These resistors must not be populated if current measurement is required.</p> <p></p>"},{"location":"transparent-validation/muxpi/theory-of-operations/#uart-connections","title":"UART connections","text":"<ul> <li><code>GND</code> - digital ground of MuxPi board</li> <li><code>N.C.</code> - not connected</li> <li><code>Vloc</code> - local voltage - voltage may be generated internally on MuxPi if the   DUT, or anything else we are connecting to, has not power pin. Nn such case   voltage generator must be set to desired value and activated. Command \"uart   3300\" must be sent to Cortex-M0, where 3300 is desired voltage given in   millivolts. The voltage range is from 0 to 5000mv. Pins <code>Vloc</code> an <code>VCC</code> must   be connected each other. Typical jumper is a perfect connector for this   purpose. <code>Vloc</code> may be also used to power up additional converter RS232C. For   example if converter to RS232C (+/-12v) must be used then it may be powered   from <code>Vloc</code> pin.</li> <li><code>VCC</code> - power of DUT. If dut has no such power pin then it must be connected to Vloc and vloc must be configured properly as stated above.</li> <li><code>DUT RX</code> - receiver data line in the DUT - through this line MuxPi sends data to the DUT</li> <li><code>DUT TX</code> - transmitter data line in the DUT - from this line MuxPi reads data form the DUT</li> <li><code>DUT CTS</code> - Clear To Send - hardware handshake</li> <li><code>DUT RTS</code> - Ready To Send - hardware handshake</li> </ul> <p>Example configuration for OrangePi (DUT) uart connection:</p> <ol> <li>Set 3.3V Vloc (/dev/ttyS2 terminal): <code>uart 3300</code></li> <li>Attach UART jumper (<code>Vloc</code> and <code>Vcc</code>).</li> <li>Connect GND, RX and TX (without crossing).</li> <li>Open connection: <code>screen /dev/ttyS1 115200,cs8,ixon,ixoff</code></li> </ol> <p>NOTE: <code>RX</code>, <code>TX</code>, <code>XTS</code>, <code>RTS</code> are crossed on the board so you don't need     to cross the wires by yourself. NOTE: A device powered from <code>Vloc</code> mustn't draw more than 50mA of current.</p>"},{"location":"transparent-validation/muxpi/theory-of-operations/#add-ons","title":"Add-ons","text":"<p>Add-ons headers are extensions for attaching new shields or simply using NanoPi and CortexM0 interfaces:</p> <p></p> <ul> <li><code>5V</code> - power supply - not switchable - always present</li> <li><code>3V3</code> - switchable (controlled by NanoPi) 3.3V power supply</li> <li><code>I2C0 SDA</code> - I2C0 SDA line connected to NanoPi</li> <li><code>I2C0 SCL</code> - I2C0 SCL line connected to NanoPi</li> <li><code>DBG UART TX</code> - UART0 (debug) of NanoPi</li> <li><code>DBG UART RX</code> - UART0 (debug) of NanoPi</li> <li><code>USB B+/-</code>, <code>USB A+/-</code> USB host lines connected to NanoPi through USB HUB</li> <li><code>GND</code> - ground lines</li> <li><code>N.C</code>. - not connected</li> </ul> <p></p> <ul> <li><code>SPI0 CLK</code> - SPI0 clock line connected to NanoPi</li> <li><code>SPI0 MOSI</code> - SPI0 \"master output slave input\" line connected to NanoPi</li> <li><code>SPI0 CS</code> - SPI0 \"chip select\" line connected to NanoPi</li> <li><code>SPI0 MISO</code> - SPI0 \"master input slave output\" line connected to NanoPi</li> <li><code>PI GPIO 1,2,3</code> - GPIO (General Purpose Input/Output) connected to NanoPi NEO.   Ports PG11, PL11, PA17 respectively.</li> <li><code>ST GPIO 1,2,3</code> - GPIO connected to Cortex-M0 microcontroller. Ports PB3, PB4,   PB5 of STM32F03C6T6 respectively.</li> <li><code>ADC1,2</code> - analog inputs connected to analog to digital converter of Cortex-M0   microcontroller. Ports PA1, PA2 respectively. Voltage range of this input is 0   to 3.3V. This lines are not buffered in any way so attention must paid when   dealing with them.</li> <li><code>GND</code> - ground lines</li> </ul> <p>NOTE: PI GPIO 1 has additional special function. It is connected to Cortex-M0     Boot0 pin which enables firmware download mode during microcontroller boot.     1 - enables this mode while 0 disables it. So it is useless as GPIO when     the microcontroller is being booted.</p>"},{"location":"transparent-validation/muxpi/theory-of-operations/#dypers","title":"DyPers","text":"<p>Dyper is a small, electromagnetic relay which is controllable by software. There are 2 dypers on MuxPi board. Each of them has two channels. Both channels are switched at the same time with the same command. So both of them can be on and both can be off but there is no way to turn one on and one off. They can be controlled by CortexM0 - examples here.</p>"},{"location":"transparent-validation/muxpi/theory-of-operations/#eth-and-usb","title":"ETH and USB","text":"<p>ETH and upper USB of double USB socket share the same USB channel from USB HUB. Jumpers located at the rear side of double USB connector allow to disconnect this USB from ETH and connect to add-on connector. Details on this topic are covered in jumpers section.</p> <p></p>"},{"location":"transparent-validation/muxpi/theory-of-operations/#usb-m","title":"USB-M","text":"<p>This is USB connector dedicated to mobile devices from Samsung company. This connector has controllable Vbus line and also controllable ID line.</p> <p></p> <p>More information about this type of interface, it's capabilities and example of flashing smartphone can be found here.</p>"},{"location":"transparent-validation/muxpi/theory-of-operations/#sd-adapter","title":"SD Adapter","text":"<p>This connector is used to connect microSD card, put into MuxPi, to a DUT.</p> <p></p> <p>This connector requires IDC-uSD cable adapter:</p> <p></p> <p>Target microSD card must be attached to microSD card reader accessible on bottom side of muxPi board.</p> <p>To enable microSD card reader, connect to Cortex from MuxPi via minicom:</p> <pre><code>minicom -D /dev/ttyS2\n</code></pre> <p>and enter in minicom following commands:</p> <pre><code>ts\n</code></pre> <p>and then:</p> <pre><code>dut\n</code></pre> <p>Each command should return <code>OK</code></p> <p>After doing this you can connect the uSD's end of the cable adapter to the external card reader and check if it is correctly recognized by PC. You should also be able to run the microcontroller from the card attached to MuxPi if the card contains appropriate OS.</p>"},{"location":"transparent-validation/muxpi/theory-of-operations/#interacting-with-muxpi","title":"Interacting with muxPi","text":""},{"location":"transparent-validation/muxpi/theory-of-operations/#connection-with-nanopi","title":"Connection with NanoPi","text":"<p>User can simply open SSH connection by (password: <code>fa</code>):</p> <p><code>ssh root@&lt;muxpi-ip-address&gt;</code></p> <ul> <li>or use serial connection mentioned here</li> </ul> <p>NOTE: Connecting with MuxPi through serial will automatically login as non     root user <code>pi</code> with password <code>pi</code>.</p>"},{"location":"transparent-validation/muxpi/theory-of-operations/#user-interface","title":"User interface","text":"<p>Features operable directly via NanoPi GPIOs:</p> #Pin (board) #WiringNP Description Low state \"0\" High state \"1\" 12 1 LED1 LED off LED on 13 2 LED2 LED off LED on 15 3 Power (Cortex m0) Power off Power on 7 7 Boot (Cortex m0) Execution mode Flashing mode <p>NOTE: Initially, above GPIOs are not exported. Set GPIOs mode with <code>gpio mode   &lt;#WiringNP&gt; out</code>.</p> <p>Example LED1 control:</p> <ul> <li>LED1 on: <code>gpio write 1 1</code></li> <li>LED1 off: <code>gpio write 1 0</code></li> </ul> <p>Example of flashing Cortex-M0 is described here.</p> <p>The microcontroller is connected to NanoPi NEO with UART. This UART is connected to third UART of NanoPi - /dev/ttyS2. The port is configured to 115200,8,N1 and cannot be changed without modification of the firmware. The protocol is text based, simple and human readable. Each command has to be ended with 'n' or 'r' character. Each command is confirmed with 'OK' string or error string.</p> <p>It is recommended to use <code>screen</code> program for communication:</p> <ol> <li>Install screen: <code>sudo apt-get install screen</code></li> <li>Open connection (from muxPi): <code>screen /dev/ttyS2 115200,cs8,ixon,ixoff</code></li> <li>Write <code>help</code> and press <code>Enter</code>.</li> </ol> <p>Features operable through Cortex-M0 microcontroller (help output):</p> <pre><code>help --- This help\nversion --- Display version of the firmware\necho --- Get (no arguments) or set ('on' or 'off') echo on serial \"console\": echo [on|off]. The default value is on.\npower --- Get (no arguments) or set ('on' or 'off') or switch off and on ('tick') power supply for DUT: power [on|off|tick]\nhdmi --- Get (no arguments) or set ('on' or 'off') HDMI HOTPLUG pin: hdmi [on|off]\ndyper --- Get (no second argument) or set ('on' or 'off') DyPer state: dyper 1|2 [on|off]\nmux --- Connect microSD card to external connector (DUT) or card reader (ts): mux [dut|ts]\ndut --- Connect microSD card and power to DUT: dut\n  ts --- Connect microSD card and power to TS: ts\n led --- Get (no second or third argument) or set ('R G B') color of led (1 | 2), ex: led 1 255 0 255\nclr --- Clear oled display\ntext --- Print text on the OLED display: text x y color content\ndraw --- Draw an object on the OLED display: draw object x1 y1 [x2 y2], objects are:\n         - point x y color - draws one point at given coordinates\n         - line x1 y1 x2 y2 color - draws line between given coordinates\n         - rectangle left top width height color - draws line between given coordinates\n         - circle x y radius color - draws line between given coordinates\ncolor must be 'on', 'off' or 'inv'\nadc --- Print current adc value of all (if no arguments are given) or one specified channel, ex: adc 1\nvoltage --- Print current voltage [mV] of all (if no arguments are given) or one specified channel, ex: voltage 1\ncurrent --- Print current current [mA] being consumed by DUT\nlthor --- Get (no second argument) or set state of lthor control signals:\n         - lthor switch [usb|uart] - redirect DUT's USB wires to NanoPi's 'usb' or 'uart'\n- lthor id [usb|uart] - switch DUT's USB to 'usb' or 'uart' mode\n         - lthor vbus [on|off] - switch DUT's VBUS 'on' or 'off'\n- lthor combo [usb|uart] - make DUT and MuxPi USB work in 'usb' or 'uart' mode - no get function\n\nkey --- Get current state of given key or both if no key number is given: key [1|2]\nuart --- Get current value of UART voltage or set if new value is given [in millivolts]\n</code></pre> <p>Images source: Wiki Tizen</p>"},{"location":"transparent-validation/pikvm/assembly-and-validation/","title":"Presale device assembly and validation","text":""},{"location":"transparent-validation/pikvm/assembly-and-validation/#introduction","title":"Introduction","text":"<p>This document describes the assembly procedure of the PiKVM (device based on Raspberry Pi 4 or Raspberry Pi Zero 2W) with components specified in requirements.</p>"},{"location":"transparent-validation/pikvm/assembly-and-validation/#requirements","title":"Requirements","text":"<p>Note that the PiKVM build might be basing on two types of Raspberry Pi: RPi 4     or RPi Zero 2W.</p> <p>Hardware components necessary to build PiKVM on RPi Zero 2W:</p> <ul> <li>Raspberry Pi Zero 2W,</li> <li>microSD card 16 GB,</li> <li>USB-A 5 V 3.1 A charger (female socket),</li> <li>HDMI to CSI-2 bridge,</li> <li>Raspberry Pi Zero Camera Cable,</li> <li>HDMI-HDMI cable,</li> <li>USB A - micro USB cable (male, male),</li> <li>Y-splitter cable.</li> <li>(Optional) UART -&gt; USB converter</li> </ul> <p>Hardware components necessary to build PiKVM on RPi 4:</p> <ul> <li>Raspberry Pi 4,</li> <li>microSD card 16 GB,</li> <li>USB-A 5 V 3.1 A charger (female socket),</li> <li>HDMI to CSI-2 bridge,</li> <li>HDMI-HDMI cable,</li> <li>USB A - USB C cable,</li> <li>Y-splitter cable.</li> <li>(Optional) UART -&gt; USB converter</li> </ul>"},{"location":"transparent-validation/pikvm/assembly-and-validation/#device-assembly","title":"Device assembly","text":"<p>The following section of the documentation shows the assembly procedure for PiKVM including setting up a WiFi connection and methods for reading device IP.</p>"},{"location":"transparent-validation/pikvm/assembly-and-validation/#set-based-on-rpi-zero-2w-preparation","title":"Set based on RPi Zero 2W preparation","text":"<p>The section below describes the method of preparing PiKVM hardware based on RPI Zero 2W.</p> <ol> <li> <p>Connect SD card and HDMI to CSI-2 bridge with camera cable:</p> <p></p> </li> <li> <p>Block USB power from device under test by preparing USB cable:</p> <p></p> </li> <li> <p>Connect HDMI cable from the device under test to HDMI -&gt; CSI-2 bridge.</p> </li> <li>Connect the USB splitter to the Raspberry Pi micro USB port.</li> <li>Connect one side of the splitter to USB-A 5 V 3.1 A charger.</li> <li>Connect other side to device under test via USB cable with blocked power.</li> </ol>"},{"location":"transparent-validation/pikvm/assembly-and-validation/#set-based-on-rpi-4-preparation","title":"Set based on RPi 4 preparation","text":"<p>To build PiKVM on RPi 4, use the RPI 0 set documentation and replace the cable for connecting to the RPi and the cable for connecting with the CSI-2 bridge.</p>"},{"location":"transparent-validation/pikvm/assembly-and-validation/#os-image-building-and-flashing","title":"OS image building and flashing","text":"<ol> <li> <p>Prepare the OS in accordance with the PiKVM Handbook.</p> </li> <li> <p>Flash the SD card using <code>bmaptool</code> or <code>balenaEtcher</code>.</p> <ul> <li>to do this by <code>balenaEtcher</code> go to the producer site     and follow his procedure on how to download and flash an SD card.</li> <li> <p>to do this by <code>bmaptool</code> reproduce the following steps:</p> <ul> <li> <p>install <code>bmaptool</code> by opening the terminal and typing the following     command:</p> <pre><code>sudo apt install bmap-tools\n</code></pre> </li> <li> <p>create the bmap by typing the following command:</p> <pre><code>bmaptool create /path/to/your/image &gt; /path/where/you/want/bmap/file/saved/bmapfilename.bmap\n</code></pre> </li> <li> <p>flash image to the SD card by typing the following command:</p> <pre><code>sudo bmaptool copy --bmap ~/path/where/your/bmap/file/is/located /path/where/your/image/is/located /path/to/memory/device\n</code></pre> </li> </ul> </li> </ul> </li> <li> <p>Insert the flashed SD card into the SD card slot on the PiKVM.</p> </li> </ol>"},{"location":"transparent-validation/pikvm/assembly-and-validation/#set-up-wifi","title":"Set up WiFi","text":"<p>The section below describes the method of setting up a WiFi connection for the PiKVM. This section is dedicated especially to the PiKVMs based on RPi Zero 2W, which is not equipped with an Ethernet port.</p> <ol> <li> <p>Mount the first partition of the memory card.</p> </li> <li> <p>Edit or make the <code>pikvm.txt</code> file in the following convention:</p> <pre><code>FIRSTBOOT=1\nWIFI_ESSID=\"name\"\nWIFI_PASSWD=\"password\"\n</code></pre> <p>Note: Do not remove line <code>FIRSTBOOT=1</code> or <code>FIRST_BOOT-1</code> line. It may     occur with troubles with the device starts.</p> </li> <li> <p>Unmount the first partition of the memory card.</p> </li> </ol> <p>Note: In some countries, in which WiFi channel 13 is in use, the device     might not connect to the WiFi. To prevent this, the router should be     configured properly: channels 12-14 or Auto Scan mode should be disabled.</p>"},{"location":"transparent-validation/pikvm/assembly-and-validation/#read-ip-address","title":"Read IP address","text":"<p>The section below describes the known methods of reading PiKVM IP.</p> <ol> <li> <p>First option: from <code>os</code> repository run the following command:</p> <pre><code>make scan\n</code></pre> <p>Example output:</p> <pre><code>.\n.\n.\n===== Toolbox image is ready =====\n===== Searching for Pis in the local network =====\ndocker run \\\n--rm \\\n--tty \\\n--net host \\\npi-builder-arm-toolbox arp-scan --localnet | grep -Pi \"\\s(b8:27:eb:|dc:a6:32:)\" || true\n192.168.4.13    dc:a6:32:aa:aa:aa   Raspberry Pi Trading Ltd\n</code></pre> </li> <li> <p>Second option: open the web interface of your router and find the list of     issued IP addresses. Localization of the mentioned list depends on the     router model.</p> </li> <li> <p>Third option:</p> <ul> <li> <p>solder pins for serial output as on images below:</p> <p> </p> </li> <li> <p>Check Raspberry Pi Zero2W IP by booting to system and reading     information via serial (eg.) UART -&gt; USB converter.</p> </li> </ul> </li> </ol>"},{"location":"transparent-validation/pikvm/assembly-and-validation/#device-validation","title":"Device validation","text":"<ol> <li>Connect the device to the mains.</li> <li>Login to RTE via <code>ssh</code> (by using earlier obtained IP address) or     <code>minicom</code> (by using USB-UART converter with 3 wire cables).</li> </ol>"},{"location":"transparent-validation/pikvm/assembly-and-validation/#fullhd-stream","title":"FullHD stream","text":"<p>In order to enable FullHD stream (1920x1080) instead of 1200x720. One of the reasons to enable FullHD is that certain proprietary BIOSes implement a GUI setup which scales well only for Full HD or higher resolutions (in extreme cases it can even crash if lower than FullHD resolution is used).</p> <p>To enable FullHD resolution, one has to replace the EDID on PiKVM. To do so:</p> <ol> <li>Remount the filesystem to RW if necessary using <code>rw</code> command.</li> <li> <p>Save the follow HEX to <code>/root/edid.hex</code>:</p> <pre><code>00FFFFFFFFFFFF005262888800888888\n1C150103800000780AEE91A3544C9926\n0F505425400001000100010001000100\n010001010101D32C80A070381A403020\n350040442100001E7E1D00A050001940\n3020370080001000001E000000FC0050\n492D4B564D20566964656F0A000000FD\n00323D0F2E0F000000000000000001C4\n02030400DE0D20A03058122030203400\nF0B400000018E01500A0400016303020\n3400000000000018B41400A050D01120\n3020350080D810000018AB22A0A05084\n1A3030203600B00E1100001800000000\n00000000000000000000000000000000\n00000000000000000000000000000000\n00000000000000000000000000000045\n</code></pre> </li> <li> <p>Execute: <code>kvmd-edidconf --edid=/root/edid.hex --apply</code></p> </li> <li>Execute: <code>kvmd-edidconf --import=/root/edid.hex</code></li> <li>Switch the filesystem back to RO using <code>ro</code> command.</li> </ol> <p>When PiKVM is connected to the platform, the BIOS or OS should initialize the display with 1920x1080 resolution.</p>"},{"location":"transparent-validation/pikvm/assembly-and-validation/#where-to-buy","title":"Where to buy?","text":"<p>The PiKVM is available in our online shop.</p>"},{"location":"transparent-validation/rte/introduction/","title":"RTE Introduction","text":"<p>RTE is certified Open Source Hardware, so based on published schematics you can build and modify PCB yourself.</p> <p>RTE is a hat designed for Orange Pi Zero board which runs specially crafted Linux distribution using the Yocto Project. RTE boards are used for controlling Device Under Test fully remotely through the network interface. Most common applications are:</p> <ul> <li>debugging tasks,</li> <li>flashing firmware,</li> <li>controlling GPIOs</li> <li>power management for Device Under Test.</li> </ul> <p></p>"},{"location":"transparent-validation/rte/introduction/#where-to-buy","title":"Where to buy?","text":"<p>RTE can be also bought in our 3mdeb shop.</p> <p>Full Remote Testing Environment set includes:</p> Category Description Quantity shield Remote Testing Environment v1.1.0 1 control unit Orange Pi Zero 256MB RAM version 1 power supply MicroUSB 5V/2A 1 storage SanDisk 16GB microSD card (with preinstalled compatible system) 1 clip Pomona 8-pin SOIC clip for Device Under Test SPI interface 1 cables standard female-female connection wire 2.56mm raster 8 cables IDC 8-pin wires for Device Under Test SPI interface 1 cables DC Jack - DC Jack power cable for Device Under Test 1 cables RS232 D-Sub 9P/9P cable for serial communication 1 jumpers jumper for UART OUTPUT SELECT header 2 spacers Polyamide M3 spacers and bolts 4"},{"location":"transparent-validation/rte/introduction/#why-choose-3mdeb-rte","title":"Why choose 3mdeb RTE?","text":"<ul> <li> <p>high accessibility and flexibility</p> <p>test your device from any location.</p> </li> <li> <p>efficiency</p> <p>simplify validation: write one script and run it on unlimited platforms.   Don\u2019t repeat yourself!</p> </li> <li> <p>independent development</p> <p>open hardware license: modify, upgrade and set it as you like. All blueprints   are at your disposal.</p> </li> <li> <p>instant setup</p> <p>intuitive connection: you do not need to be a certified engineer.</p> </li> <li> <p>automation</p> <p>time is money: let the machine do all the work for you</p> </li> </ul>"},{"location":"transparent-validation/rte/revision-history/","title":"Revision history","text":""},{"location":"transparent-validation/rte/revision-history/#v110","title":"v1.1.0","text":"<ul> <li>added <code>Open hardware</code> logo</li> <li>added <code>SW1</code> reset button</li> <li>added <code>D5</code> relay state LED indicator</li> <li>added <code>J16</code> 2x3pin UART OUTPUT SELECT header</li> <li>added <code>J18</code> 1x2pin UART1 header</li> <li>added 1.8V stabilizer</li> <li>populated SPI <code>Vcc</code> pin</li> <li>modified capacitors near MAX3232 SOIC</li> <li>reduced OC buffers GPIO header (J11) from 12 to 9 pin</li> <li>eliminated issue with J6 USB port (unreliable detection of USB devices)</li> </ul>"},{"location":"transparent-validation/rte/revision-history/#v100","title":"v1.0.0","text":"<ul> <li>added RoHS logo</li> <li>added Crossed Wheelie Bin logo</li> <li>modified footprints of the pin headers</li> </ul>"},{"location":"transparent-validation/rte/revision-history/#v053","title":"v0.5.3","text":"<ul> <li>enlarged added holes</li> </ul>"},{"location":"transparent-validation/rte/revision-history/#v052","title":"v0.5.2","text":"<ul> <li>modified I2C GPIO expander outputs connections (now 4 of them are connected to   the dedicated header)</li> <li>modified version number on board</li> <li>removed SPI header for APU recovery with output pin role information labels</li> <li>removed 7 and 8 pin of SPI header with GPIO expander connection</li> </ul>"},{"location":"transparent-validation/rte/revision-history/#v051","title":"v0.5.1","text":"<ul> <li>added micro USB connector for power supply</li> <li>added 5 V power supply pins</li> <li>added SPI connector for APU SPI recovery</li> <li>added fiducials on the bottom layer</li> <li>added pins information labels</li> <li>modified relay control system elements placement</li> <li>modified SPI connector for APU paths placement</li> <li>modified project text descriptions</li> <li>removed 2 pin GPIO expander connector</li> </ul>"},{"location":"transparent-validation/rte/revision-history/#v05","title":"v0.5","text":"<ul> <li>added 5 V power supply signal diode (red) + limiting current resistor</li> <li>added 3.3 V power supply signal diode (orange) + limiting current resistor</li> <li>relay NO/NC connection switched to the previous configuration</li> <li>switched <code>SPI1_MISO</code>with <code>SPI1_MOSI</code> output</li> <li>mirrored <code>RS232</code> socket pads</li> <li>removed I2C pull-up resistors</li> </ul>"},{"location":"transparent-validation/rte/revision-history/#v036","title":"v0.3.6","text":"<ul> <li>relay NO/NC connection switched</li> </ul>"},{"location":"transparent-validation/rte/revision-history/#v035","title":"v0.3.5","text":"<ul> <li>enlarged the hole diameter by 0.1 mm</li> </ul>"},{"location":"transparent-validation/rte/revision-history/#v034","title":"v0.3.4","text":"<ul> <li>added 3mdeb logo and board name on PCB</li> <li>modified elements marks placing</li> </ul>"},{"location":"transparent-validation/rte/revision-history/#v033","title":"v0.3.3","text":"<ul> <li>added SPI output IO pins connection with GPIO</li> <li>added PCB mechanical schematic</li> <li>added I2C INT pins connection</li> <li>added mounting holes</li> <li>added fiducials</li> <li>modified MOSFET transistor pinout numeration</li> <li>modified USB footprint from horizontal to vertical</li> <li>modified I2C GPIO expander with OC buffers connection</li> </ul>"},{"location":"transparent-validation/rte/revision-history/#v032","title":"v0.3.2","text":"<ul> <li>added mounting holes</li> <li>modified relay pinout</li> <li>removed I2C to GND connection</li> </ul>"},{"location":"transparent-validation/rte/revision-history/#v031","title":"v0.3.1","text":"<ul> <li>modified power supply from 5V to 3V3 for I2C bus <code>MCP23017</code>, and <code>MAX3232</code></li> <li>removed capacitors connected to the I2C bus</li> </ul>"},{"location":"transparent-validation/rte/revision-history/#v03","title":"v0.3","text":"<ul> <li>added I2C bus with output header</li> <li>added <code>MCP23017</code> I2C GPIO expander</li> <li>added second <code>SN74LS06</code> OC buffer</li> <li>added relay with required neighboring items</li> <li>added <code>MAX3232</code> RS232 electrical level changer</li> <li>added RS232 socket</li> <li>added GPIO output header for pins unused to OC buffer control</li> <li>modified some of input pins connection</li> <li>removed ARK joint for the relay module</li> <li>removed header for relay module control</li> </ul>"},{"location":"transparent-validation/rte/v1.1.0/flashing-guide/","title":"Flashing guide","text":"<p>This document describes how to set up external flashing for the devices using RTE.</p>"},{"location":"transparent-validation/rte/v1.1.0/flashing-guide/#ns5x7x-12th-generation","title":"NS5x/7x 12th Generation","text":""},{"location":"transparent-validation/rte/v1.1.0/flashing-guide/#prerequisites","title":"Prerequisites","text":"<ul> <li>Prepared RTE</li> <li> <p>WSON8 probe</p> <p></p> </li> </ul>"},{"location":"transparent-validation/rte/v1.1.0/flashing-guide/#flashing","title":"Flashing","text":"<ol> <li>Unscrew the bottom cover of the laptop.</li> <li> <p>Disconnect the battery</p> <p>All power must be removed from the laptop during flashing.</p> <p></p> </li> <li> <p>Localize the flash chip.</p> <p></p> </li> <li> <p>Take the WSON8 probe and locate the white dot on the needles side. The dot     indicates the first reference pin that should be connected to the pin on the     flash chip also marked with a dot.</p> <p></p> </li> <li> <p>Connect the cables coming out from the WSON8 probe to the     SPI header according to the pictures and table     below.</p> <ul> <li>Top view of flash chip:</li> </ul> <p></p> <ul> <li> <p>Table with all required connections:</p> RTE SPI header Flash Chip Vcc VCC CS CS# MISO (SO) SO (IO1) GND VSS SCLK SCLK MOSI (SI) SI <p>Note: both the SPI header and the WSON8 probe have 8-pin headers. Pins marked as NC on the RTE board and as IO2 and IO3 on the flash chip do not require a connection.</p> </li> <li> <p>Example connection appearance:</p> </li> </ul> <p></p> </li> <li> <p>Put the flash script on RTE:</p> <p>The next steps require the device with Linux OS, it is possible to do this on e.g. Windows, but the procedure will be different.</p> <ol> <li> <p>Open the terminal and run the following commands:</p> <pre><code>git clone https://github.com/3mdeb/RteCtrl.git\ncd RteCtrl/scripts/\n</code></pre> </li> <li> <p>Use <code>scp</code> to transfer flash script, in places marked with <code>XX</code> enter the     RTE IP address, which you can check with the command <code>ip a</code>:</p> <pre><code>scp flash.sh root@XX.XX.XX.XX:/home/root/\n</code></pre> </li> </ol> </li> <li> <p>Login to RTE via <code>ssh</code> or <code>minicom</code>.</p> </li> <li>Connect and hold the WSON8 probe to the flash chip.</li> <li> <p>Read the flash chip by executing the following command on RTE:</p> <pre><code>./flash.sh read dump.rom\n</code></pre> </li> <li> <p>If the reading was successful, the output from the command above should     contain the phrase <code>Verifying flash... VERIFIED.</code>. Only after the entire     script has been executed, the WSON8 probe can be disconnected.</p> </li> <li>Connect and hold again the WSON8 probe to the flash chip.</li> <li> <p>Write the flash chip by executing the following command on RTE:</p> <pre><code>./flash.sh write coreboot.rom\n</code></pre> </li> <li> <p>If the writing was successful, the output from the command above should     contain the phrase <code>Verifying flash... VERIFIED.</code>. Only after the entire     script has been executed, the WSON8 probe can be disconnected.</p> </li> <li>Reconnect the battery and screw in the bottom cover.</li> <li>Power on the device. If the platform is booting up and basic functionalities     are working, the entire procedure was successful.</li> </ol>"},{"location":"transparent-validation/rte/v1.1.0/quick-start-guide/","title":"Quick start guide","text":"<p>The canonical example of RTE usage is hooking it to some hardware for SPI flashing, power control and serial logs gathering. This document describes the common preparation of RTE without listed functions.</p> <p></p>"},{"location":"transparent-validation/rte/v1.1.0/quick-start-guide/#prerequisites","title":"Prerequisites","text":"<ul> <li>RTE board     (this document is based on v1.1.0)</li> <li>Micro-USB 5V 2.5A power supply</li> <li>Orange Pi</li> <li>SD card</li> <li>Ethernet cable</li> <li>USB-UART converter with 3 wire cables</li> <li>Ubuntu (based on 22.04)</li> </ul>"},{"location":"transparent-validation/rte/v1.1.0/quick-start-guide/#preparation-of-rte","title":"Preparation of RTE","text":"<ol> <li>Download the latest version of the RTE image from the     meta-rte repository.</li> <li> <p>Flash the SD card using <code>bmaptool</code> or <code>balenaEtcher</code>.</p> <ol> <li>to do this by <code>balenaEtcher</code> go to the producer site     and follow his procedure on how to download and flash an SD card.</li> <li> <p>to do this by <code>bmaptool</code> reproduce the following steps:</p> <ol> <li> <p>install <code>bmaptool</code> by opening the terminal and typing the following     command:</p> <pre><code>sudo apt install bmap-tools\n</code></pre> </li> <li> <p>create the bmap by typing the following command:</p> <pre><code>bmaptool create /path/to/your/image &gt; /path/where/you/want/bmap/file/saved/bmapfilename.bmap\n</code></pre> </li> <li> <p>flash image to the SD card by typing the following command:</p> <pre><code>sudo bmaptool copy --bmap ~/path/where/your/bmap/file/is/located /path/where/your/image/is/located /path/to/memory/device\n</code></pre> </li> </ol> </li> </ol> </li> <li> <p>Insert Orange Pi into RTE.</p> </li> <li>Insert SD card into Orange Pi.</li> <li>Connect the ethernet cable to Orange Pi.</li> <li> <p>Plug the USB-UART converter into your computer and connect its pins with     RTE J2 Header.     (you may need a USB extension cable)</p> UART Converter RTE J2 Header GND GND TXD RX RXD TX </li> <li> <p>Open the serial connection with RTE from your PC using a previously connected     USB-UART converter by executing the following command:</p> <pre><code>sudo minicom -D /dev/ttyUSB&lt;x&gt;\n</code></pre> <p>Substitute <code>&lt;x&gt;</code> with the device number corresponding to your USB-UART Converter for example <code>/dev/ttyUSB0</code>. The <code>dmesg</code> command allows to identify the latest connected devices.</p> </li> <li> <p>Plug the power supply into the RTE J17 Micro-USB slot.</p> </li> <li>Login into the device by using the default credentials:<ul> <li>Login: <code>root</code></li> <li>Password: <code>meta-rte</code></li> </ul> </li> </ol>"},{"location":"transparent-validation/rte/v1.1.0/reference-os/","title":"Dasharo RTE Reference OS","text":"<p>Our specially crafted operating system fully customized for Remote Testing Environment platform aspects. meta-rte is based on open-source project - Yocto Project used for building Linux-based systems regardless of the hardware architecture. meta-rte has most mandatory tools and dependencies required for everyday debugging task with various range of hardware. RTE running meta-rte is ready to use completely out of the box, without the need for additional laborious configuration.</p> <p>Moreover, open-source solutions such as the Yocto Project and meta-rte provides possibility to rebuild the whole system strictly for the end users requirements, making the whole set more universal with endless applications!</p> <p>More information can be found in meta-rte repository</p>"},{"location":"transparent-validation/rte/v1.1.0/serial-port-connection-guide/","title":"Serial port connection guide","text":"<p>This document describes how to set up a serial connection between RTE and another device.</p>"},{"location":"transparent-validation/rte/v1.1.0/serial-port-connection-guide/#prerequisites","title":"Prerequisites","text":"<ul> <li>Prepared RTE</li> <li>Two jumpers</li> <li>Choose one of the following cables depending on the connectivity to your     platform:<ul> <li>RS232&lt;-&gt;RJ45 cable,</li> <li>RS232&lt;-&gt;RS232 cable,</li> <li>USB&lt;-&gt;RS232 cable,</li> <li>micro-USB&lt;-&gt;USB cable,</li> <li>3-wire cable.</li> </ul> </li> </ul>"},{"location":"transparent-validation/rte/v1.1.0/serial-port-connection-guide/#setting-serial-connection","title":"Setting serial connection","text":"<ol> <li> <p>Put the two jumpers on     RTE J16 Header:</p> <ol> <li>For the RS232 port, they join COM and RS232 rows both on RX and TX     columns.</li> <li>For the UART port (only during using a 3-wire cable), they join COM and     EXT rows both on RX and TX columns.</li> <li>For the micro-USB-USB cable, jumpers aren't required.</li> </ol> </li> <li> <p>Connect the RTE header (J14 or J18) with the device serial port. Use the     cable according to the DUT specification:</p> <ol> <li>DUT has a serial port -&gt; needs to use an RS232&lt;-&gt;RS232 cable.</li> <li>DUT has the debug port in the form of the RJ45 -&gt; needs to use an     RS232&lt;-&gt;RJ45 cable.</li> <li>DUT has the debug port in the form of the USB -&gt; needs to use an     RS232&lt;-&gt;USB cable.</li> <li>DUT has the debug port in the form of the micro-USB -&gt; needs to use a     micro-USB&lt;-&gt;USB cable.</li> <li>DUT doesn't have a port but has pins for serial connection on the board     -&gt; need to use a 3-wire cable.</li> </ol> </li> <li> <p>Connect with RTE via <code>ssh</code> or <code>minicom</code>. To connect via <code>ssh</code> is required to     know RTE IP and connection to the internet on both sides. While using a     <code>minicom</code> there is a need to use the USB-UART converter.</p> </li> <li> <p>There are two ways to open a serial connection:</p> <ol> <li> <p>Telnet - by executing the following command:</p> <pre><code>telnet 192.168.X.X 13541\n</code></pre> <p>To configure telnet connections, update the file <code>/etc/ser2net.conf</code> using <code>vim</code>. Then reboot the RTE to apply the changes. The <code>dmesg</code> command allows to identify the latest connected devices.</p> </li> <li> <p>Minicom - by executing the following command:</p> <pre><code>minicom -D /dev/ttyS1 -o -b 115200\n</code></pre> <p>Replace <code>ttyS1</code> with <code>ttyUSB0</code> while using micro-USB-USB cable.</p> </li> </ol> </li> </ol>"},{"location":"transparent-validation/rte/v1.1.0/specification/","title":"RTE elements","text":"<ul> <li>UART0 header - 1x3 Orange Pi Zero system debug output and console   (pins: <code>RX</code>, <code>TX</code>, <code>GND</code>).</li> <li>SPI header - 2x4 standard 2.5mm IDC compatible header with all necessary   signals to flash SPI chips.</li> <li>Orange Pi Zero GPIO - 1x3 GPIO pin header directly connected to Orange Pi   zero platform.</li> <li>I2C header - 1x4 populated pins: <code>3.3V</code>, <code>SCK</code>, <code>SDA</code>, <code>GND</code>.</li> <li>OC buffers output - 1x12 GPIO pin header connected to Open Collector buffers.</li> <li>DUT power control connectors - 2x DC jack 5.5/2.1mm female connectors for   a Device Under Test power supply controlled directly through the relay.</li> <li>Reset button - Simple switch to reset RTE</li> <li>RS232 - DB9 male connector for RS232 communication with a hardware flow control.</li> <li>UART output select header 2x3 UART OUTPUT SELECT header destined for   selecting serial output between UART1 header and DB9 RS232 connector.</li> <li>UART1 header - 1x3 UART header for 3V3 serial communication with DUT   (pins: <code>RX</code>, <code>TX</code>, <code>GND</code>).</li> <li>2x USB connectors - Connect additional storages, external flash   programmers, USB-RS232 or USB-UART converters.</li> <li>5V header - 1x2 5V output populated pins: <code>5V</code>, <code>GND</code>.</li> <li>expander GPIO - 1x4 GPIO pin header connected to GPIOs expander with no   OC buffers.</li> <li>Relay - Controls Device Under Tests power supply</li> <li>micro USB connector - Connector for powering up RTE and OrangePi Zero   setup.</li> </ul>"},{"location":"transparent-validation/rte/v1.1.0/specification/#product-features","title":"Product features","text":""},{"location":"transparent-validation/rte/v1.1.0/specification/#key-features","title":"Key features","text":"<ul> <li>Cheaper and more feature-rich in comparison to other products</li> <li>Ultra-fast SPI flashing (16MHz)</li> <li>In-Circuit Programming (program onboard SPI Flash)</li> <li>Pomona connector to work with Serial Flash soldered on board</li> <li>Two logic levels SPI (1.8V and 3.3V)</li> <li>Remote power control over the target device</li> <li>Open Hardware</li> <li>Open Source software attached</li> <li>Open Source REST API controller</li> <li>Cost-free future software improvements</li> </ul>"},{"location":"transparent-validation/rte/v1.1.0/specification/#rtectrl-web-interface","title":"RteCtrl: Web interface","text":"<p>RteCtrl is a REST API controller used for RTE board. It comes with meta-rte operating system and starts automatically on port <code>8000</code> without the necessity of additional configuration. REST API dashboard can be reached through the Internet browser and provides a possibility to:</p> <ul> <li>control Device Under Test power supply (coldboot and warmboot)</li> <li>reset Device Under Test platform</li> <li>flash Device Under Test firmware More information can be found at RteCtrl repository</li> </ul> <p>DISCLAIMER: Before starting the flashing procedure through REST API console,   make sure that appropriate SPI logic levels are set accordingly to   SPI section.</p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#specification","title":"Specification","text":""},{"location":"transparent-validation/rte/v1.1.0/specification/#gpio-header-1","title":"GPIO header (1)","text":"<p>First GPIO header (<code>J1</code>) is a 1x3 pin header straight type 2.54mm pitch. It is derived directly from Orange Pi GPIOs for general use. By default, these GPIOs are set to <code>INPUT</code> mode.</p> <p>Maximum voltage for all data signals: 3.3 V.</p> <p> Description Pin # GPIO12 1 GPIO11 2 GPIO6 3 <p></p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#gpio-header-2","title":"GPIO header (2)","text":"<p>Second GPIO header (<code>J10</code>) is a 1x4 pin header straight type 2.54mm pitch. It is derived from GPIO expander on RTE board. They are accessible for general use. By default, these GPIOs are set to <code>INPUT</code> mode.</p> <p>Maximum voltage for all data signals: 3.3 V. Expander GPIO: 25 mA maximum output current.</p> <p> Description Pin # GPIO400 1 GPIO401 2 GPIO402 3 GPIO403 4 <p></p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#gpio-header-3","title":"GPIO header (3)","text":"<p>Third GPIO header (<code>J11</code>) is a 1x9 pin header straight type 2.54mm pitch. It is derived from GPIO expander on RTE board with an additional connection to OC (Open Collector) buffers. By default, these GPIOs are set to <code>OUTPUT</code> mode.</p> <p>Maximum voltage for all data signals: 3.3 V. OC buffers: 40 mA maximum output current.</p> <p> Description Pin # GPIO407 1 GPIO415 2 GPIO414 3 GPIO408 4 GPIO409 5 GPIO410 6 GPIO411 7 GPIO412 8 GPIO413 9 <p></p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#i2c-header","title":"I2C header","text":"<p>I2C header (<code>J9</code>) is 1x4 pin header straight type 2.54mm pitch. It is used to rather low-speed applications such as reading sensors or accessing DACs and ADCs.</p> <p>Maximum voltage for all data signals: 3.3 V.</p> <p> Description Pin # 3V3 1 SCK 2 SDA 3 GND 4 <p></p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#spi-header","title":"SPI header","text":"<p>SPI header (<code>J7</code>) is a 2x4 pin header straight type 2.54mm pitch. It is used to control the application SPI flash with a minimal set of connections.</p> <p>Maximum voltage for all data signals: 3.3 V.</p> <p> Description Pin # Pin # Description Vcc 1 2 GND CS 3 4 SCLK MISO (SO) 5 6 MOSI (SI) ISP 7 8 NC <p></p> <p>Revision v1.1.0 features new possibilities for SPI configuration:</p> <ul> <li>SPI <code>Vcc</code> pin has been populated - power is now supplied to the SPI <code>Vcc</code> connector and can be enabled/disabled on demand:</li> </ul> <p> GPIO406 (OC_OUT1) state SPI Vcc 0 - low disabled (by default) 1 - high enabled <p></p> <ul> <li>user can choose the voltage level for <code>Vcc</code> SPI - either 1.8V or 3.3 V:</li> </ul> <p> GPIO405 (OC_OUT2) state SPI Vcc voltage level 0 - low 1.8 V (by default) 1 - high 3.3 V <p></p> <ul> <li>user can enable/disable SPI lines (some platforms have problems when booting   with SPI wires connected):</li> </ul> <p> GPIO404 (OC_OUT3) state SPI lines (MOSI/MISO/CS/SCLK) 0 - low disabled (by default) 1 - high enabled <p></p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#uart-output-select-header","title":"UART OUTPUT SELECT header","text":"<p>UART OUTPUT SELECT header (<code>J16</code>) is a 2x3 pin header straight type 2.54mm pitch. It is used for enabling serial communication output: RS232 DB9 port (<code>J14</code>) or UART1 header (<code>J18</code>). If jumpers are not attached, serial ports are disabled.</p> <p> Jumper position (TX) Jumper position (RX) Serial communication enabled RS232 + COM RS232 + COM RS232 DB9 port (J14) EXT + COM EXT + COM 3.3V UART1 header (J18) <p></p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#rs232-connector","title":"RS232 connector","text":"<p>RS232 connector (<code>J14</code>) is a DB9 male 9 pin connector for serial communication between Remote Testing Environment and Device Under Test platform. It supports a hardware flow control. RS232 connector can be enabled/disabled according to UART OUTPUT SELECT section.</p> <p> Pin # Signal Description 1 DCD Data Carrier Detect 2 RXD Receive Data 3 TXD Transmit Data 4 DTR Data Terminal Ready 5 GND Signal Ground 6 DSR Data Set Ready 7 RTS Request to Send 8 CTS Clear to Send 9 RI Ring Indicator <p></p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#uart0-header","title":"UART0 header","text":"<p>UART0 header (<code>J2</code>) is a 1x3 pin header straight type 2.54mm pitch. It is derived from Orange Pi Zero serial debug UART for debugging and serial communication purposes.</p> <p>Maximum voltage for all data signals: 3.3 V.</p> <p> Description Pin # GND 1 RX 2 TX 3 <p></p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#uart1-header","title":"UART1 header","text":"<p>UART1 header (<code>J18</code>) is a 1x3 pin header straight type 2.54mm pitch. It is used for serial communication with DUT. UART1 header can be enabled/disabled according to UART OUTPUT SELECT section.</p> <p>Maximum voltage for all data signals: 3.3 V.</p> <p> Description Pin # GND 1 RX 2 TX 3 <p></p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#power-output-header","title":"Power output header","text":"<p>Power output header (<code>J15</code>) is 1x2 pin header straight type 2.54mm pitch. It is used for additional 5V or ground pin connections with various devices.</p> <p> Description Pin # 5V 1 GND 2 <p></p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#dc-jack","title":"DC jack","text":"<p>Two DC Jacks (<code>J12</code> and <code>J13</code>) are 5.5/2.1mm female plug connectors used for Device Under Test power supply. The output from DC Jacks is controlled through a relay. There is no matter whether <code>J12</code> or <code>J13</code> plug is input/output for power supply.</p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#relay","title":"Relay","text":"<p>Relay (<code>K1</code>) is a mechanical switch for controlling Device Under Test power supply.</p> <p>Technical reference:</p> <ul> <li>1 Form C (1PDT) contact arrangement</li> <li>5 V coil nominal voltage</li> <li>70 Ohms nominal resistance</li> <li>72 mA nominal current</li> <li>24 VDC maximal input voltage</li> <li>10 A maximal input voltage</li> <li>Expected relay life: 100 000 operations</li> </ul> <p>Relay state is indicated by LED (<code>D5</code>) located near relay and can be controlled via meta-rte operating system through GPIO199:</p> <p> GPIO199 state Relay state D5 LED state 0 OFF OFF 1 ON ON <p></p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#usb-connectors","title":"USB connectors","text":"<p>USB connectors (<code>J6</code>, <code>J8</code>) available on RTE are additional USB type A ports derived from Orange Pi Zero header. They can be used for storage extension, serial communication through various adapters or USB programmer extension.</p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#microusb-connector","title":"microUSB connector","text":"<p>The micro USB connector (<code>J17</code>) is a USB B micro socket for powering up RTE and OrangePi Zero setup. It is required to use a 5V/2A power adapter. There is no difference whether the user plugs the power supply to the micro USB connector located on RTE board or use OrangePi Zero original socket.</p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#reset-button","title":"Reset button","text":"<p>Reset button (<code>SW1</code>) located near relay is used for resetting the RTE itself.</p>"},{"location":"transparent-validation/rte/v1.1.0/specification/#how-to-set-gpio-states-to-flash-spi","title":"How to set GPIO states to flash SPI?","text":"<ol> <li> <p>Set proper SPI Vcc Voltage:</p> <p>Adequate Vcc voltege is necessary for successful flash procedure. If it will be to low chip will not recognize any signals, if too high chip will be damaged.</p> <pre><code>echo 0 &gt; /sys/class/gpio/gpio405/value\n</code></pre> <p>Or when flash chip operates on 3.3V:</p> <pre><code>echo 1 &gt; /sys/class/gpio/gpio405/value\n</code></pre> </li> <li> <p>Enable SPI Vcc:</p> <pre><code>echo 1 &gt; /sys/class/gpio/gpio406/value\n</code></pre> </li> <li> <p>Enable SPI signals:</p> <pre><code>echo 1 &gt; /sys/class/gpio/gpio404/value\n</code></pre> </li> <li> <p>Flash SPI chip:</p> <pre><code>flashrom -w /path/to/coreboot.rom -p linux_spi:dev=/dev/spidev1.0,spispeed=16000\n</code></pre> </li> <li> <p>When done, change back all states:</p> <pre><code>echo 0 &gt; /sys/class/gpio/gpio405/value\n\necho 0 &gt; /sys/class/gpio/gpio406/value\n\necho 0 &gt; /sys/class/gpio/gpio404/value\n</code></pre> </li> </ol>"},{"location":"transparent-validation/sd-wire/getting-started/","title":"SDWire is a small board with two features","text":"<ul> <li>SD card reader</li> <li>SD card MUX</li> </ul> <p>SDWire allows to flash SD card connected to the DUT (Device Under Test), without physical contact with the device. There is only one micro USB socket for connecting to host PC. Both USB mass storage and MUX control are served through the same USB connection.</p> <p>The PCB board is designed in such way that it fits into micro SD card slots. Thanks to this, there is no need for special cables with a micro SD adapter.</p> <p></p>"},{"location":"transparent-validation/sd-wire/specification/","title":"Hardware design","text":"<p>Design of this board is based on SD MUX. SDWire does not have power switch or USB switch but has built in USB SD card reader. SD card multiplexer itself is exactly the same in both devices.</p> <p>There are four LEDs on the board:</p> <pre><code>red - power presence from USB\nblue - USB reader activity\nblue - card connected to TS (Test Server)\ngreen - card connected to DUT (Device Under Test)\n</code></pre> <p>All LEDs are present on both sides of the board to make them visible no matter which side of the board will be facing you.</p> <p>LED positions are showed in the image below.</p> <p></p> <p>Source: wiki.tizen.org</p>"},{"location":"transparent-validation/sd-wire/specification/#pcb-elements-and-scheme","title":"PCB elements and scheme","text":"<p>Source: wiki.tizen.org</p>"},{"location":"transparent-validation/sd-wire/usage-validation/","title":"SDWire usage","text":""},{"location":"transparent-validation/sd-wire/usage-validation/#environment-preparation","title":"Environment preparation","text":"<p>SDWire has dedicated software which is a simple tool meant to control the hardware. Source code of the tool is published on tizen git server. This is simple to use, command-line utility software written in C and based on open-source libFTDI library.</p> <p>To prepare the environment reproduce the following steps:</p> <ol> <li> <p>Clone the repository:</p> <pre><code>git clone https://git.tizen.org/cgit/tools/testlab/sd-mux\n</code></pre> </li> <li> <p>Install all needed dependencies:</p> <p>Ubuntu/Debian:</p> <pre><code>sudo apt-get install libftdi1-dev libpopt-dev cmake\n</code></pre> <p>Fedora/Red Hat:</p> <pre><code>sudo dnf install libftdi-devel popt-devel cmake gcc gcc-c++\n</code></pre> </li> <li> <p>Enter into sd-mux project directory and reproduce the following steps to     build project:</p> <ul> <li>open directory in terminal</li> <li> <p>create 'build' directory by the following command:</p> <pre><code>mkdir build\n</code></pre> </li> <li> <p>enter into 'build' directory by the following command:</p> <pre><code>cd build\n</code></pre> </li> <li> <p>run the following commands one by one:</p> <pre><code>cmake ..\nmake\n</code></pre> </li> </ul> </li> <li> <p>In the above-described directory (<code>sd-mux/build</code>) run the following command to     build binary:</p> <pre><code>sudo make install\n</code></pre> <p>Note, that the above-described command installs binary into '/usr/local/bin'. If you want to install files in directory rather than the default one add an argument to cmake command:</p> <pre><code>cmake -DCMAKE_INSTALL_PREFIX=/usr ..\n</code></pre> <p>Then it is obligatory to run again the following commands:</p> <pre><code>make\nmake install\n</code></pre> </li> </ol>"},{"location":"transparent-validation/sd-wire/usage-validation/#first-use","title":"First use","text":"<p>The following procedure should be performed not only before the first use of the device, but also as the presale validation procedure!</p> <p>Hardware requirements:</p> <ul> <li>SDWire</li> <li>SD card</li> <li>DUT (Device Under Test) bootable from SD card (for example: RPI, Orange PI   etc.)</li> <li>DUT power supply</li> <li>Micro-USB --&gt; USB cable</li> <li>TS (Test Server) - in most cases personal computer with prepared environment.</li> </ul> <p>To perform first use (assuming Raspberry Pi platform as a DUT) procedure reproduce the following steps:</p> <ol> <li>Prepare environment in accordance with this    section.</li> <li>Insert SD card to the SDWire.</li> <li>Put SDWire into the DUT (Device Under Test).</li> <li>Prepare a micro USB --&gt; USB cable. It will be used to connect SDWire to TS     (Test Server).</li> <li> <p>Check whether SDWire is configured by reproducing the following steps:</p> <ul> <li> <p>run in TS terminal the following command:</p> <pre><code>dmesg -w\n</code></pre> </li> <li> <p>connect the SDWire to your machine using micro-USB --&gt; USB cable.</p> </li> <li> <p>after connecting your <code>dmesg</code> output should looks like this:</p> <pre><code>(...)\n[73278.307591] usb-storage 3-1.1:1.0: USB Mass Storage device detected\n[73278.307823] scsi host6: usb-storage 3-1.1:1.0\n[73278.384925] usb 3-1.2: new full-speed USB device number 45 using xhci_hcd\n[73278.492025] usb 3-1.2: New USB device found, idVendor=0403, idProduct=6015, bcdDevice=10.00\n[73278.492027] usb 3-1.2: New USB device strings: Mfr=1, Product=2, SerialNumber=3\n[73278.492028] usb 3-1.2: Product: FT200X USB I2C\n[73278.492029] usb 3-1.2: Manufacturer: FTDI\n[73278.492030] usb 3-1.2: SerialNumber: DB007V7V\n(...)\n</code></pre> </li> <li> <p>open new terminal window and run the following command:</p> <pre><code>sudo  sd-mux-ctrl --list\n</code></pre> <p>If output looks like below, it means that SDWire is configured and ready to use. Now, you can go to point 6 in this section.</p> <pre><code>Number of FTDI devices found: 1\nDev: 0, Manufacturer: SRPOL, Serial: sd-wire_11, Description: sd-wire\n</code></pre> <p>Otherwise, if output shows no devices (like in the example below):</p> <pre><code>Number of FTDI devices found: 0\n</code></pre> <p>you have to configure SDWire:</p> <pre><code>sudo sd-mux-ctrl --device-serial=DB007V7V --vendor=0x0403 --product=0x6015 --device-type=sd-wire --set-serial=sd-wire_11\n</code></pre> <p>where:</p> <pre><code>--device-serial=&lt;SerialNumber&gt; (from dmesg output)\n\n--vendor=0x&lt;idVendor&gt; (from dmesg output)\n\n--product=0x&lt;idProduct&gt; (from dmesg output)\n\n--set-serial=&lt;New serial device&gt;\n</code></pre> <p>After above-desribed procedure check again if SDWire is properly configured:</p> <pre><code>sudo  sd-mux-ctrl --list\n</code></pre> <p>Should output:</p> <pre><code>Number of FTDI devices found: 1\nDev: 0, Manufacturer: SRPOL, Serial: sd-wire_11, Description: sd-wire\n</code></pre> </li> </ul> </li> <li> <p>Connect SD card to the TS (Test Server):</p> <pre><code>sudo sd-mux-ctrl --device-serial=sd-wire_11 --ts\n</code></pre> </li> <li> <p>Flash the SD card using <code>bmaptool</code> or balenaEtcher.</p> <ul> <li>download the OS image for the target DUT - link for RPi image</li> <li>to do this by <code>balenaEtcher</code> go to the producer site and follow his procedure how to download and flash SD card</li> <li> <p>to do this by <code>bmaptool</code> reproduce the following steps:</p> <ul> <li> <p>install bmaptool by opening terminal and typing the following command:</p> <pre><code>sudo apt install bmap-tools\n</code></pre> </li> <li> <p>create the bmap by typing the following command:</p> <pre><code>bmaptool create /path/to/your/image &gt; /path/where/you/want/bmap/file/saved/bmapfilename.bmap\n</code></pre> </li> <li> <p>flash image to the SD card by typing the following command:</p> <pre><code>sudo bmaptool copy --bmap ~/path/where/your/bmap/file/is/located /path/where/your/image/is/located /path/to/memory/device\n</code></pre> </li> </ul> </li> </ul> </li> <li> <p>Connect SD card to the DUT using <code>sd-mux-ctrl</code>:</p> <pre><code>sudo sd-mux-ctrl --device-serial=sd-wire_11 --dut\n</code></pre> </li> <li> <p>Connect power supply to the DUT and check if it boots properly from newly    burned image.</p> </li> </ol>"},{"location":"transparent-validation/sd-wire/usage-validation/#everyday-use-scenario","title":"Everyday use scenario","text":"<ol> <li>Disconnect power supply from the DUT (Device Under Test).</li> <li>Disconnect micro SD card from the DUT.</li> <li>Connect micro SD card to the TS (Test Server) using card reader.</li> <li>Flash the SD card.</li> <li>Connect SD card to the DUT.</li> <li>Connect power supply to the DUT.</li> <li>Boot DUT from new image.</li> </ol> <p>Using SDWire there is no need to disconnect SD card from DUT.</p>"},{"location":"transparent-validation/sd-wire/usage-validation/#sdwire-with-rte-use-scenario","title":"SDWire with RTE use scenario","text":"<ol> <li>Insert SD card to the SDWire.</li> <li>Insert SDWire into the DUT and connect it to the TS with micro-USB --&gt; USB    cable.</li> <li>Connect RTE power control connectors to the DUT (RTE here is    optional but highly recommended for remote work, because it helps with    automated and remote power control of the connected device).</li> <li> <p>Check serial no. of SDWire:</p> <pre><code>sudo  sd-mux-ctrl --list\n</code></pre> <p>Output:</p> <pre><code>Number of FTDI devices found: 1\nDev: 0, Manufacturer: SRPOL, Serial: sd-wire_11, Description: sd-wire\n</code></pre> </li> <li> <p>Disconnect power supply using RTE.</p> </li> <li> <p>Connect SD card to the TS (using sd-mux-ctrl)</p> <pre><code>sudo sd-mux-ctrl --device-serial=sd-wire_11 --ts\n</code></pre> </li> <li> <p>Flash the SD card using <code>bmaptool</code> or <code>balenaEtcher</code> as described in the    First use section</p> </li> <li> <p>Connect SD card to the DUT (using sd-mux-ctrl)</p> <pre><code>sudo sd-mux-ctrl --device-serial=sd-wire_11 --dut\n</code></pre> </li> <li> <p>Connect power supply using RTE.</p> </li> <li> <p>DUT should boot from freshly burned SD card.</p> <p>Command <code>sudo sd-mux-ctrl --device-serial=sd-wire_11 --status</code> returns information if SDWire is connected to DUT or TS.</p> <pre><code>\u279c  ~ sudo sd-mux-ctrl --device-serial=sd-wire_11 --status\nSD connected to: TS\n</code></pre> <p>At the moment RTE does not support sd-mux-ctrl, so SDWire must be controlled from configured TS (Test Server).</p> </li> </ol> <p>References &amp; Projects:</p> <ul> <li>https://wiki.tizen.org/SDWire</li> <li>Ethernet camera module build \u2013 Automated flashing</li> <li>SD Wire &amp; 3d Printer Usage</li> </ul>"},{"location":"transparent-validation/supermicro_x11_lga1151_series/theory-of-operation/","title":"Supermicro X11 LGA1151 Series theory of operation","text":""},{"location":"transparent-validation/supermicro_x11_lga1151_series/theory-of-operation/#remote-power-control-using-ipmitool","title":"Remote power control using ipmitool","text":"<p>To remote control supermicro you can use ipmitool.</p> <pre><code>ipmitool -H [bmc_ip] -U [bmc_username] -P [bmc_password] chassis power off\nipmitool -H [bmc_ip] -U [bmc_username] -P [bmc_password] chassis power on\nipmitool -H [bmc_ip] -U [bmc_username] -P [bmc_password] chassis power cycle\nipmitool -H [bmc_ip] -U [bmc_username] -P [bmc_password] chassis power reset\n</code></pre>"},{"location":"transparent-validation/supermicro_x11_lga1151_series/theory-of-operation/#enabling-sol","title":"Enabling SOL","text":"<p>This procedure is based on this documentation.</p> <p>Follow the steps below to set up a serial connection via ssh:</p> <ol> <li> <p>Enable SOL/COM2 console in BIOS. To do that in BIOS go to the <code>Advanced</code>    section, then select <code>Serial Port Console Redirection</code> and set the    <code>SOL/COM2 Console Redirection</code> option to <code>Enabled</code> state.</p> </li> <li> <p>Edit the <code>/etc/default/grub</code> on your Linux-based OS file by adding:</p> <pre><code>linux /vmlinuz ro console=ttyS1,115200n8 earlyprintk=serial,ttyS1,115200n8\n</code></pre> <p>NOTE: If your Linux-based OS is QubesOS you should additionally remove the   <code>plymouth.ignore-serial-consoles</code> phase to enable password disk   authentication via SOL</p> </li> <li> <p>Add the following lines to the <code>~/.ssh/config</code> file on your machine:</p> <pre><code>Host &lt;IP&gt;\n    HostKeyAlgorithms = +ssh-rsa\n    PubkeyAcceptedAlgorithms = +ssh-rsa\n</code></pre> </li> <li> <p>Connect with BMC via ssh:</p> <pre><code>ssh ADMIN@&lt;IP&gt;\n</code></pre> </li> <li> <p>Then run the following command:</p> <pre><code>cd system1/sol1\n</code></pre> </li> <li> <p>And start the serial console:</p> <pre><code>start\n</code></pre> </li> </ol> <p>If you want to run the SOL console again, repeat points 4-6.</p>"},{"location":"transparent-validation/supermicro_x11_lga1151_series/theory-of-operation/#using-supermicro-update-manager-sum","title":"Using Supermicro Update Manager (SUM)","text":"<p>Supermicro Update Manager is a proprietary tool for interacting with Supermicro BMC. It can be used to change BIOS settings or mount virtual drive through CLI, among other things.</p> <p>Examples below assume that SUM was downloaded and extracted, and commands are executed from directory with <code>sum</code> executable.</p>"},{"location":"transparent-validation/supermicro_x11_lga1151_series/theory-of-operation/#mounting-floppy-image","title":"Mounting floppy image","text":"<pre><code>./sum -i [bmc_ip] -u [bmc_username] -p [bmc_password] -c MountFloppyImage --file path/to/file.img\n</code></pre>"},{"location":"transparent-validation/supermicro_x11_lga1151_series/theory-of-operation/#mounting-iso-image","title":"Mounting ISO image","text":"<p>Contrary to mounting floppy, for ISO you have to pass URL instead of path to local file. SUM supports SAMBA, HTTP and, in latest versions, HTTPS.</p> <pre><code>./sum -i [bmc_ip] -u [bmc_username] -p [bmc_password] -c MountIsoImage --image_url http://www.example.com/cd.iso\n</code></pre>"},{"location":"transparent-validation/supermicro_x11_lga1151_series/theory-of-operation/#reading-default-and-current-bios-configuration","title":"Reading default and current BIOS configuration","text":"<p>To read out default settings:</p> <pre><code>./sum -i [bmc_ip] -u [bmc_username] -p [bmc_password] -c GetDefaultBiosCfg --file bios.cfg\n</code></pre> <p>To get current settings instead, change <code>GetDefaultBiosCfg</code> to <code>GetCurrentBiosCfg</code>. In both cases, you can omit <code>--file bios.cfg</code> to print the settings to standard output.</p>"},{"location":"transparent-validation/supermicro_x11_lga1151_series/theory-of-operation/#writing-settings-to-bios","title":"Writing settings to BIOS","text":"<pre><code>./sum -i [bmc_ip] -u [bmc_username] -p [bmc_password] -c ChangeBiosCfg --file bios.cfg\n</code></pre> <p>There are additional switches to this command like <code>--reboot</code> and <code>--post_complete</code>, but they require cooperation from the running OS. These commands result in OS displaying power off (or log out) window, as if power button was pressed. After 5 minutes or so a hard reboot is initiated. This gives user a chance to save current work, but for test automation this may be unnecessary delay.</p> <p>File passed to this command can be a full configuration saved by one of the previous commands, or it can be simplified to contain just the settings that are to be changed, together with their section headers. Any option not listed in simplified file will not be changed.</p> <p>For example, to enable TXT you can use file with following content:</p> <pre><code>[Advanced|Trusted Computing]\nTXT Support=01\n</code></pre>"},{"location":"transparent-validation/twonkie/introduction/","title":"Twonkie Introduction","text":"<p>Twonkie is an open source USB Power Delivery protocol sniffer and debugging tool, created by Joachim \"dojoe\" Fenkes, based on Google's Twinkie. It can:</p> <ul> <li>Measure voltage and current on the Vbus and Vconn rails (version 2.0 can   handle EPR voltages up to 48V)</li> <li>Capture USB-PD packets for later analysis</li> <li>Pass through signals at full speed (20Gb/s lanes are verified to work)</li> <li>Send USB-PD packets</li> </ul> <p>Twonkie can be bought in 3mdeb shop.</p> <p>Links:</p> <ul> <li>Project page</li> <li>Original Twinkie documentation</li> </ul>"},{"location":"transparent-validation/twonkie/introduction/#setup","title":"Setup","text":""},{"location":"transparent-validation/twonkie/introduction/#preparation","title":"Preparation","text":"<p>For flashing and using the Twonkie, you will need to install <code>dfu-util</code> and <code>minicom</code>. You can find them in your Linux distro's repositories:</p> Ubuntu / DebianFedoraArch <pre><code>$ sudo apt install dfu-util minicom\n</code></pre> <pre><code>$ sudo dnf install dfu-util minicom\n</code></pre> <pre><code>$ sudo pacman -S dfu-util minicom\n</code></pre>"},{"location":"transparent-validation/twonkie/introduction/#flashing","title":"Flashing","text":"<p>Steps to flash firmware to the Twonkie:</p> <ol> <li>Download the latest firmware from the project's release page</li> <li>While holding the SW1 button on the Twonkie, connect it to your computer using    a USB micro-B cable</li> <li> <p>Verify in <code>lsusb</code> that the device has booted in DFU mode:</p> <pre><code>$ lsusb | grep 0483:df11\nBus 003 Device 083: ID 0483:df11 STMicroelectronics STM Device in DFU Mode\n</code></pre> </li> <li> <p>Navigate to the location where you downloaded the firmware</p> </li> <li> <p>Flash the firmware:</p> <pre><code>$ sudo dfu-util -a 0 -s 0x08000000 -D ~/Downloads/twonkiev2-20230611.bin\n</code></pre> <p>The command may take a long time to complete. Do not be alarmed if progress appears to stop. 1. Disconnect and reconnect the newly flashed Twonkie to reboot it into the    firmware 1. Verify in <code>lsusb</code> that the device has booted into firmware:</p> <pre><code>$ lsusb | grep 18d1:500a\nBus 003 Device 084: ID 18d1:500a Google Inc. Twinkie\n</code></pre> </li> </ol>"},{"location":"transparent-validation/twonkie/introduction/#testing","title":"Testing","text":""},{"location":"transparent-validation/twonkie/introduction/#sniffing-a-pd-negotiation","title":"Sniffing a PD negotiation","text":"<ol> <li> <p>Open minicom on Twonkie's console:</p> <pre><code>$ sudo minicom -D /dev/ttyUSB0\n</code></pre> </li> <li> <p>Type in <code>tw trace on</code> to start logging</p> </li> <li>Connect a twonkie between a USB-PD power supply and a USB-PD power sink </li> <li>Verify that the device is charging and logs appear on the screen</li> </ol> <p>Example output:</p> <pre><code>&gt; tw trace on\n33.754913 SRC/0 [41a1]SRCCAP 5000mV/3000mA 9000mV/3000mA 15000mV/3000mA 20000mV/3250mA\n33.906189 SRC/0 [41a1]SRCCAP 5000mV/3000mA 9000mV/3000mA 15000mV/3000mA 20000mV/3250mA\n34.057128 SRC/0 [41a1]SRCCAP 5000mV/3000mA 9000mV/3000mA 15000mV/3000mA 20000mV/3250mA\n34.208091 SRC/0 [41a1]SRCCAP 5000mV/3000mA 9000mV/3000mA 15000mV/3000mA 20000mV/3250mA\n34.359253 SRC/0 [41a1]SRCCAP 5000mV/3000mA 9000mV/3000mA 15000mV/3000mA 20000mV/3250mA\n34.360608 SNK/0 [0041]GOODCRC\n34.364597 SNK/0 [1082]REQUEST{4} 43851545\n34.365421 SRC/0 [0121]GOODCRC\n34.367411 SRC/1 [03a3]ACCEPT\n34.368118 SNK/1 [0241]GOODCRC\n34.593451 SRC/2 [05a6]PSRDY\n34.594166 SNK/2 [0441]GOODCRC\n34.595642 SRC/3 [17af]VDM Vff00:DISCSVID,INI:ff00a002\n34.597310 SRC/3 [17af]VDM Vff00:DISCSVID,INI:ff00a002\n34.598213 SNK/3 [0641]GOODCRC\n34.602898 SNK/1 [328f]VDM Vff00:DISCSVID,ACK:ff00a042 8087ff01 00000000\n34.603946 SRC/1 [0321]GOODCRC\n</code></pre>"},{"location":"transparent-validation/twonkie/introduction/#measuring-voltage-and-current","title":"Measuring voltage and current","text":"<ol> <li> <p>Open minicom on Twonkie's console:</p> <pre><code>$ sudo minicom -D /dev/ttyUSB0\n</code></pre> </li> <li> <p>Connect a twonkie between a USB-PD power supply and a USB-PD power sink </p> </li> <li>Type in <code>tw vbus</code> to display the voltage and current measurement</li> </ol> <p>Example output:</p> <pre><code>&gt; tw vbus\nVBUS = 20112 mV ; -1274 mA\n</code></pre>"},{"location":"transparent-validation/twonkie/introduction/#power-sink","title":"Power sink","text":"<ol> <li> <p>Open minicom on Twonkie's console:</p> <pre><code>$ sudo minicom -D /dev/ttyUSB0\n</code></pre> </li> <li> <p>Connect a twonkie between a USB-PD power supply and a USB-PD power meter</p> </li> <li>Type in <code>tw sink</code> to enable sink mode - the firmware will reboot at this    point</li> <li>Type in <code>pd 0 dev 20</code> to set voltage limit to 20V</li> <li>Verify that the power meter turns on and displays 20V measured at the USB-C    plug</li> <li>Verify that the RGB LED has changed its color to red</li> </ol> <p>Example of a successful test:</p> <p></p>"},{"location":"unified/clevo/post-install/","title":"Post-installation setup","text":"<p>This document contains extra steps to perform after installing Dasharo in order to enable full functionality of your device.</p>"},{"location":"unified/clevo/post-install/#linux","title":"Linux","text":"<p>This section covers Linux post-install steps tested on Ubuntu 22.04. It is likely thas similar procedures would for others Linux distributions as well.</p>"},{"location":"unified/clevo/post-install/#touchpad-hotkey-enablement","title":"Touchpad hotkey enablement","text":"<p>The touchpad hotkey needs extra setup to function correctly under Linux. To enable the touchpad hotkey to work under Linux, follow the steps below:</p> <ol> <li>Execute fixup script:</li> </ol> <pre><code>curl -sSf https://raw.githubusercontent.com/Dasharo/dasharo-tools/main/clevo/touchpad-fixup | sudo sh\n</code></pre> <p>After executing these steps, it should be possible to enable and disable the touchpad using the touchpad hotkey (Fn+F1) on the keyboard when using GNOME.</p>"},{"location":"unified/clevo/post-install/#touchpad-multi-touch-support","title":"Touchpad multi-touch support","text":"<p>On NS7x an additional fix is necessary to enable multi-touch on Linux. Create a file <code>/etc/modprobe.d/blacklist-psmouse.conf</code> with the following contents:</p> <pre><code>blacklist psmouse\n</code></pre> <p>and then run the following commands:</p> <pre><code>sudo depmod -a\nsudo update-initramfs -u\n</code></pre>"},{"location":"unified/clevo/post-install/#updated-kernel","title":"Updated kernel","text":"<p>On Gen 12 (Alder Lake), it's recommended to install the ubuntu-oem kernel which is a newer version than the default Ubuntu kernel. This version contains additional fixes for newer hardware which helps with power management and suspend on Gen 12 laptops. To install the ubuntu-oem kernel, run the following command:</p> <pre><code>sudo apt install linux-oem-22.04a\n</code></pre> <p>and reboot to use the new kernel.</p>"},{"location":"unified/clevo/post-install/#nvidia-drivers","title":"Nvidia drivers","text":"<p>It is only necessary to follow this step if your device has Nvidia GPU</p> <p>For proper working of the sleep mode on Ubuntu 22.04, it is required to install additional Nvidia drivers.</p> <ol> <li> <p>Install drivers by executing the following command in the terminal:</p> <pre><code>sudo apt install nvidia-driver-515 nvidia-dkms-515\n</code></pre> </li> <li> <p>Reboot the device to apply changes by executing the following command in the     terminal:</p> <pre><code>sudo reboot\n</code></pre> </li> <li> <p>(Optional) For power saving while the card is not in use, enable On-Demand    mode in NVIDIA Control Panel:</p> </li> </ol> <p></p>"},{"location":"unified/clevo/post-install/#suspend-fix-for-sata-disks","title":"Suspend fix for SATA disks","text":"<p>Only affects laptops with M.2 SATA disks experiencing sleep issues (the power LED not blinking while the laptop is suspended)</p> <p>Windows and certain Linux distros such as Ubuntu do not enable the necessary power saving tweaks to enable sleep mode while a SATA disk is installed.</p> <ol> <li> <p>Execute fixup script:</p> <pre><code>curl -sSf https://raw.githubusercontent.com/Dasharo/dasharo-tools/main/clevo/sata-suspend-fixup | sudo sh\n</code></pre> </li> </ol>"},{"location":"unified/clevo/post-install/#windows-11","title":"Windows 11","text":""},{"location":"unified/clevo/post-install/#updates-and-drivers-installation","title":"Updates and drivers installation","text":"<p>Several features on Windows 11 (i. e. suspending the device) may not work or work unexpectedly without installing all of the updates and drivers.</p> <p>To install all of them, log into the system, connect the device to the mains and Internet, then follow the steps below:</p> <ol> <li>Press the <code>Windows</code> button on the keypad.</li> <li>Type <code>Windows Update Settings</code> in the search and press <code>Enter</code>.</li> <li>Select the <code>Check for updates</code> bar to start installing available updates and     drivers. During this process previously selected bar might be changed to     <code>Restart now</code> or <code>Retry</code>, so click them if something hasn't been installed     yet, something has gone wrong or a restart is just required. The entire     process may take up to 30 minutes.</li> <li>Select the <code>Advanced options</code> option in the <code>Windows Update Settings</code> window.</li> <li>Locate the <code>Optional updates</code> option and click on it.</li> <li>Select all displayed updates and drivers.</li> <li>Select the <code>Download &amp; Install</code> bar to start installing additional updates     and drivers. During this process previously selected bar might be changed     to <code>Restart now</code> or <code>Retry</code>, so click them if something hasn't been     installed yet, something has gone wrong or a restart is just required.     The entire process may take up to 30 minutes.</li> <li>Repeat all steps until all updates have been installed.</li> </ol>"},{"location":"unified/clevo/post-install/#suspend-fix-for-sata-disks-windows-and-linux","title":"Suspend fix for SATA disks (Windows and Linux)","text":"<p>Only affects laptops with M.2 SATA disks experiencing sleep issues (the power LED not blinking while the laptop is suspended).</p> <p>Windows and certain Linux distros such as Ubuntu do not enable the necessary power saving tweaks to enable sleep mode while a SATA disk is installed.</p> <ol> <li>Download the script: link</li> <li>Double click on the script to install the tweak</li> </ol>"},{"location":"unified/clevo/post-install/#headset-jack-fix-for-nv4x-12th-gen","title":"Headset jack fix for NV4x 12th Gen","text":"<p>The headset jack in NV4x 12th Gen (Alder Lake) needs a fix that is available starting with kernel version v6.0 (patch be561ffad708f0cee18aee4231f80ffafaf7a419). If you are using an older kernel, you need to add the fix manually:</p> <ol> <li> <p>Execute fixup script:</p> <pre><code>curl -sSf https://raw.githubusercontent.com/Dasharo/dasharo-tools/main/clevo/nv4x-audio-fixup | sudo sh\n</code></pre> </li> <li> <p>Reboot. The audio jack will now work correctly.</p> </li> </ol>"},{"location":"unified/msi/building-manual/","title":"Building manual","text":""},{"location":"unified/msi/building-manual/#intro","title":"Intro","text":"<p>This documents describes the procedure for compiling Dasharo firmware compatible with MSI PRO Z690-A and MSI PRO Z790-P.</p>"},{"location":"unified/msi/building-manual/#requirements","title":"Requirements","text":"<ul> <li><code>Ubuntu 20.04/21.04/22.04</code> as a host OS was tested</li> <li>Internet connection</li> <li>Docker installed<ul> <li>follow Install Docker Engine on Ubuntu</li> <li>follow Post-installation steps for Linux</li> </ul> </li> <li>Git, wget, unzip installed</li> </ul> <pre><code>sudo apt install git unzip wget\n</code></pre> <ul> <li>UEFIExtract installed<ul> <li>this tool is used in the <code>build.sh</code> script to extract CPU microcode from   the original MSI firmware</li> </ul> </li> </ul> <pre><code>sudo apt install wget\nwget https://github.com/LongSoft/UEFITool/releases/download/A59/UEFIExtract_NE_A59_linux_x86_64.zip\nunzip UEFIExtract_NE_A59_linux_x86_64.zip\nsudo cp ./UEFIExtract /usr/local/bin\n</code></pre>"},{"location":"unified/msi/building-manual/#procedure","title":"Procedure","text":"<p>Obtain Dasharo source code:</p> PRO Z690-A (WIFI) DDR4PRO Z690-A (WIFI)PRO Z790-P (WIFI) DDR4PRO Z790-P (WIFI) <p>Replace the <code>REVISION</code> with one of the:</p> <ul> <li><code>msi_ms7d25/release</code> for the latest released version</li> <li><code>msi_ms7d25_vVERSION</code> (e.g. <code>msi_ms7d25_v1.1.2</code>) for the given release</li> </ul> <p>Replace the <code>REVISION</code> with one of the:</p> <ul> <li><code>msi_ms7d25/release</code> for the latest released version</li> <li><code>msi_ms7d25_vVERSION</code> (e.g. <code>msi_ms7d25_v1.1.2</code>) for the given release</li> </ul> <p>Replace the <code>REVISION</code> with one of the:</p> <ul> <li><code>msi_ms7d25/release</code> for the latest released version</li> <li><code>msi_ms7e06_vVERSION</code> (e.g. <code>msi_ms7e06_v0.9.0</code>) for the given release</li> </ul> <p>Replace the <code>REVISION</code> with one of the:</p> <ul> <li><code>msi_ms7d25/release</code> for the latest released version</li> <li><code>msi_ms7e06_vVERSION</code> (e.g. <code>msi_ms7e06_v0.9.0</code>) for the given release</li> </ul> <pre><code>git clone https://github.com/Dasharo/coreboot.git -b REVISION\ncd coreboot\n</code></pre> <p>Start the build process:</p> PRO Z690-A (WIFI) DDR4PRO Z690-A (WIFI)PRO Z790-P (WIFI) DDR4PRO Z790-P (WIFI) <pre><code>./build.sh z690a_ddr4\n</code></pre> <p>The resulting Dasharo firmware image will be placed at <code>$PWD/msi_ms7d25_VERSION_ddr4.rom</code>.</p> <pre><code>./build.sh z690a_ddr5\n</code></pre> <p>The resulting Dasharo firmware image will be placed at <code>$PWD/msi_ms7d25_VERSION_ddr5.rom</code>.</p> <pre><code>./build.sh z790p_ddr4\n</code></pre> <p>The resulting Dasharo firmware image will be placed at <code>$PWD/msi_ms7e06_VERSION_ddr4.rom</code>.</p> <pre><code>./build.sh z790p_ddr5\n</code></pre> <p>The resulting Dasharo firmware image will be placed at <code>$PWD/msi_ms7e06_VERSION_ddr4.rom</code>.</p>"},{"location":"unified/msi/community-test-results/","title":"Community test results","text":""},{"location":"unified/msi/community-test-results/#about","title":"About","text":"<p>The following document contains information about additional tests which were carried out on the MSI PRO Z690-A and MSI Z790-P platform with Dasharo firmware by community members.</p> <p>The following list is created based on the information from the community - people which are currently using the platform with Dasharo firmware.</p> <p>This document contains three main sections: - <code>Contributing</code> in which we are describing preferred of reporting the results. - <code>Testing method</code> in which we are describing our preferred testing method. - <code>Hardware Compatible List</code> in which in a labeled manner we show all     tests carried out by the community.</p>"},{"location":"unified/msi/community-test-results/#contributing","title":"Contributing","text":"<p>Feel free to perform different tests and report your results via email or submit a Pull Request to Dasharo documentation repository or by using Dasharo issues repository.</p>"},{"location":"unified/msi/community-test-results/#testing-method","title":"Testing method","text":"<p>Platform testing might be carried out on the basis of Dasharo Test Specification.</p> <p>If you prefer another mechanism for checking any functionality or check any mechanism that we did not include in the documentation - describe it in the test report issue.</p>"},{"location":"unified/msi/community-test-results/#community-test-results_1","title":"Community test results","text":"PRO Z690-A (WIFI) DDR4PRO Z690-A (WIFI)PRO Z790-P (WIFI) DDR4PRO Z790-P (WIFI) No. Description Link to description Notes 1. No. Description Link to description Notes 1. No. Description Link to description Notes 1. No. Description Link to description Notes 1."},{"location":"unified/msi/development/","title":"Dasharo compatible with MSI PRO Z690-A and PRO Z790-P - development","text":""},{"location":"unified/msi/development/#intro","title":"Intro","text":"<p>This document gather various notes and documentation useful for development of Dasharo compatible with the MSI PRO Z690-A and PRO Z790-P platform.</p>"},{"location":"unified/msi/development/#hardware-connection","title":"Hardware connection","text":""},{"location":"unified/msi/development/#requirements","title":"Requirements","text":"<ul> <li>peripherals listed in the:<ul> <li>PRO Z690-A Hardware Configuration Matrix</li> <li>PRO Z790-P Hardware Configuration Matrix</li> </ul> </li> <li>RTE</li> <li>Sonoff S20 Smart Plug    with custom firmware</li> </ul>"},{"location":"unified/msi/development/#serial-debug","title":"Serial debug","text":"<ul> <li>Attach the jumpers in <code>J16</code> header to enable header <code>J18</code> according to the   table below:</li> </ul> Jumper position (TX) Jumper position (RX) EXT + COM EXT + COM <ul> <li>Connect signals from the <code>J18</code> header to serial receiver:</li> </ul> RTE Msi Z690 J18 pin 1 (GND) JBD1 pin 1 (pin closer to JBAT1) J18 pin 2 (RX) JBD1 pin 2 (pin further from JBAT1) <p>Pins on JBD1 are not described in the documentation. They have been discovered experimentally. Pay attention to the connections.</p> <p>Please also note that this is uni-directional communication. We can gether logs from booting, but we cannot provide input to the platform at the same time.</p> <p></p>"},{"location":"unified/msi/development/#spi","title":"SPI","text":"<ul> <li>For external flashing, connect <code>RTE</code> with motherboard according to the table   below:</li> </ul> RTE SPI header MSI Z690-A/Z790-P J7 pin 1 (Vcc) JTPM1 pin 1 (SPI Power) J7 pin 2 (GND) JTPM1 pin 7 (GND) J7 pin 3 (CS) JTPM1 pin 5 (RESERVED / BIOS SPI CS pin) J7 pin 4 (SCLK) JTPM1 pin 6 (SPI Clock) J7 pin 5 (MISO) JTPM1 pin 3 (MISO) J7 pin 6 (MOSI) JTPM1 pin 4 (MOSI) <p>JTPM1 is a 2mm pitch header, you will need 2mm to 2.54mm female-female dupont wires to connect to RTE.</p> <p>The JTPM1 pin5 is actually BIOS SPI CS pin (marked as reserved in the board manual).</p> <p></p> <ul> <li>Example connection:</li> </ul> <p></p> <p></p>"},{"location":"unified/msi/development/#power-control","title":"Power control","text":""},{"location":"unified/msi/development/#power-buttons-control","title":"Power buttons control","text":"<ul> <li> <p>Connect 12V/4A power supply to RTE J13 connector to power on RTE</p> </li> <li> <p>Connect power control pins from mainboard to RTE according to the table below:</p> </li> </ul> <p>JFP1 is located in the corner of the mainbaord, near SATA interface ports</p> RTE MSI Z690-A/Z790-P J11 pin 9 JFP1 pin 6 (PWR_ON) J11 pin 8 JFP1 pin 7 (RST) J15 pin 1 (GND) JFP1 pin 5 (GND)"},{"location":"unified/msi/development/#power-supply-control","title":"Power supply control","text":"<p>Connect <code>SeaSonic FOCUS Plus Platinum</code> power supply unit to the mains via <code>Sonoff S20 Smart Plug</code>. To power control via RTE, <code>Sonoff</code> smart plug</p>"},{"location":"unified/msi/faq/","title":"FAQ","text":""},{"location":"unified/msi/faq/#why-msi-z690-a-wifi-ddr4-was-chosen-for-dasharo","title":"Why MSI Z690-A (WIFI) (DDR4) was chosen for Dasharo ?","text":"<p>Please read this extensive analysis contributed to Intel Reddit.</p>"},{"location":"unified/msi/faq/#why-do-you-use-the-nomenclature-msi-z690-a-wifi-ddr4","title":"Why do you use the nomenclature <code>MSI Z690-A (WIFI) (DDR4)</code>?","text":"<p>This nomenclature is the result of the naming used by the producer. <code>MSI PRO Z690-A</code> is the nomenclature used for naming the platform with DDR5 memory slots. If the platform is also equipped with the WiFi module, its naming nomenclature will additionally include the phrase <code>WIFI</code>. If instead of DDR5 memory slots, the platform is equipped with DDR4 memory slots, and its naming nomenclature will additionally include the phrase <code>DDR4</code>.</p>"},{"location":"unified/msi/faq/#will-this-work-on-my-msi-pro-z690-a-model-with-ddr5-support","title":"Will this work on my <code>MSI PRO Z690-A</code> (model with DDR5 support)?","text":"<p>Yes, during test procedures the Dasharo firmware work has been confirmed for the DDR5 platform without WIFI.</p>"},{"location":"unified/msi/faq/#will-this-work-on-my-msi-pro-z690-a-ddr4","title":"Will this work on my <code>MSI PRO Z690-A DDR4</code>?","text":"<p>Yes, during test procedures the Dasharo firmware work has been confirmed for the DDR4 WIFI platform. In turn, Dasharo working correctness on <code>MSI PRO Z690-A DDR4</code> has been confirmed by the community.</p>"},{"location":"unified/msi/faq/#can-i-safely-test-this-on-my-board","title":"Can I safely test this on my board?","text":"<p>Thanks to the introduction of FlashBIOS, it's now safe to experiment with this on your board. If any issues arise, you can effortlessly revert to the stock firmware without requiring special equipment. However, if you're unfamiliar with recovery processes and feel apprehensive, please contact the Dasharo Matrix Community for assistance. We're continuously working to simplify the recovery process, and our recommendations may be updated accordingly.</p>"},{"location":"unified/msi/faq/#can-i-destroy-my-hardware-by-installing-this-firmware","title":"Can I destroy my hardware by installing this firmware?","text":"<p>We give no warranty, although it is highly unlikely, provided that you use the supported board model and follow the Initial Deployment. In the worst scenario, you might \"brick\" the board, rendering it unbootable. It can be fixed by following the recovery procedure. In case of concerns, we invite you to buy the equipment directly in our online store with a subscription service, under which we perform the Dasharo installation with the latest release, and offer full support through invite-only Matrix channel.</p>"},{"location":"unified/msi/faq/#how-can-i-know-if-the-board-is-bricked","title":"How can I know if the board is \"bricked\"?","text":"<p>In such a case, you would get stuck with a black screen on the display. There will be no beeping sounds from the buzzer as well. The only way to get some information on what's going on in that state is to use the Serial header to read out error information.</p>"},{"location":"unified/msi/faq/#what-can-be-the-reason-for-a-board-bricking","title":"What can be the reason for a board \"bricking\"?","text":"<p>The most common reason would be the fact that your DDR memory modules are not initialized properly.</p> <p>The other reason might be improper or interrupted installation. Please make sure to follow the Initial Deployment Manual correctly.</p>"},{"location":"unified/msi/faq/#how-can-i-unbrick-my-board","title":"How can I \"unbrick\" my board?","text":"<p>Please follow the recovery procedure.</p>"},{"location":"unified/msi/faq/#which-cpus-are-supported","title":"Which CPUs are supported?","text":"<p>We can say the \"supported\" one is the one that has been tested during Validation Procedure or have been tested by the community.</p> <p>The list of all supported CPUs is available in the CPU HCL documentation.</p> <p>In practice, any Alder Lake-S Processor should work.</p>"},{"location":"unified/msi/faq/#which-memory-modules-are-supported","title":"Which memory modules are supported?","text":"<p>We can say the \"supported\" one is the one that has been tested during Validation Procedure or have been tested by the community.</p> <p>The list of all supported memory modules is available in the Memory HCL documentation.</p>"},{"location":"unified/msi/faq/#what-is-the-memory-profile","title":"What is the memory profile?","text":"<p>Dasharo firmware currently picks the highest standard SPD Profile, with no support for XMP ones. This means that the Kingston modules, it is actually working at 2400 MHz, but it is expected to work all the way to 3200 MHz.</p>"},{"location":"unified/msi/faq/#why-my-gpu-doesnt-work-on-msi-pro-z690-a-ddr4-wifi","title":"Why my GPU doesn't work on <code>MSI PRO Z690-A (DDR4) (WIFI)</code>?","text":"<p>Due to the fact, that there's no possibility to insert all available GPU drivers into the firmware, the solution in the form of the <code>Option ROM</code> is in use. <code>Option ROMs</code> are the drivers flashed in the GPUs' non-volatile memory. These drivers can be divided into <code>Legacy Option ROMs</code> and <code>EFI Option ROMs</code>.</p> <p><code>Legacy Option ROMs</code> are only supported on legacy BIOS, such as SeaBIOS. Legacy BIOS checks the availability of <code>Option ROM</code> and if its signature matches, it executes its entry point. This option ROM initializes the graphics. The only way to support <code>Option ROM</code> in UEFI is through CSM, which we do not have implemented.</p> <p><code>EFI Option ROMs</code> are nothing more than EFI drivers which have the same form as the UEFI files (PE format). UEFI firmware scans the <code>Option ROM</code> space of the graphics card and if it finds a potential <code>EFI Option ROM</code> with a PE signature, it executes the file. This option ROM initializes the graphics.</p> <p>Considering the above, the firmware might have a problem with initializing older graphics cards - UEFI standard appeared about 15 years ago.</p> <p>The problem might also be caused by an enabled <code>Secure boot</code> - because there is no certainty that <code>EFI Option ROM</code> is signed correctly.</p>"},{"location":"unified/msi/faq/#which-gpus-are-supported","title":"Which GPUs are supported?","text":"<p>We can say the \"supported\" one is the one that has been tested during Validation Procedure or have been tested by the community.</p> <p>The list of all supported memory modules is available in the GPU HCL documentation.</p>"},{"location":"unified/msi/faq/#what-does-the-obligatory-dasharo-subscription-include","title":"What does the obligatory Dasharo Subscription include?","text":"<p>The Dasharo Subscription includes:</p> <ul> <li>The latest Dasharo Entry Subscription release installed by the Dasharo Team</li> <li>Dasharo Updates \u2013 The number of updates depends on the number of Dasharo   Subscriptions sold and the availability of other funding (e.g., NLNet,   corporate sponsors, community   donations)</li> <li>Priority support for Dasharo Subscribers through invite-only Matrix channel</li> <li>Influence on Dasharo features roadmap \u2013 you can have a real impact on Dasharo   development by direct access with the developers or premium voting on GitHub.   You will gain access to the dedicated channels on the matrix communicator.   If you wish to share your GitHub nickname with us, the votes cast for the   features that you would like to have implemented in the future will be treated   with priority, i.e. they will have a higher priority than the votes of   non-subscribers.</li> <li>By buying this product, you support open-source firmware and Dasharo   distribution.</li> </ul>"},{"location":"unified/msi/faq/#what-does-the-warranty-condition-no-signs-of-customer-interference-mean","title":"What does the warranty condition \"No signs of customer interference...\" mean?","text":"<p>Full question: \"In the Disclaimer, you wrote that one of the warranty conditions is: \"No signs of customer interference with the platform or firmware.\" How would a user modify firmware without losing the warranty? Being open source to be easy to modify, then saying \"don't touch this\" seems contradictory. How would you add an exception?\"</p> <p>Playing with firmware parameters can result in damaging the mainboard. Such action excludes the acceptance of the return.</p> <p>You can improve Dasharo by contributing, and when it passes the Dasharo Certification Program, can we release it in the next version.</p>"},{"location":"unified/msi/firmware-update/","title":"Firmware update","text":"<p>The following documentation describes the process of Dasharo open-source firmware update. The update process may be different, depending on which firmware version is currently installed on your device. The currently installed firmware version can be checked with the following command in a Linux environment:</p> <pre><code>sudo dmidecode -t bios | grep Version\n</code></pre> <p>Alternatively, it can be checked in the <code>BIOS Setup Menu</code>.</p>"},{"location":"unified/msi/firmware-update/#prerequisites","title":"Prerequisites","text":"<p>Depending on firmware version (1) there may be manual steps required to ensure that the firmware can be updated.</p> <ol> <li>v0.9.0 for Z790-P and v1.1.2 for Z690-A introduced support for Firmware    Update Mode</li> </ol>"},{"location":"unified/msi/firmware-update/#firmware-update-mode","title":"Firmware Update Mode","text":"<p>If the currently installed Dasharo version supports Firmware Update Mode, follow the steps outlined in generic Firmware Update documentation.</p>"},{"location":"unified/msi/firmware-update/#manual","title":"Manual","text":"<p>Ensure that the firmware protections are disabled in Dasharo Security Options. Both <code>BIOS boot medium lock</code> and <code>Enable SMM BIOS write protection</code> should be unchecked. UEFI Secure Boot must be disabled as well (uncheck <code>Attempt Secure Boot</code> if <code>Current Secure Boot State</code> does not say <code>Disabled</code>). To apply changes you will need to reboot.</p> <p>Please use one of the following environments to perform Dasharo update:</p> <ul> <li>Dasharo Tools Suite (DTS)</li> <li>Linux distribution of your choice</li> </ul> <p>We recommend using DTS for updating firmware.</p>"},{"location":"unified/msi/firmware-update/#dasharo-tools-suite","title":"Dasharo Tools Suite","text":"<p>The DTS allows performing automatic firmware update process, which is the recommended method. To update your firmware, follow below steps.</p> <ol> <li>Boot DTS using iPXE    on your platform.</li> <li>Follow firmware update    procedure described in DTS documentation.</li> </ol>"},{"location":"unified/msi/firmware-update/#linux-distribution-of-your-choice","title":"Linux distribution of your choice","text":"<p>Linux distributions may not yet have the support for the newest chipsets in flashrom installed via package manager so building the flashrom from source may be inevitable. You may check if your flashrom supports the Z690 and Z790 chipset by doing a dry run without firmware binary:</p> <pre><code>sudo flashrom -p internal\n</code></pre> <p>Example output of undetected chipset:</p> <pre><code>flashrom v1.2 on Linux 5.19.0-32-generic (x86_64)\nflashrom is free software, get the source code at https://flashrom.org\n\nUsing clock_gettime for delay loops (clk_id: 1, resolution: 1ns).\nCannot open file stream for /dev/mtd0\nNo DMI table found.\nWARNING: No chipset found. Flash detection will most likely fail.\n========================================================================\nYou may be running flashrom on an unknown laptop. We could not\ndetect this for sure because your vendor has not set up the SMBIOS\ntables correctly. Some internal buses have been disabled for\nsafety reasons. You can enforce using all buses by adding\n  -p internal:laptop=this_is_not_a_laptop\nto the command line, but please read the following warning if you\nare not sure.\n\nLaptops, notebooks and netbooks are difficult to support and we\nrecommend to use the vendor flashing utility. The embedded controller\n(EC) in these machines often interacts badly with flashing.\nSee the manpage and https://flashrom.org/Laptops for details.\n\nIf flash is shared with the EC, erase is guaranteed to brick your laptop\nand write may brick your laptop.\nRead and probe may irritate your EC and cause fan failure, backlight\nfailure and sudden poweroff.\nYou have been warned.\n========================================================================\nNo EEPROM/flash device found.\nNote: flashrom can never write if the flash chip isn't found automatically.\n</code></pre> <p>It means you cannot proceed with this flashrom version and you have to remove it using your package manager. Then follow the procedure for building the right flashrom is described in <code>Build flashrom</code> section in the Initial deployment documentation (note the procedure describes Ubuntu case only, your package manager and package names to install may be slightly different). We recommend to use Dasharo Tools Suite.</p> <p>Example of good output:</p> <pre><code>flashrom v1.2-1031-g6b2061b on Linux 5.19.0-32-generic (x86_64)\nflashrom is free software, get the source code at https://flashrom.org\n\nUsing clock_gettime for delay loops (clk_id: 1, resolution: 1ns).\nNo DMI table found.\nFound chipset \"Intel Z690\".\nEnabling flash write... SPI Configuration is locked down.\nFREG0: Flash Descriptor region (0x00000000-0x00000fff) is read-write.\nFREG1: BIOS region (0x01000000-0x01ffffff) is read-write.\nFREG2: Management Engine region (0x00001000-0x003d8fff) is read-write.\nEnabling hardware sequencing because some important opcode is locked.\nOK.\nFound Programmer flash chip \"Opaque flash chip\" (32768 kB, Programmer-specific) on internal.\nNo operations were specified.\n</code></pre> <p>That means you are good to go.</p>"},{"location":"unified/msi/firmware-update/#migrating-smbios-unique-data-optional","title":"Migrating SMBIOS unique data (optional)","text":"<p>Before flashing you may migrate your serial number and UUID as described in Initial deployment. Applicable to Dasharo v1.1.0 (PRO Z690-A) / v0.9.0 (PRO Z790-P) and later.</p>"},{"location":"unified/msi/firmware-update/#flashing-using-flashrom","title":"Flashing using flashrom","text":"PRO Z690-A boardsPRO Z790-P boards <p>There is only one version available for now. Please follow instructions described in Initial deployment to deploy the Dasharo.</p> <p>If updating firmware using custom builds without changing the flashmap, only the <code>RW_SECTION_A</code> and <code>RW_SECTION_B</code> partitions of the flash needs to be updated. Flash it using the following command:</p> <pre><code>flashrom -p internal -w [path] --fmap -i RW_SECTION_A -i RW_SECTION_B\n</code></pre>"},{"location":"unified/msi/firmware-update/#version-v110-or-newer","title":"Version v1.1.0 or newer","text":"<p>Version v1.1.0 and v1.1.2 had to change the flashmap layout and requires usage of the procedure below when migrating from v1.0.0 or older.</p> <p>Only the <code>RW_SECTION_A</code> and <code>RW_SECTION_B</code> partitions of the flash needs to be updated. Flash it using the following command:</p> <pre><code>flashrom -p internal -w [path] --fmap -i RW_SECTION_A -i RW_SECTION_B\n</code></pre> <p>To flash newer firmware the command described in the section below might be also used. But remember, in that case, all Dasharo UEFI settings will be lost. Also, the memory training procedure will have to be carried out again.</p>"},{"location":"unified/msi/firmware-update/#version-older-than-v110","title":"Version older than v1.1.0","text":"<p>In this case, the whole <code>bios</code> region must be updated.</p> <pre><code>flashrom -p internal -w [path] --ifd -i bios\n</code></pre>"},{"location":"unified/msi/firmware-update/#troubleshooting","title":"Troubleshooting","text":"<p>Possible errors are described in the Generic deployment problems with flashrom</p>"},{"location":"unified/msi/hcl/","title":"Hardware Compatibility Lists","text":"<p>Following compatibility list is compiled thanks to community contribution and Dasharo Team work. Please note there are other good sources of information about compatibility like:</p> <ul> <li>OpenBenchmarking.org</li> <li>linux-hardware.org</li> <li>bsd-hardwre.info</li> </ul> <p>Feel free to refer to above sources or contact community, if you can't find your hardware.</p> CPU HCL (20 Jul 2023)Memory HCL (20 Jul 2023)GPU HCL <p>CPU Hardware Compatibility List presents the CPUs tested and verified to work with Dasharo by community. The following list does not include CPU which is tested and verfied in 3mdeb laboratory - this information might be found in MSI PRO Z690-A Hardware Matrix and MSI PRO Z790-P Hardware Matrix documentation.</p> <p>Legend:</p> <ul> <li>CPU Model: CPU Model name.</li> <li>Dasharo version: Dasharo version on which report was created.<ul> <li><code>-</code> if version was not reported</li> </ul> </li> <li>Source:<ul> <li>Link to report if it is public.</li> <li><code>Dasharo HCL report</code> if it was reported using DTS.</li> </ul> </li> </ul> <p> PRO Z690-A (WIFI) DDR4PRO Z690-A (WIFI)PRO Z790-P (WIFI) DDR4PRO Z790-P (WIFI) CPU Model Dasharo version Source 12th Gen Intel(R) Core(TM) i5-12400F - Github PR 12th Gen Intel(R) Core(TM) i5-12400F v1.1.0 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i5-12500T v1.1.0 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i5-12500T v1.1.0 Dasharo HCL report 12th Gen Intel(R) Core(TM) i5-12600 v1.1.0 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i5-12600 v1.1.0 Dasharo HCL report 12th Gen Intel(R) Core(TM) i5-12600K v1.0.0 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i5-12600K v1.0.0 Dasharo HCL report 12th Gen Intel(R) Core(TM) i5-12600K v1.1.0 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i5-12600K v1.1.0 Dasharo HCL report 12th Gen Intel(R) Core(TM) i5-12600K v1.1.1 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i5-12600K v1.1.1-rc4 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i7-12700K v1.0.0 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i7-12700K v1.0.0 Dasharo HCL report 12th Gen Intel(R) Core(TM) i7-12700K v1.0.0 Qubes HCL reports 12th Gen Intel(R) Core(TM) i7-12700K v1.1.0 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i7-12700K v1.1.1 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i9-12900K v0.4.0 Qubes HCL reports 12th Gen Intel(R) Core(TM) i9-12900K v1.1.0 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i9-12900KF v1.1.1 Github PR 12th Gen Intel(R) Core(TM) i9-12900K v1.1.1 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i9-12900KS v1.1.1 Dasharo HCL Report 12th Gen Intel(R) Core(TM) i9-12900T v1.1.0 Dasharo HCL Report CPU Model Dasharo version Source CPU Model Dasharo version Source CPU Model Dasharo version Source <p></p> <p>Memory hardware Compatibility List presents the DIMM modules tested and verified to work with Dasharo in 3mdeb laboratory.</p> <p>Memory Modules are tested in 1, 2 and 4 modules configurations. These follow the DIMM population procedures as stated in the Board Manual: 1 module in DIMMA2 Slot (Single Channel), 2 by adding another module in DIMMB2 (Dual Channel), and 4 by populating all 4 slots. Testing is defined as passing firmware POST and booting an OS, since what is being tested is that the Intel FSP (Firmware Support Package) component is initializing the Memory Modules. We don't stress test them for stability. Each SPD Profile is tested, so each Memory Module can have from 1 to 4 entries. You may also check out Intel memory validation results page and see the results for DDR4 UDIMM testing. Maximum ratings for Alder Lake S CPUs is also available in the CPU datasheet.</p> <p>Legend:</p> <ul> <li>Configuration 1/2/4 - means given memory module was tested in 1, 2 and 4   DIMMs populated configuration, \u2714 means successfully tested, \u2716   means platform did not boot with Dasharo, e.g. \u2714/\u2714/\u2714   means all configurations work, <code>-</code> means not tested</li> <li>Size: DIMM capacity in MB</li> <li>SPD profile: can be one of JEDEC(Standard) / XMP Profile #1 / XMP Profile #2.   Profile data:<ul> <li>Type/speed: for example DDR4-2400 means DDR4 module clocked at max 2400MHz for given profile</li> <li>Timings: for example CL17-17-17 means CAS Latency 17, tRCD 17, tRP 17 (numbers expressed in clock cycles) for given memory profile</li> <li>Voltage: memory voltage in Volts for given memory profile</li> </ul> </li> </ul> <p>NOTE: some XMP profiles may have lower speeds than other ones, but also have smaller CAS latency. Also the memory frequency configured in the memory controller and reported by DMI/SMBIOS may be slightly lower than advertised in the module specifications. This can vary based on the board design, CPU and many other factors.</p> <p> PRO Z690-A (WIFI) DDR4PRO Z690-A (WIFI)PRO Z790-P (WIFI) DDR4PRO Z790-P (WIFI) Manufacturer Part Number Size Speed Configuration 1/2/4 Dasharo version Source Corsair CMK16GX4M2B3200C16 16384 MB 2133 MT/s (PC4-17000) \u2714/-/- v1.1.1 Dasharo HCL report Corsair CMK16GX4M2B3200C16 16384 MB 2133 MT/s (PC4-17000) -/-/\u2714 v1.1.0 Dasharo HCL report Corsair CMK16GX4M2B3200C16 32768 MB 2133 MT/s (PC4-17000) \u2714/-/- v1.1.1 Dasharo HCL report Corsair CMK32GX4M2E3200C16 16384 MB 2133 MT/s (PC4-17000) -/\u2714/- v1.1.1 Github PR Crucial Technology BL16G32C16U4B.16FE 16384 MB 2666 MT/s (PC4-21300) \u2714/-/- v1.1.0 Dasharo HCL report Crucial Technology BL16G32C16U4B.16FE 16384 MB 2666 MT/s (PC4-21300) \u2714/-/- v1.1.1 Dasharo HCL report Crucial Technology CT8G4DFS8266.C8FJ 8192 MB 2666 MT/s (PC4-21300) \u2714/-/- v1.1.0 Dasharo HCL report Kingston KF3200C16D4/16GX 16384 MB 2400 MT/s (PC4-19200) \u2714/-/- v1.1.1 Dasharo HCL report Kingston KF3200C16D4/16GX 16384 MB 2400 MT/s (PC4-19200) -/-/\u2714 v1.1.1 Dasharo HCL report Kingston KF3200C16D4/32GX 32768 MB 2400 MT/s (PC4-19200) -/-/\u2714 v1.1.0 Dasharo HCL report Kingston KF3200C16D4/32GX 32768 MB 2400 MT/s (PC4-19200) -/-/\u2714 v1.1.1 Dasharo HCL report Kingston KF3600C17D4/8GX 8192 MB 2400 MT/s (PC4-19200) \u2714/-/- v1.0.0 Dasharo HCL report Kingston KF3600C17D4/8GX 8192 MB 2400 MT/s (PC4-19200) -/-/\u2714 v1.0.0 Dasharo HCL report Kingston KF3600C17D4/8GX 8192 MB 2400 MT/s (PC4-19200) -/-/\u2714 v1.1.0 Dasharo HCL report Kingston KF3600C17D4/8GX 8192 MB 2400 MT/s (PC4-19200) -/-/\u2714 v1.1.1 Dasharo HCL report Kingston KF3600C17D4/8GX 8192 MB 2400 MT/s (PC4-19200) -/-/\u2714 v1.1.1-rc4 Dasharo HCL report Patriot Memory 4400 C19 Series 8192 MB 2133 MT/s (PC4-17000) \u2714/-/- v1.0.0 Dasharo HCL report Thermaltake Technology Co Ltd RG26D408GX2-3600C18A 8192 MB 2666 MT/s (PC4-21300) \u2714/-/- v1.1.0 Dasharo HCL report DIMM vendor Part Number Size SPD profile Configuration 1/2/4 Kingston KF556C40BB/8 8GB 5600MT/s 40-40-40 1.25V \u2714/\u2714/\u2714 Crucial CT8G48C40U5.M4A1/8 8GB 4800MT/s 40-39-39 1.1V \u2714/\u2714/\u2714 ADATA AD5U48008G-S 8GB 4800MT/s 40-40-40 1.1V \u2714/\u2714/\u2714 DIMM vendor Part Number Size SPD profile Configuration 1/2/4 DIMM vendor Part Number Size SPD profile Configuration 1/2/4 <p></p> <p>NOTE: Since we cannot extend following list based on automatic Dasharo HCL reports parsing until this issue would be addressed we decided to not update GPU HCL ourselves. We will merge PRs to GPU HCL, if following criteria would be addressed:</p> <ul> <li>Card has to be installed on main metal 16x slot, and there shouldn't be   any other GPU except Intel integrated one if non-F CPU.</li> <li>Confirmation than Dasharo splash screen and Firmware menus were working.</li> <li>Actual GPU chip (PCI Vendor ID / Device ID).</li> <li>Video Card model (Subsystem Vendor ID / Device ID).</li> <li>Option ROM version.</li> <li>Secure Boot status (Enabled/Disabled, in case than there are Option ROM   signing issues. This also means than the VBIOS should NOT be modded, factory   original versions only)</li> </ul> <p>GPU Hardware Compatibility List presents the GPUs tested and verified to work with Dasharo by community. The following list does not include GPU which is tested and verfied in 3mdeb laboratory - this information might be found in MSI PRO Z690-A Hardware Matrix and MSI PRO Z790-P Hardware Matrix documentation.</p> <p>Legend:</p> <ul> <li>GPU name: the full name of GPU including vendor and model name.</li> <li>Memory size: total amount of GPU memory declared by vendor.</li> <li>Memory type: GPU's type of memory.</li> <li>Bandwidth: GPU's memory bandwidth.</li> <li>PCI-E Architecture: declared by producer generation of PCI-E architecture.</li> <li>Multi-Graphics Technology: information about support for Multi-Graphics     Technology.</li> </ul> <p>Information about GPU might be read from GPU package or documentation.</p> GPU name Memory size Memory type Bandwidth PCI-E Gen Multi-Graphics Technology Results AMD Radeon RX 5700 XT 8 GB GDDR6 448GB/s Gen4 1 Nvidia GeForce GTX 1060 3072 MB GDDR5 192GB/s Gen3 1 Qubes HCL reports MSI Radeon RX 6950 XT 16 GB GDDR6 576GB/s Gen4 1 EVGA NVidia RTX 2080 8 GB GDDR6 448GB/s Gen3 1 PNY NVidia RTX A5000 24 GB GDDR6 768GB/s Gen4 1 Nvidia GeForce GTX 1080TI 11264 MB GDDR5X x16 Gen3 1 Qubes HCL reports MSI Radeon RX 6500 XT MECH 2X 4G OC 4 GB GDDR6 180GB/s Gen4 1 Works only on Dasharo v1.1.0 or newer MSI GeForce RTX 3060 GAMING Z TRIO LHR 12 GB GDDR6 358GB/s Gen4 1 <p>For details how to maintain this documentation please consult Dasharo HCL Maintainer documentation.</p>"},{"location":"unified/msi/hcl/#contributing","title":"Contributing","text":"PRO Z690-A (WIFI) DDR4PRO Z690-A (WIFI)PRO Z790-P (WIFI) DDR4PRO Z790-P (WIFI) <ul> <li>Use Dasharo Tools Suite HCL report   to upload report automatically.</li> <li>Create new issue in Dasharo issues repository.</li> <li> <p>Create PR directly to Dasharo documentation repository.</p> </li> <li> <p>CPU HCL email   your <code>/proc/cpuinfo</code> or relevant information using following template:</p> </li> </ul> <pre><code>CPU model:\nDasharo version:\n</code></pre> <ul> <li>Memory HCL email   as attachments outputs of following command:</li> </ul> <pre><code>decode-dimms &gt; decode-dimms.log 2&gt; decode-dimms.err.log\n</code></pre> <p>In email please include Dasharo version.</p> <pre><code>Dasharo version:\n</code></pre> <ul> <li>Use Dasharo Tools Suite HCL report   to upload report automatically.</li> <li>Create new issue in Dasharo issues repository.</li> <li> <p>Create PR directly to Dasharo documentation repository.</p> </li> <li> <p>CPU HCL email   your <code>/proc/cpuinfo</code> or relevant information using following template:</p> </li> </ul> <pre><code>CPU model:\nDasharo version:\n</code></pre> <ul> <li>Memory HCL email   as attachments outputs of following command:</li> </ul> <pre><code>decode-dimms &gt; decode-dimms.log 2&gt; decode-dimms.err.log\n</code></pre> <p>In email please include Dasharo version.</p> <pre><code>Dasharo version:\n</code></pre> <ul> <li>Use Dasharo Tools Suite HCL report   to upload report automatically.</li> <li>Create new issue in Dasharo issues repository.</li> <li> <p>Create PR directly to Dasharo documentation repository.</p> </li> <li> <p>CPU HCL email   your <code>/proc/cpuinfo</code> or relevant information using following template:</p> </li> </ul> <pre><code>CPU model:\nDasharo version:\n</code></pre> <ul> <li>Memory HCL email   as attachments outputs of following command:</li> </ul> <pre><code>decode-dimms &gt; decode-dimms.log 2&gt; decode-dimms.err.log\n</code></pre> <p>In email please include Dasharo version.</p> <pre><code>Dasharo version:\n</code></pre> <ul> <li>Use Dasharo Tools Suite HCL report   to upload report automatically.</li> <li>Create new issue in Dasharo issues repository.</li> <li> <p>Create PR directly to Dasharo documentation repository.</p> </li> <li> <p>CPU HCL email   your <code>/proc/cpuinfo</code> or relevant information using following template:</p> </li> </ul> <pre><code>CPU model:\nDasharo version:\n</code></pre> <ul> <li>Memory HCL email   as attachments outputs of following command:</li> </ul> <pre><code>decode-dimms &gt; decode-dimms.log 2&gt; decode-dimms.err.log\n</code></pre> <p>In email please include Dasharo version.</p> <pre><code>Dasharo version:\n</code></pre> <p>If you already have reported your results and you change some hardware configuration we would appreciate an update.</p>"},{"location":"unified/msi/initial-deployment/","title":"Initial Deployment","text":"<p>Initial deployment of Dasharo firmware on MSI PRO Z690-A and PRO Z790-P can be done:</p> <ul> <li>using DTS,</li> <li>manually.</li> </ul>"},{"location":"unified/msi/initial-deployment/#initial-deployment-using-dts","title":"Initial deployment using DTS","text":"<p>To ensure a smooth deployment process, it is recommended to use the latest version of DTS available from the releases page. Once you have obtained it, you can then proceed with following the Dasharo zero-touch initial deployment section procedure. This will help you set up Dasharo effectively and without manual intervention.</p>"},{"location":"unified/msi/initial-deployment/#initial-deployment-manually","title":"Initial deployment manually","text":"<p>Flashing coreboot can be done from Linux using flashrom with the internal programmer. This document describes the process of building, installing and running flashrom on Ubuntu 22.04.</p>"},{"location":"unified/msi/initial-deployment/#build-flashrom","title":"Build flashrom","text":"<p>Please follow generic guide for Dasharo flashrom fork.</p>"},{"location":"unified/msi/initial-deployment/#flashing","title":"Flashing","text":"<p>All flash operations require UEFI Secure Boot to be disabled. You may download the binary using <code>scp</code> (need to install openssh-server package) or <code>wget</code> command. The binaries can be found on the</p> <ul> <li>MSI PRO Z690-A release page</li> <li>MSI PRO Z790-P release page.</li> </ul>"},{"location":"unified/msi/initial-deployment/#reading-flash-contents","title":"Reading flash contents","text":"<p>Always prepare a backup of the current firmware image. To read the original firmware from the flash and save it to a file (<code>dump.rom</code>), execute the following command:</p> <pre><code>sudo flashrom -p internal -r dump.rom\n</code></pre> <p>IMPORTANT! You will need a second USB storage to keep the dumped firmware backup or alternatively upload it to some cloud or network drive (Ubuntu live has a Firefox browser installed). Ubuntu live image is volatile and has no persistent storage. All changes made in the live image will be lost after reboot.</p>"},{"location":"unified/msi/initial-deployment/#migrating-smbios-unique-data","title":"Migrating SMBIOS unique data","text":"<p>To migrate the SMBIOS system UUID and board serial number follow the Linux instructions below before attempting to flash the binary. The procedure is supported on Dasharo version v1.0.0 and later and requires cbfstool built from coreboot tree. Follow the Building Manual using the Z690-A v1.0.0/Z790-P v0.9.0 version or newer and then:</p> <pre><code>echo -n `sudo dmidecode -s system-uuid` &gt; system_uuid.txt\necho -n `sudo dmidecode -s baseboard-serial-number` &gt; serial_number.txt\n# assuming in coreboot root directory\n./build/cbfstool build/coreboot.rom expand -r FW_MAIN_A\n./build/cbfstool build/coreboot.rom expand -r FW_MAIN_B\n./build/cbfstool build/coreboot.rom add \\\n-f serial_number.txt -n serial_number -t raw -r FW_MAIN_A\n./build/cbfstool build/coreboot.rom add \\\n-f serial_number.txt -n serial_number -t raw -r FW_MAIN_B\n./build/cbfstool build/coreboot.rom add \\\n-f serial_number.txt -n serial_number -t raw -r COREBOOT\n./build/cbfstool build/coreboot.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r FW_MAIN_A\n./build/cbfstool build/coreboot.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r FW_MAIN_B\n./build/cbfstool build/coreboot.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r COREBOOT\n./build/cbfstool build/coreboot.rom truncate -r FW_MAIN_A\n./build/cbfstool build/coreboot.rom truncate -r FW_MAIN_B\n</code></pre> PRO Z690-A (WIFI) DDR4PRO Z690-A (WIFI)PRO Z790-P (WIFI) DDR4PRO Z790-P (WIFI) <p>One may use <code>msi_ms7d25_v1.1.1_ddr4.rom</code> (or newer) binary directly and simply build the cbfstool only from coreboot repository:</p> <pre><code>git clone https://github.com/Dasharo/coreboot -b msi_ms7d25/release\ncd coreboot\nmake -C util/cbfstool\necho -n `sudo dmidecode -s system-uuid` &gt; system_uuid.txt\necho -n `sudo dmidecode -s baseboard-serial-number` &gt; serial_number.txt\n# assuming in coreboot root directory\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr4.rom expand -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr4.rom expand -r FW_MAIN_B\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr4.rom add \\\n-f serial_number.txt -n serial_number -t raw -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr4.rom add \\\n-f serial_number.txt -n serial_number -t raw -r FW_MAIN_B\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr4.rom add \\\n-f serial_number.txt -n serial_number -t raw -r COREBOOT\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr4.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr4.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r FW_MAIN_B\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr4.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r COREBOOT\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr4.rom truncate -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr4.rom truncate -r FW_MAIN_B\n</code></pre> <p>One may use <code>msi_ms7d25_v1.1.1_ddr5.rom</code> (or newer) binary directly and simply build the cbfstool only from coreboot repository:</p> <pre><code>git clone https://github.com/Dasharo/coreboot -b msi_ms7d25/release\ncd coreboot\nmake -C util/cbfstool\necho -n `sudo dmidecode -s system-uuid` &gt; system_uuid.txt\necho -n `sudo dmidecode -s baseboard-serial-number` &gt; serial_number.txt\n# assuming in coreboot root directory\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr5.rom expand -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr5.rom expand -r FW_MAIN_B\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr5.rom add \\\n-f serial_number.txt -n serial_number -t raw -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr5.rom add \\\n-f serial_number.txt -n serial_number -t raw -r FW_MAIN_B\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr5.rom add \\\n-f serial_number.txt -n serial_number -t raw -r COREBOOT\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr5.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr5.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r FW_MAIN_B\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr5.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r COREBOOT\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr5.rom truncate -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7d25_v1.1.1_ddr5.rom truncate -r FW_MAIN_B\n</code></pre> <p>One may use <code>msi_ms7e06_v0.9.0_ddr4.rom</code> (or newer) binary directly and simply build the cbfstool only from coreboot repository:</p> <pre><code>git clone https://github.com/Dasharo/coreboot -b msi_ms7d25/release\ncd coreboot\nmake -C util/cbfstool\necho -n `sudo dmidecode -s system-uuid` &gt; system_uuid.txt\necho -n `sudo dmidecode -s baseboard-serial-number` &gt; serial_number.txt\n# assuming in coreboot root directory\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr4.rom expand -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr4.rom expand -r FW_MAIN_B\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr4.rom add \\\n-f serial_number.txt -n serial_number -t raw -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr4.rom add \\\n-f serial_number.txt -n serial_number -t raw -r FW_MAIN_B\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr4.rom add \\\n-f serial_number.txt -n serial_number -t raw -r COREBOOT\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr4.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr4.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r FW_MAIN_B\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr4.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r COREBOOT\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr4.rom truncate -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr4.rom truncate -r FW_MAIN_B\n</code></pre> <p>One may use <code>msi_ms7e06_v0.9.0_ddr5.rom</code> (or newer) binary directly and simply build the cbfstool only from coreboot repository:</p> <pre><code>git clone https://github.com/Dasharo/coreboot -b msi_ms7d25/release\ncd coreboot\nmake -C util/cbfstool\necho -n `sudo dmidecode -s system-uuid` &gt; system_uuid.txt\necho -n `sudo dmidecode -s baseboard-serial-number` &gt; serial_number.txt\n# assuming in coreboot root directory\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr5.rom expand -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr5.rom expand -r FW_MAIN_B\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr5.rom add \\\n-f serial_number.txt -n serial_number -t raw -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr5.rom add \\\n-f serial_number.txt -n serial_number -t raw -r FW_MAIN_B\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr5.rom add \\\n-f serial_number.txt -n serial_number -t raw -r COREBOOT\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr5.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr5.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r FW_MAIN_B\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr5.rom add \\\n-f system_uuid.txt -n system_uuid -t raw -r COREBOOT\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr5.rom truncate -r FW_MAIN_A\n./util/cbfstool/cbfstool /path/to/msi_ms7e06_v0.9.0_ddr5.rom truncate -r FW_MAIN_B\n</code></pre> <p>Note you will need to resign the binary after adding the SMBIOS data. Please check Vboot documentation how to resign the data. It is the machine owner's responsibility to generate and use own keys during updates.</p>"},{"location":"unified/msi/initial-deployment/#flashing-dasharo","title":"Flashing Dasharo","text":"<p>WARNING: If you use an external/discrete GPU and migrate to Dasharo, be sure to unplug the dGPU first (when the machine is powered off before proceeding with flashing), as Dasharo firmware does not support all GPU cards properly yet (as of version v1.0.0). There is a high risk for the graphical output to break in the firmware when dGPU is connected. Effectively it leaves the only option to boot in blind into a previously installed OS (if the platform does not brick and if an OS is present on a disk). The first boot may take up to 2 minutes to fully train the memory, so be patient and wait for the Dasharo logo to appear, subsequent boots will take only seconds. MSI EZ debug leds are not supported by Dasharo and you may notice a red led to be lit. If the platform boots with an integrated GPU, you may try to plug the external GPU back and boot again.</p> <p>To flash Dasharo on the platform, execute the following command:</p> PRO Z690-A (WIFI) DDR4PRO Z690-A (WIFI)PRO Z790-P (WIFI) DDR4PRO Z790-P (WIFI) <p>Replace the <code>VERSION</code> in firmware file name with the version you want to flash. For example: <code>msi_ms7d25_v1.1.1_ddr4.rom</code>.</p> <pre><code>sudo flashrom -p internal -w msi_ms7d25_vVERSION_ddr4.rom --ifd -i bios\n</code></pre> <p>Replace the <code>VERSION</code> in firmware file name with the version you want to flash. For example: <code>msi_ms7d25_v1.1.1_ddr5.rom</code>.</p> <pre><code>sudo flashrom -p internal -w msi_ms7d25_vVERSION_ddr5.rom --ifd -i bios\n</code></pre> <p>Replace the <code>VERSION</code> in firmware file name with the version you want to flash. For example: <code>msi_ms7e06_v0.9.0_ddr4.rom</code>.</p> <pre><code>sudo flashrom -p internal -w msi_ms7e06_vVERSION_ddr4.rom --ifd -i bios\n</code></pre> <p>Replace the <code>VERSION</code> in firmware file name with the version you want to flash. For example: <code>msi_ms7e06_v0.9.0_ddr5.rom</code>.</p> <pre><code>sudo flashrom -p internal -w msi_ms7e06_vVERSION_ddr5.rom --ifd -i bios\n</code></pre> <p>IMPORTANT! After the command succeeds, invoke <code>sudo reboot</code> or click the reboot/restart in the GUI to reboot the board. Press <code>ENTER</code> when prompted on the screen to remove the installation media (if Ubuntu live is used). DO NOT POWEROFF THE BOARD as SMI handlers of original MSI firmware may overwrite flash contents and cause a brick.</p> <p>After migration from MSI firmware to Dasharo and reboot, the firmware will fail the memory training. After reboot wait approximately 30 seconds and then power the board off by holding the power button pushed for 5 seconds. Dasharo v1.1.0 or newer will signal the memory training failure with PC speaker beeps and blinking SATA LED. When it happens use the power button to power the board off (no need to wait 30 seconds in such case). Power on the board back. Now the memory training should not fail and after approximately 1 minute (can be nearly 2 minutes for DDR5 memory), you should get a Dasharo splash screen on the monitor. Subsequent boots will take only a few seconds.</p>"},{"location":"unified/msi/initial-deployment/#flashing-back-vendor-firmware","title":"Flashing back vendor firmware","text":"<pre><code>sudo flashrom -p internal -w dump.rom --ifd -i bios\n</code></pre> <p>NOTE: Dasharo version v0.1.0 will not have a network connection. Use a different USB storage or a USB to Ethernet/USB WiFi adapter to move the binary to the live system.</p>"},{"location":"unified/msi/overview/","title":"Overview","text":"PRO Z690-A (WIFI) (DDR4)PRO Z790-P (WIFI) (DDR4) <ul> <li>Releases - groups information about    all releases compatible with MSI PRO Z690-A.</li> <li>Hardware configuration matrix     - describes the platform's hardware configuration used during the     Dasharo firmware validation procedure.</li> <li>Test matrix - describes the    validation scope used during the Dasharo firmware validation procedure.</li> </ul> <ul> <li>Releases - groups information about    all releases compatible with MSI PRO Z790-P.</li> <li>Hardware configuration matrix     - describes the platform's hardware configuration used during the     Dasharo firmware validation procedure.</li> <li>Test matrix - describes the    validation scope used during the Dasharo firmware validation procedure.</li> </ul> <ul> <li>Building manual - describes how to build Dasharo for     the MSI boards.</li> <li>Initial deployment - describes initial Dasharo     deployment methods (i. e. flashing new firmware) for the MSI PRO Z690-A.</li> <li>Firmware update - explains supported Dasharo     open-source firmware update methods.</li> <li>Recovery - gathers information on how to recover the platform     from potential failure.</li> <li>Development - describes information for Dasharo developers.</li> <li>Hardware Compatibility List - describes compatible memory modules,     processors and graphics cards tested by the community.</li> <li>Community test results - describes the test     results performed by the community.</li> <li>FAQ - answers for frequently asked questions.</li> </ul>"},{"location":"unified/msi/overview/#useful-documents","title":"Useful documents","text":"PRO Z690-A (WIFI) (DDR4)PRO Z790-P (WIFI) (DDR4) <ul> <li>MSI Z690-A PRO DDR4 WIFI site</li> <li>MSI Z690-A PRO DDR4 Board manual</li> <li>MSI Z690-A PRO WIFI site</li> <li>MSI Z690-A PRO WIFI Board manual</li> </ul> <ul> <li>MSI Z790-P PRO DDR4 WIFI site</li> <li>MSI Z790-P PRO DDR4 Board manual</li> <li>MSI Z790-P PRO WIFI site</li> <li>MSI Z790-P PRO WIFI Board manual</li> </ul>"},{"location":"unified/msi/overview/#press-releases","title":"Press releases","text":"<ul> <li>PC Gamer</li> <li>Phoronix</li> <li>Tom's Hardware</li> <li>Root.cz</li> <li>GN24</li> <li>ITBusiness</li> </ul>"},{"location":"unified/msi/overview/#buy-the-msi-pro-z690-a-ddr4-with-dasharo-firmware","title":"Buy the MSI PRO Z690-A DDR4 with Dasharo firmware","text":"<p>The Full PC Build with MSI PRO Z690-A/Z790-P DDR4/DDR5 motherboard with Dasharo firmware is available at the official 3mdeb store.</p> <p>You can also buy the product by mailing us at: shopping@3mdeb.com.</p> <p>Device assembly and presale validation will be carried out in accordance with the following procedure.</p> <p></p>"},{"location":"unified/msi/recovery/","title":"Recovery","text":""},{"location":"unified/msi/recovery/#intro","title":"Intro","text":"<p>This project is in early development phase. On certain hardware configurations, the Dasharo firmware may not boot correctly (i.e. we will have \"bricked\" the platform). In such a case, the recovery procedure can reinstall the original firmware from the board manufacturer.</p> <p>There are two documented recovery methods: using a CH341A programming kit or an RTE.</p> <p>Since Dasharo v1.1.2 (PRO Z690-A) / v0.9.0 (PRO Z790-P) release it is also possible to use MSI FlashBIOS button feature to recover using an image placed in the USB stick.</p>"},{"location":"unified/msi/recovery/#using-msi-flashbios-button","title":"Using MSI FlashBIOS button","text":"<ol> <li>Format an empty USB drive with FAT32 filesystem.</li> <li>Place Dasharo release binary or official MSI binary on the drive's root    directory and name it <code>MSI.ROM</code>.</li> <li>Put the drive in the rear USB 2.0 port marked as <code>FlashBIOS</code>.</li> <li>Be sure that your machine is powered off (ATX supply must be still    connected).</li> <li>Press the FlashBIOS button near the <code>FlashBIOS</code> port.</li> <li>After a few seconds the machine should power on the ATX supply and begin    flashing (the red diode will be blinking).</li> <li>Wait approximately 5 minutes for the process to finish. The board will    automatically restart and boot.</li> </ol> <p>Here is a video showing the process.</p>"},{"location":"unified/msi/recovery/#external-flashing-with-programmer","title":"External flashing with programmer","text":""},{"location":"unified/msi/recovery/#rte","title":"RTE","text":"<p>In this case, using external programmer is necessary. We are using RTE here.</p> <ul> <li> <p>Connect programmer to the flash chip as shown in the   Hardware connection / SPI section of   the <code>Development</code> documentation.</p> </li> <li> <p>Download official BIOS from vendor's website (this is the newest version, you   may choose an older one too or in the best case use your firmware backup):</p> </li> </ul> <pre><code>wget https://download.msi.com/bos_exe/mb/7D25v13.zip\nunzip 7D25v13.zip\n</code></pre> <ul> <li>Flash via external programmer:</li> </ul> <p>The command line will be different, depending on the programmer you use</p> <pre><code>flashrom -p linux_spi:dev=/dev/spidev1.0,spispeed=16000 -w 7D25v13/E7D25IMS.130\n</code></pre> <ul> <li>First boot after the recovery process is significantly longer</li> </ul>"},{"location":"unified/msi/recovery/#ch341a","title":"CH341A","text":""},{"location":"unified/msi/recovery/#prerequisites","title":"Prerequisites","text":"<p>The full set is now available at our online shop.</p> <ol> <li> <p>CH341A kit with 1.8V level-shifter. Can be bought on e.g. Amazon</p> <p></p> </li> <li> <p>Female-female 2.54mm to 2mm dupont wires.</p> </li> <li> <p>USB2.0 Female-Male extension cord 0.5m or longer (optional)</p> <p></p> </li> <li> <p>Machine with Linux and flashrom.</p> </li> </ol>"},{"location":"unified/msi/recovery/#connection","title":"Connection","text":"<p>First start with assembling the CH341A and the 1.8V adapter. Pay attention to which holes you attach the adapter. You should use the holes marked as 25XX (closer to the USB plug):</p> <p></p> <p>Place the 1.8V adapter in the holes and lock it with the lever. Be sure that the arrow on the adapter is facing the black lever (opposite side of USB plug):</p> <p></p> <p>Now take the breakout board with pin headers:</p> <p></p> <p>and plug it into the other 1.8V adapter, be sure that numbers 1-4 on the breakout board match the numbers 1 and 4 on the adapter:</p> <p></p> <p>Numbers should be visible on the upper side after assembling:</p> <p></p> <p>Next, take the dupont wires and connect them to the brekaout board and mainboard's JTPM1 header. The JTPM1 pin5 is actually BIOS SPI CS pin (marked as reserved in the board manual).</p> <p></p> CH341a breakout board MSI Z690-A/Z790-P pin 1 (CS) JTPM1 pin 5 (RESERVED / BIOS SPI CS pin) pin 2 (MISO) JTPM1 pin 3 (MISO) pin 4 (GND) JTPM1 pin 7 (GND) pin 5 (MOSI) JTPM1 pin 4 (MOSI) pin 6 (SCLK) JTPM1 pin 6 (SPI Clock) pin 8 (Vcc) JTPM1 pin 1 (SPI Power) <p>Now the connection is ready. Time to probe for the flash chip with flashrom.</p>"},{"location":"unified/msi/recovery/#flashing","title":"Flashing","text":"<p>Now on the Linux machine check if the flash is detected using a sample command:</p> <pre><code>sudo flashrom -p ch341a_spi\n</code></pre> <p>You should see something like this:</p> <pre><code>flashrom v1.2-567-gf4eb405 on Linux 5.19.9-200.fc36.x86_64 (x86_64)\nflashrom is free software, get the source code at https://flashrom.org\n\nUsing clock_gettime for delay loops (clk_id: 1, resolution: 1ns).\nFound Winbond flash chip \"W25Q256.W\" (32768 kB, SPI) on ch341a_spi.\nNo operations were specified.\n</code></pre> <p>If the flash is detected as above invoke the real flashing command (e.g. if your original/working firmware backup is saved as <code>firmware_backup.bin</code>):</p> <pre><code>sudo flashrom -p ch341a_spi -w firmware_backup.bin\n</code></pre> <p>Note that USB programmers are pretty slow, the whole operation make take several minutes (can be 10-15 minutes in worst case). At the end of operation you should see:</p> <pre><code>flashrom v1.2-567-gf4eb405 on Linux 5.19.9-200.fc36.x86_64 (x86_64)\nflashrom is free software, get the source code at https://flashrom.org\n\nUsing clock_gettime for delay loops (clk_id: 1, resolution: 1ns).\nFound Winbond flash chip \"W25Q256.W\" (32768 kB, SPI) on ch341a_spi.\nReading old flash chip contents... done.\nErasing and writing flash chip... Erase/write done.\nVerifying flash... VERIFIED.\n</code></pre>"},{"location":"unified/msi/recovery/#smbios-unique-data-recovery","title":"SMBIOS unique data recovery","text":""},{"location":"unified/msi/recovery/#serial-number-format-and-recovery","title":"Serial number format and recovery","text":"<p>SMBIOS specification sections 7.2 and 7.3 defines two spaces for serial number: the system serial number and baseboard serial number. The original MSI PRO Z690-A firmware provides only the baseboard serial number.</p> <p>In case you have lost your serial number in the process of flashing Dasharo or newer MSI firmware, there is a way to retrieve it. The board has a QR code printed on the mainboard between the chipset heatsink and dPGU PCIe slot:</p> <p></p> <p>If you read the QR code with your smartphone you will get the full serial number. The serial number has the format <code>07D25xx_LyzEaaaaaa</code> where:</p> <ul> <li><code>07D25</code> - is the board model, i.e. MS-7D25 for this particular board</li> <li><code>xx</code> is the mainboard revision which should match the revision imprinted   between the M2_1 slot and dGPU slot. E.g. <code>xx=11</code> means VER:1.1</li> <li><code>yz</code> is the manufacturing date in hex, i.e. <code>y</code> is the month, <code>z</code> is the   year, for example <code>A1</code> means October 2021, <code>12</code> means January   2022</li> <li><code>aaaaaa</code> is the unique 6-digit number which is imprinted under the serial   number QR code</li> </ul>"},{"location":"unified/msi/recovery/#system-uuid-format-and-recovery","title":"System UUID format and recovery","text":"<p>SMBIOS specification section 7.2 defines a field for unique system identification with a special number called UUID (Universally Unique IDentifier). UUID is specified by RFC 4122. MSI firmware provides the system UUID in the SMBIOS system information structure.</p> <p>The problem with UUID is that it cannot be recovered if the backup binary or SMBIOS logs are lost. You can backup the SMBIOS information with our Dasharo Tools Suite bootablestick. The <code>dmidecode.log</code> will have all the necessary information. Things we know about MSI system UUID:</p> <ul> <li>UUID format is as follows: <code>33221100-5544-7766-8899-AABBCCDDEEFF</code>, the hex   numbers represent the order of bytes in memory for the little-endian format   as required by SMBIOS</li> <li>MSI UUIDs do not conform to any of the RFC 4122 UUID variants/versions (the   bits responsible for UUID version and variant identification are not constant   across multiple boards)</li> <li>the last octet group <code>AABBCCDDEEFF</code> is equal to the MAC address of the   on-board Intel i225 Ethernet, so be sure to NOT share the UUID with   anybody as it contains system sensitive information</li> <li>the first four groups are either random numbers or some cryptographically   acquired value from e.g. combination of some board data, unfortunately it is   not known by us</li> </ul> <p>The MAC address is printed on a sticker placed on the 2x2 SATA connector:</p> <p></p>"},{"location":"unified/msi/recovery/#smbios-data-migration","title":"SMBIOS data migration","text":"<p>For Dasharo simply follow the Initial Deployment how to migrate the data.</p> <p>For MSI firmware you will probably need an AMI DMI/SMBIOS editor to save those values back if you do not have a backup binary.</p>"},{"location":"unified/novacustom/battery-management/","title":"NovaCustom power and battery subsystem","text":"<p>NovaCustom laptops equipped with Dasharo firmware provide several battery management mechanisms to optimize user experience and further prolong the battery's lifespan.</p>"},{"location":"unified/novacustom/battery-management/#boot-blocking-when-the-battery-is-low","title":"Boot blocking when the battery is low","text":"<p>To prevent corruption of the bootloader, which may occur due to sudden power cut off during the OS boot process, booting the OS is blocked when the battery level sits below 5%. When trying to boot the OS with the battery level below the defined threshold, following message will be displayed on screen:</p> <p></p>"},{"location":"unified/novacustom/battery-management/#disconnected-battery-warning","title":"Disconnected battery warning","text":"<p>When the firmware encounters problems with detecting the battery, following message will appear suggesting checking the physical connection between the battery and mainboard:</p> <p></p>"},{"location":"unified/novacustom/battery-management/#power-information-error","title":"Power information error","text":"<p>When the firmware encounters problems with retrieving information about AC and battery state, following error message will be displayed:</p> <p></p>"},{"location":"unified/novacustom/battery-management/#charge-thresholds","title":"Charge thresholds","text":"<p>Dasharo firmware implements battery charge thresholds, which aim to extend the lifespan of the battery:</p> <ul> <li> <p>charging will only start when the battery level is below 95%</p> </li> <li> <p>charging will stop once the battery level reaches 98%</p> </li> </ul> <p>Custom charge thresholds can be configured using the Dasharo setup menu or using third-party software like tlp.</p>"},{"location":"unified/novacustom/building-manual/","title":"Dasharo firmware building guide","text":""},{"location":"unified/novacustom/building-manual/#intro","title":"Intro","text":"<p>This guide shows how to build Dasharo firmware for NovaCustom devices. It contains two components:</p> <ul> <li>BIOS firmware</li> <li>EC firmware</li> </ul>"},{"location":"unified/novacustom/building-manual/#requirements","title":"Requirements","text":"<p>This guide was verified on Ubuntu 22.04. In practice, any Linux distribution with Docker support should be enough to complete it.</p> <p>Make sure that you have following packages installed:</p> <ul> <li>Docker<ul> <li>follow Install Docker Engine on Ubuntu</li> <li>follow Post-installation steps for Linux</li> </ul> </li> <li> <p>Git</p> <pre><code>sudo apt -y install git\n</code></pre> </li> </ul>"},{"location":"unified/novacustom/building-manual/#build-dasharo-bios-firmware","title":"Build Dasharo BIOS firmware","text":"<ol> <li> <p>Clone the Dasharo coreboot repository:</p> <pre><code>git clone https://github.com/Dasharo/coreboot.git\n</code></pre> </li> <li> <p>Navigate to the source code directory and checkout to the desired revision:</p> <pre><code>cd coreboot\n</code></pre> <p>Replace <code>X.Y.Z</code> with a valid version</p> NS5x/7x 12th GenNV4x 12th GenNX5x/7x 11th GenNV4x 11th Gen <pre><code>git checkout novacustom_ns5x_adl_vX.Y.Z\n</code></pre> <pre><code>git checkout novacustom_nv4x_adl_vX.Y.Z\n</code></pre> <pre><code>git checkout novacustom_ns5x_tgl_vX.Y.Z\n</code></pre> <pre><code>git checkout novacustom_nv4x_tgl_vX.Y.Z\n</code></pre> </li> <li> <p>Checkout submodules:</p> <pre><code>git submodule update --init --recursive --checkout\n</code></pre> </li> <li> <p>Start docker container:</p> NS5x/7x 12th GenNV4x 12th GenNX5x/7x 11th GenNV4x 11th Gen <pre><code>docker run --rm -it -u $UID \\\n-v $PWD:/home/coreboot/coreboot \\\n-w /home/coreboot/coreboot \\\ncoreboot/coreboot-sdk:2021-09-23_b0d87f753c /bin/bash\n</code></pre> <pre><code>docker run --rm -it -u $UID \\\n-v $PWD:/home/coreboot/coreboot \\\n-w /home/coreboot/coreboot \\\ncoreboot/coreboot-sdk:2021-09-23_b0d87f753c /bin/bash\n</code></pre> <pre><code>docker run --rm -it -u $UID \\\n-v $PWD:/home/coreboot/coreboot \\\n-w /home/coreboot/coreboot \\\ncoreboot/coreboot-sdk:0ad5fbd48d /bin/bash\n</code></pre> <pre><code>docker run --rm -it -u $UID \\\n-v $PWD:/home/coreboot/coreboot \\\n-w /home/coreboot/coreboot \\\ncoreboot/coreboot-sdk:0ad5fbd48d /bin/bash\n</code></pre> </li> <li> <p>Inside of the container, configure the build process:</p> NS5x/7x 12th GenNV4x 12th GenNX5x/7x 11th GenNV4x 11th Gen <pre><code>make distclean &amp;&amp; cp configs/config.novacustom_ns5x_adl .config\n</code></pre> <pre><code>make distclean &amp;&amp; cp configs/config.novacustom_nv4x_adl .config\n</code></pre> <pre><code>make distclean &amp;&amp; cp configs/config.novacustom_ns5x_tgl .config\n</code></pre> <pre><code>make distclean &amp;&amp; cp configs/config.novacustom_nv4x_tgl .config\n</code></pre> </li> <li> <p>Start the build process:</p> <pre><code>make olddefconfig &amp;&amp; make\n</code></pre> </li> </ol> <p>This will produce a Dasharo binary placed in <code>build/coreboot.rom</code>.</p> <p>At the end of the build process, the following warning will be displayed:</p> <pre><code>** WARNING **\ncoreboot has been built without an Intel Firmware Descriptor.\nNever write a complete coreboot.rom without an IFD to your\nboard's flash chip! You can use flashrom's IFD or layout\nparameters to flash only to the BIOS region.\n</code></pre> <p>This is expected, and something you have to pay attention to if you would like to flash your Dasharo binary. Make sure to only overwrite the BIOS region, leaving everything else untouched. Otherwise, expect that your device will no longer be able to boot unless fixed using an external programmer.</p> <p>The binary will not contain a boot splash logo. Refer to logo customization for including one.</p>"},{"location":"unified/novacustom/building-manual/#build-dasharo-ec-firmware","title":"Build Dasharo EC firmware","text":"<ol> <li> <p>Clone the Dasharo ec repository:</p> <pre><code>git clone https://github.com/Dasharo/ec.git\n</code></pre> </li> <li> <p>Navigate to the source code directory and checkout to the desired revision:</p> <pre><code>cd ec\n</code></pre> <p>Replace <code>X.Y.Z</code> with a valid version</p> NS5x/7x 12th GenNV4x 12th GenNX5x/7x 11th GenNV4x 11th Gen <pre><code>git checkout novacustom_ns5x_adl_vX.Y.Z\n</code></pre> <pre><code>git checkout novacustom_nv4x_adl_vX.Y.Z\n</code></pre> <pre><code>git checkout novacustom_ns5x_tgl_vX.Y.Z\n</code></pre> <pre><code>git checkout novacustom_nv4x_tgl_vX.Y.Z\n</code></pre> </li> <li> <p>Checkout submodules:</p> <pre><code>git submodule update --init --recursive --checkout\n</code></pre> </li> <li> <p>Build the EC firmware:</p> NS5x/7x 12th GenNV4x 12th GenNX5x/7x 11th GenNV4x 11th Gen <pre><code>EC_BOARD_VENDOR=novacustom EC_BOARD_MODEL=ns5x_adl ./build.sh\n</code></pre> <p>The resulting image will be placed in: <code>novacustom_ns5x_adl_ec.rom</code>.</p> <pre><code>EC_BOARD_VENDOR=novacustom EC_BOARD_MODEL=nv4x_adl ./build.sh\n</code></pre> <p>The resulting image will be placed in: <code>novacustom_nv4x_adl_ec.rom</code>.</p> <pre><code>EC_BOARD_VENDOR=novacustom EC_BOARD_MODEL=ns5x_tgl ./build.sh\n</code></pre> <p>The resulting image will be placed in: <code>novacustom_ns5x_tgl_ec.rom</code>.</p> <pre><code>EC_BOARD_VENDOR=novacustom EC_BOARD_MODEL=nv4x_tgl ./build.sh\n</code></pre> <p>The resulting image will be placed in: <code>novacustom_nv4x_tgl_ec.rom</code>.</p> </li> </ol>"},{"location":"unified/novacustom/building-manual/#install-dasharo-firmware","title":"Install Dasharo firmware","text":"<p>The Dasharo firmware can be flashed in following ways, depending on your situation:</p> <ul> <li>To flash Dasharo for the first time, refer to the   initial deployment guide.</li> <li>To update Dasharo, refer to the firmware update guide.</li> </ul>"},{"location":"unified/novacustom/fan-profiles/","title":"Fan profiles settings","text":"<p>There are two fan profiles implemented. The profiles can be selected via the Power Management Options menu in Setup Menu.</p> <p>Fan profiles are defined as follows:</p>"},{"location":"unified/novacustom/fan-profiles/#silent-fan-profile","title":"Silent fan profile","text":""},{"location":"unified/novacustom/fan-profiles/#releases-newer-than-v140-11th-gen-and-v160-12th-gen","title":"Releases newer than v1.4.0 11th Gen and v1.6.0 12th Gen","text":"Temperature [\u00b0C] Fan speed [%] 0 20 65 25 75 35 85 100"},{"location":"unified/novacustom/fan-profiles/#releases-v140-11th-gen-and-v160-12th-gen-or-older","title":"Releases v1.4.0 11th Gen and v1.6.0 12th Gen or older","text":"Temperature [\u00b0C] Fan speed [%] 0 25 65 30 75 35 100 100"},{"location":"unified/novacustom/fan-profiles/#performance-fan-profile","title":"Performance fan profile","text":""},{"location":"unified/novacustom/fan-profiles/#releases-newer-than-v140-11th-gen-and-v160-12th-gen_1","title":"Releases newer than v1.4.0 11th Gen and v1.6.0 12th Gen","text":"Temperature [\u00b0C] Fan speed [%] 0 25 55 35 75 60 85 100"},{"location":"unified/novacustom/fan-profiles/#releases-v140-11th-gen-and-v160-12th-gen-or-older_1","title":"Releases v1.4.0 11th Gen and v1.6.0 12th Gen or older","text":"Temperature [\u00b0C] Fan speed [%] 0 25 55 35 75 60 100 100 <p>Values in-between curve points are interpolated linearly.</p>"},{"location":"unified/novacustom/firmware-update/","title":"Firmware update","text":"<p>The following documentation describes the process of Dasharo open-source firmware update. The update process may be different, depending on which firmware version is currently installed on your device. The currently installed firmware version can be checked with the following command in a Linux environment:</p> <pre><code>sudo dmidecode -t bios | grep Version\n</code></pre> <p>Alternatively, it can be checked in the <code>BIOS Setup Menu</code>.</p>"},{"location":"unified/novacustom/firmware-update/#prerequisites","title":"Prerequisites","text":"<p>Depending on firmware version (1) there may be manual steps required to ensure that the firmware can be updated.</p> <ol> <li>v1.5.0 for TGL-U models and v1.7.0 for ADL-P introduced support for Firmware    Update Mode</li> </ol>"},{"location":"unified/novacustom/firmware-update/#firmware-update-mode","title":"Firmware Update Mode","text":"<p>If the currently installed Dasharo version supports Firmware Update Mode, follow the steps outlined in generic Firmware Update documentation.</p>"},{"location":"unified/novacustom/firmware-update/#manual","title":"Manual","text":"<p>Ensure that the firmware protections are disabled in Dasharo Security Options. Both <code>BIOS boot medium lock</code> and <code>Enable SMM BIOS write protection</code> should be unchecked. UEFI Secure Boot must be disabled as well (uncheck <code>Attempt Secure Boot</code> if <code>Current Secure Boot State</code> does not say <code>Disabled</code>). To apply changes you will need to reboot.</p>"},{"location":"unified/novacustom/firmware-update/#update-using-dasharo-tools-suite","title":"Update using Dasharo Tools Suite","text":"<ul> <li> <p>Boot into   Dasharo Tools Suite</p> </li> <li> <p>Follow the procedure described in DTS firmware update documentation</p> </li> </ul>"},{"location":"unified/novacustom/fn-lock-hotkey/","title":"NovaCustom Fn lock hotkey","text":"<p>By default, the <code>Function Keys</code> (F1 - F12) must be used with a combination of Fn key to change display brightness, keyboard illumination, etc. The <code>Fn lock</code> capability provides a way of using these actions without the necessity of using the Fn key.</p>"},{"location":"unified/novacustom/fn-lock-hotkey/#usage","title":"Usage","text":""},{"location":"unified/novacustom/fn-lock-hotkey/#enabling","title":"Enabling","text":"<p>Press the Fn+Caps Lock keys combination.</p>"},{"location":"unified/novacustom/fn-lock-hotkey/#disabling","title":"Disabling","text":"<p>Press the Fn+Caps Lock keys combination again.</p>"},{"location":"unified/novacustom/fwupd-usage/","title":"Updating firmware using fwupd","text":"<p>This document describes the process of installing firmware updates from LVFS using fwupd.</p>"},{"location":"unified/novacustom/fwupd-usage/#installing-fwupd","title":"Installing fwupd","text":""},{"location":"unified/novacustom/fwupd-usage/#using-binary-packages","title":"Using binary packages","text":"<p>Only <code>.deb</code> packages are provided. The procudure was verified on <code>Ubuntu 20.04 LTS</code>, but is should also apply to other Debian-based dsitributions. If you are using different distribution, you might need to build from source.</p> <ol> <li> <p>Download and extract the fwupd archive:</p> <pre><code>wget --content-disposition \\\nhttps://cloud.3mdeb.com/index.php/s/mZyN4NgR8SngJ4j/download \\\nhttps://cloud.3mdeb.com/index.php/s/Z765y233CdJGKy2/download \\\nhttps://cloud.3mdeb.com/index.php/s/KkNaL6dbWs2ei3E/download\nunzip fwupd-novacustom-v1.2.0.zip\n</code></pre> </li> <li> <p>This is an example how to verify the binaries (in this case <code>fwupd-novacustom-v1.2.0.zip</code>):</p> <pre><code>gpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/keys/master-key/3mdeb-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/oss_master_key/open-source-software/3mdeb-open-source-software-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/customer-keys/novacustom/novacustom-open-source-firmware-release-1.x-key.asc\n\nsha256sum -c fwupd-novacustom-v1.2.0.zip.sha256\ngpg -v --verify fwupd-novacustom-v1.2.0.zip.sha256.sig fwupd-novacustom-v1.2.0.zip.sha256\n</code></pre> </li> <li> <p>flashrom packages are located inside <code>flashrom-1.2-2-3mdeb.zip</code>:</p> <pre><code>unzip flashrom-1.2-2-3mdeb.zip\nsudo apt install ./flashrom_1.2-2_amd64.deb\nsudo apt install ./libflashrom1_1.2-2_amd64.deb\n</code></pre> </li> <li> <p>fwupd packages are located inside <code>fwupd-2.0.0.0-3mdeb.zip</code>:</p> <pre><code>unzip fwupd-2.0.0.0-3mdeb.zip\nsudo apt install ./fwupd_2.0.0_amd64.deb \\\n./fwupd-doc_2.0.0_all.deb \\\n./fwupd-tests_2.0.0_amd64.deb \\\n./gir1.2-fwupd-2.0_2.0.0_amd64.deb \\\n./gir1.2-fwupdplugin-1.0_2.0.0_amd64.deb \\\n./gir1.2-gusb-1.0_0.3.5-1_amd64.deb \\\n./libfwupd2_2.0.0_amd64.deb \\\n./libfwupd-dev_2.0.0_amd64.deb \\\n./libfwupdplugin4_2.0.0_amd64.deb \\\n./libfwupdplugin-dev_2.0.0_amd64.deb \\\n./libgusb2_0.3.5-1_amd64.deb \\\n./libgusb-dev_0.3.5-1_amd64.deb\n</code></pre> </li> </ol>"},{"location":"unified/novacustom/fwupd-usage/#building-from-source","title":"Building from source","text":"<p>There is no need to do any of these steps unless you can't use the packages provided in the previous step You might need to adjust the package manager commands and package names to your distribution.</p>"},{"location":"unified/novacustom/fwupd-usage/#flashrom","title":"Flashrom","text":"<ol> <li> <p>Install build dependencies:</p> <pre><code>sudo apt update\nsudo apt install -y build-essential pciutils libpci-dev libusb-1.0-0-dev \\\ncmake meson pkg-config libftdi1-dev debhelper git wget python3-markdown \\\ngcab\n</code></pre> </li> <li> <p>Obtain source code:</p> <pre><code>git clone https://github.com/Dasharo/flashrom.git -b v1.2.0.1\ncd flashrom\n</code></pre> </li> <li> <p>Build and install flashrom:</p> <pre><code>meson build\nninja -C build\nsudo ninja -C build install\n</code></pre> </li> </ol>"},{"location":"unified/novacustom/fwupd-usage/#fwupd","title":"fwupd","text":"<ol> <li> <p>Obtain source code:</p> <pre><code>git clone https://github.com/Dasharo/fwupd.git -b v1.7.3.3\ncd fwupd\n</code></pre> </li> <li> <p>Install build dependencies:</p> <pre><code>./contrib/setup\n</code></pre> </li> <li> <p>Build and install fwupd:</p> <pre><code>sudo depmod\nmeson build -Ddocs=none -Dplugin_flashrom=true\nninja -C build\nsudo ninja -C build install\n</code></pre> </li> </ol>"},{"location":"unified/novacustom/fwupd-usage/#updating-firmware-from-lvfs","title":"Updating firmware from LVFS","text":"<ol> <li> <p>Disable Secure Boot. To do this you can follow steps described in    Secure Boot test.</p> </li> <li> <p>Refresh the fwupd database:</p> <pre><code>sudo fwupdmgr refresh\n\nUpdating lvfs\nDownloading\u2026             [***************************************]\nDownloading\u2026             [***************************************]\nSuccessfully downloaded new metadata: 1 local device supported\n</code></pre> </li> <li> <p>Use the following command to update firmware with fwupd - example for NV41MZ:</p> <p>Note: You may be asked which device to update. If you see a prompt, select NV4XMB,ME,MZ</p> <pre><code>sudo fwupdmgr update\n\nSelected device: NV4XMB,ME,MZ\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551 Update NV4XMB,ME,MZ to 0.5.0?                                                \u2551\n\u2560\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2563\n\u2551 This release adds the following features:                                    \u2551\n\u2551                                                                              \u2551\n\u2551 \u2022 vboot Verified Boot                                                        \u2551\n\u2551 \u2022 TPM Measured Boot                                                          \u2551\n\u2551 \u2022 Custom fan curve                                                           \u2551\n\u2551 \u2022 Microcode for Tiger Lake stepping 0x2                                      \u2551\n\u2551                                                                              \u2551\n\u2551 This release changes the following features:                                 \u2551\n\u2551                                                                              \u2551\n\u2551 \u2022 Disabled unused DPTF device                                                \u2551\n\u2551                                                                              \u2551\n\u2551 NV4XMB,ME,MZ and all connected devices may not be usable while updating.     \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\nPerform operation? [Y|n]:\nDownloading\u2026             [***************************************]\nDownloading\u2026             [***************************************]\nDecompressing\u2026           [***************************************]\nDecompressing\u2026           [***************************************]\nAuthenticating\u2026          [***************************************]\nAuthenticating\u2026          [***************************************]\nRestarting device\u2026       [***************************************]\nWriting\u2026                 [***************************************]\nDecompressing\u2026           [***************************************]\nWriting\u2026                 [***************************************]\nVerifying\u2026               [***************************************]\nWriting\u2026                 [***************************************]\nRestarting device\u2026       [***************************************]\nWaiting\u2026                 [***************************************]\nSuccessfully installed firmware\n\nAn update requires the system to shutdown to complete. Shutdown now? [y|N]:\n</code></pre> </li> <li> <p>Shut down the computer when prompted, or manually later on.</p> </li> <li>Power on the laptop again.</li> <li> <p>Log in and run the following command to verify results:</p> <pre><code>sudo fwupdmgr get-results\n\nChoose a device:\n0.  Cancel\n1.  4bde70ba4e39b28f9eab1628f9dd6e6244c03027 (11th Gen Intel Core\u2122 i7-1165G7 @ 2.80GHz)\n2.  5792b48846ce271fab11c4a545f7a3df0d36e00a (Display controller)\n3.  073c01931cb0e9889bbfb2ea4a4c2fc558805fc6 (Display controller)\n4.  dbee8bd3b1ae0316ad143336155651eedb495a0e (NV4XMB,ME,MZ)\n5.  71b677ca0f1bc2c5b804fa1d59e52064ce589293 (SSD 980 PRO 1TB)\n6.  c6a80ac3a22083423992a3cb15018989f37834d6 (TPM)\n7.  eefcbd318bd31fc1eba6358e628b3f9dceb87206 (USB4 host controller)\n</code></pre> </li> <li> <p>Select <code>NV4XMB,ME,MZ</code> when prompted, and the results will be displayed:</p> <pre><code>NV4XMB,ME,MZ:\n  Device ID:            dbee8bd3b1ae0316ad143336155651eedb495a0e\n  Previous version:     0.5.0\n  Update State:         Success\n  Last modified:        2022-01-13 11:09\n  GUID:                 230c8b18-8d9b-53ec-838b-6cfc0383493a\n  Device Flags:         \u2022 Internal device\n                        \u2022 Updatable\n                        \u2022 System requires external power source\n\u2022 Needs shutdown after installation\n                        \u2022 Cryptographic hash verification is available\n</code></pre> </li> </ol>"},{"location":"unified/novacustom/initial-deployment/","title":"Initial Deployment","text":""},{"location":"unified/novacustom/initial-deployment/#intro","title":"Intro","text":"<p>This document is a guide for the initial installation of Dasharo on a supported device. It assumes some knowledge about external flashing and is primarily aimed at technicians performing initial installation and not for end users of the devices.</p>"},{"location":"unified/novacustom/initial-deployment/#installing-dasharo","title":"Installing Dasharo","text":""},{"location":"unified/novacustom/initial-deployment/#initial-installation","title":"Initial Installation","text":"12th Gen (Alder Lake)11th Gen (Tiger Lake) <p>During the initial installation of Dasharo, you should deploy the supported Intel ME version (and configuration) on the device. Since vendor firmware has enabled Intel Boot Guard and BIOS Guard, it is not possible to do this from within the operating system and external flashing of the whole flash chip using a programmer like the CH341a is required.</p> <p>Publicly released binaries do not contain ME binary. If you need an Intel ME update for your device, contact us via already established commercial support channel.</p>"},{"location":"unified/novacustom/initial-deployment/#preparation","title":"Preparation","text":"<p>Install flashrom:</p> <pre><code>apt update\napt upgrade\nsudo apt -y install flashrom\n</code></pre>"},{"location":"unified/novacustom/initial-deployment/#bios-installation","title":"BIOS installation","text":"<p>Steps for installing Dasharo BIOS:</p> <ol> <li> <p>Remove the bottom cover of the laptop.</p> NS5x / NS7xNV4x <p></p> <p></p> </li> <li> <p>Disconnect the primary battery. (1)</p> </li> <li>Disconnect the CMOS battery. (2)</li> <li> <p>Attach a WSON-8 probe to the SPI flash chip. (3)</p> <p>For TGL devices use SOIC clip instead of WSON</p> </li> <li> <p>Backup the current firmware, in case you want to be able to restore it     at some point:</p> <pre><code>flashrom -p ch341a_spi -r bios_backup.rom\n</code></pre> </li> <li> <p>Install Dasharo BIOS, replacing <code>[path]</code> with the path to the firmware     image you want to flash, e.g. <code>novacustom_ns5x_adl_full_v1.4.0.rom</code></p> <pre><code>flashrom -p ch341a_spi -w [path]\n</code></pre> </li> <li> <p>Detach the WSON-8 probe.</p> </li> <li>Connect the primary battery and reconnect the CMOS battery</li> <li>Power on the laptop. The laptop may shut down once after training the memory.</li> </ol>"},{"location":"unified/novacustom/initial-deployment/#ec-firmware-installation","title":"EC firmware installation","text":"<p>Currently, the latest flashrom release lacks support for flashing ITE embedded controllers such as the ones present in NovaCustom laptops. Because of this, we need to build flashrom from source. Run the following commands on the target laptop:</p> <ol> <li> <p>Install build dependencies:</p> <pre><code>apt update\napt upgrade\napt install git build-essential debhelper pkg-config libpci-dev libusb-1.0-0-dev libftdi1-dev meson\n</code></pre> </li> <li> <p>Obtain source code:</p> <pre><code>git clone https://github.com/dasharo/flashrom.git\ncd flashrom\n</code></pre> </li> <li> <p>Build flashrom:</p> <pre><code>make\nsudo make install\n</code></pre> </li> <li> <p>Make a backup of the EC firmware:</p> <p>Remember to store the backup on the separate device in case flashing fails.</p> <pre><code>flashrom -p ite_ec -r ec_backup.rom\n</code></pre> </li> <li> <p>Install the EC firmware:</p> <p>Warning: After running this command, the internal keyboard and power button will stop responding until the device is power cycled (all power must be removed, including the internal battery). Be prepared to disconnect the battery after updating the EC.</p> <p>Alternatively, you can boot up the laptop without the battery connected and power it from an AC adapter. Then, once the EC update is complete, disconnect the AC adapter to power off the laptop.</p> <p>Run the following command, replacing <code>[path]</code> with the path to the EC firmware you want to flash, e.g. <code>novacustom_ns5x_adl_ec_v1.4.0.rom</code></p> <pre><code>flashrom -p ite_ec -w [path]\n</code></pre> </li> </ol> <p>Successful installation of Dasharo EC finishes the initial deployment process.</p>"},{"location":"unified/novacustom/initial-deployment/#initial-deployment_1","title":"Initial deployment","text":"<p>To ensure a smooth deployment process, it is recommended to use the latest version of DTS available from the releases page. Once you have obtained it, you can then proceed with following the Dasharo zero-touch initial deployment section procedure. This will help you set up Dasharo effectively and without manual intervention.</p> <p>If something went wrong or EC installation was not done, the firmware will print an error string during boot:</p> <p></p> <p>OR</p> <p></p> <p>In such case please follow the EC firmware update instructions for a specific board variant.</p>"},{"location":"unified/novacustom/overview/","title":"Overview","text":""},{"location":"unified/novacustom/overview/#hardware","title":"Hardware","text":"NS5x/7x 12th GenNV4x 12th GenNS5x/7x 11th GenNV4x 11th Gen <p>The <code>NovaCustom NS5x/7x 12th Gen</code> section is related to the two physical NovaCustom laptops based on the 12th generation Intel Core processor:</p> <ul> <li>NS51 series</li> <li>NS70 series</li> </ul> <p></p> <p>The <code>NovaCustom NV4x 12th Gen</code> section is related to the one physical NovaCustom laptops based on the 12th generation Intel Core processor:</p> <ul> <li>NV41 series</li> </ul> <p></p> <p>The <code>NovaCustom NS5x/7x 11th Gen</code> section is related to the two physical NovaCustom laptops based on the 11th generation Intel Core processor:</p> <ul> <li>NS51 series</li> <li>NS70 series</li> </ul> <p></p> <p>The <code>NovaCustom NV4x 11th Gen</code> section is related to the one physical NovaCustom laptops based on the 11th generation Intel Core processor:</p> <ul> <li>NV41 series</li> </ul> <p></p> <p>For more information on the hardware, please refer to the references in above links.</p>"},{"location":"unified/novacustom/overview/#firmware","title":"Firmware","text":"<p>Each firmware release contains of two parts:</p> <ul> <li>BIOS firmware,</li> <li>EC (Embedded Controller)   firmware.</li> </ul> <p>They both interact with each other tightly, so keeping their compatible versions in in sync is important. Information on compatibility should be always explained in the release pages:</p> <ul> <li>NV4x 12th Gen</li> <li>NV4x 11th Gen</li> <li>NS5x/7x 12th Gen</li> <li>NS5x/7x 11th Gen</li> </ul>"},{"location":"unified/novacustom/recovery/","title":"Recovery","text":""},{"location":"unified/novacustom/recovery/#prerequisites","title":"Prerequisites","text":"<p>To proceed with the recovery procedure the backup with the vendor firmware or vendor EC firmware will be necessary eg. <code>bios_backup.rom</code>, <code>ec_backup.rom</code>.</p> <p>The backup file should be generated before making any changes in the device flash chip according to documentation:</p> <ul> <li>Firmware backup</li> <li>EC firmware backup</li> </ul> <p>Restoring vendor BIOS requires restoring a compatible version of EC firmware.   There is currently no way to do this internally.</p>"},{"location":"unified/novacustom/recovery/#external-flashing","title":"External flashing","text":""},{"location":"unified/novacustom/recovery/#bios-recovery","title":"BIOS recovery","text":"<p>Follow the Initial deployment section to perform the external flash. When running the flashrom commands use a backup file you've prepared previously, like <code>bios_backup.rom</code>.</p>"},{"location":"unified/novacustom/recovery/#ec-firmware-recovery","title":"EC firmware recovery","text":"<p>The procedure will be slightly different depending on the model of your laptop.</p> NS5x / NS7xNV4x <p>You will need:</p> <ul> <li>an Arduino Mega 2560</li> <li>a 24-pin FFC cable with a 1.0mm pitch, same-sided (connectors on the same side     on both ends of the cable)</li> <li>a 24-pin FFC breakout board with a 1.0mm pitch FFC connector and a 2.54mm      pitch pin header</li> <li>USB-A to USB-B cable to connect the Arduino to the host</li> <li>USB-C cable for grounding</li> </ul> <p>You will need:</p> <ul> <li>an Arduino Mega 2560</li> <li>a 24-pin FFC cable with a 0.5mm pitch, same-sided (connectors on the same side   on both ends of the cable)</li> <li>a 24-pin FFC breakout board with a 0.5mm pitch FFC connector and a 2.54mm   pitch pin header</li> <li>USB-A to USB-B cable to connect the Arduino to the host</li> <li>USB-C cable for grounding</li> </ul> <p>The full set for EC firmware recovery is available at our online shop.</p>"},{"location":"unified/novacustom/recovery/#preparation","title":"Preparation","text":"<ul> <li>Clone the EC repository:</li> </ul> <pre><code>git clone https://github.com/Dasharo/ec.git\ncd ec\n</code></pre> <ul> <li>Install dependencies:</li> </ul> <pre><code>./scripts/deps.sh\n</code></pre> <ul> <li>If <code>rustup</code> was installed as part of the previous step, run:</li> </ul> <pre><code>source $HOME/.cargo/env\n</code></pre> <ul> <li> <p>Connect the Arduino to the computer using a USB-A to USB-B cable</p> </li> <li> <p>Build and flash firmware for the Arduino, which will serve as the flasher:</p> </li> </ul> <pre><code>make BOARD=arduino/mega2560\nmake BOARD=arduino/mega2560 flash\n</code></pre>"},{"location":"unified/novacustom/recovery/#flashing","title":"Flashing","text":"<ul> <li>Unscrew the bottom cover from the laptop</li> </ul> NS5x / NS7xNV4x <ul> <li>Disconnect the battery (1)</li> </ul> <p>All power must be removed from the laptop during flashing.</p> <p></p> <ul> <li>Reattach the bottom cover (without screwing it in) and flip the laptop over</li> <li>Using a prying tool like a credit card, pull up the keyboard from the laptop</li> </ul> <p>Start prying at the top of the keyboard. Be extra careful when removing the keyboard to avoid damaging the keyboard cable, which is extremely fragile</p> NS5x / NS7xNV4x <p></p> <p></p> <ul> <li>Disconnect the keyboard from the laptop</li> </ul> NS5x / NS7xNV4x <p></p> <p></p> <ul> <li>Connect the USB-C cable to the Thunderbolt port on the laptop and to the host   computer. This will provide grounding</li> <li>Connect the FFC cable to the FFC breakout board</li> </ul> NS5x / NS7xNV4x <p></p> <p>Note: In the example above, the FFC connector on the breakout has the pins on the bottom side of the connector and is located on the same side as the pins connecting to the Arduino. If your breakout is different, you may need an FFC cable with connectors on the opposite sides.</p> <p></p> <p>Note: In the example above, the FFC connector on the breakout has the pins on the upper side of the connector and is located on the side opposite of the pins connecting to the Arduino. If your breakout is different, you may need an FFC cable with connectors on the opposite sides.</p> <ul> <li>Insert the breakout into Arduino's digital pin header, pins 22-45, with the   FFC connector facing outwards</li> </ul> <p></p> <ul> <li>Connect the other end of the FFC cable to the keyboard connector on the   laptop, taking care to align pin 1 of the FFC cable to pin 1 (leftmost) pin   of the connector</li> </ul> NS5x / NS7xNV4x <p></p> <p></p> <ul> <li>Connect the Arduino to the host using the USB-A to USB-B cable</li> <li>Build the flashing utility:</li> </ul> <pre><code>cargo build --manifest-path ecflash/Cargo.toml --example isp --release\n</code></pre> <ul> <li>Flash the firmware:</li> </ul> <pre><code>sudo ecflash/target/release/examples/isp [path to EC backup]\n</code></pre> <p>The output will contain:</p> <pre><code>Buffer size: 128\nID: 5570 VER: 2\n</code></pre> <p>If it contains other ID value or the connection times out, reattach the FFC cable to the laptop and the breakout board. VER value may vary between models.</p> <ul> <li>Reassemble the laptop: disconnect the Arduino from the laptop, reattach the   keyboard, disconnect the USB-C cable, reconnect the battery and screw in the   bottom cover</li> </ul>"},{"location":"unified/novacustom/rgb-keyboard/","title":"NovaCustom NS5x/7x RGB keyboard","text":"<p>The NS5x/7x laptop features an RGB backlight keyboard. Dasharo implements full driverless backlight control using only the hotkeys on the keyboard. The keyboard backlight configuration set in the operating system is saved when the system is shut down and restored just before next system boot.</p>"},{"location":"unified/novacustom/rgb-keyboard/#usage","title":"Usage","text":"<p>The backlight can be operated using the hotkeys on the numpad:</p> <ul> <li><code>Fn</code> + <code>/</code> - Next color</li> <li><code>Fn</code> + <code>*</code> - Toggle On / Off</li> <li><code>Fn</code> + <code>-</code> - Brightness down</li> <li><code>Fn</code> + <code>+</code> - Brightness up</li> </ul> <p>The backlight has the following color modes:</p> <ul> <li>White (default)</li> <li>Red</li> <li>Green</li> <li>Blue</li> <li>Yellow</li> <li>Magenta</li> <li>Cyan</li> </ul>"},{"location":"unified-test-documentation/generic-test-setup/","title":"Dasharo Compatibility: Generic test setup","text":""},{"location":"unified-test-documentation/generic-test-setup/#test-setup","title":"Test setup","text":"<p>Test setup is a set of procedures to be executed before the test execution. Typically, the same setup can be reused by multiple test cases, so there is no need to execute the setup actions before each independent case.</p>"},{"location":"unified-test-documentation/generic-test-setup/#generic-test-setup","title":"Generic test setup","text":""},{"location":"unified-test-documentation/generic-test-setup/#firmware","title":"Firmware","text":"<ol> <li>Obtain <code>FIRMWARE</code> binary:<ol> <li>you can download it from <code>release</code> document dedicated for platform which     is used by you.</li> <li>or you can build one yourself as shown in the <code>building</code> document     dedicated for platform which is used by you.</li> </ol> </li> <li>Flash <code>FIRMWARE</code> binary to the DUT. Device flashing procedure should be     carried out in accordance with the guidelines in <code>Flashing</code> document     dedicated for platform which is in use.</li> </ol>"},{"location":"unified-test-documentation/generic-test-setup/#os-installer","title":"OS installer","text":"<ol> <li>Download <code>OPERATING_SYSTEM</code> installer image.</li> <li>Attach USB stick to the PC.</li> <li>Flash <code>OPERATING_SYSTEM</code> image to the USB stick.</li> <li>Attach the USB stick to the <code>DUT</code>.</li> </ol>"},{"location":"unified-test-documentation/generic-test-setup/#os-installation","title":"OS installation","text":"<ol> <li>Power on the DUT</li> <li>Enter the boot menu using the <code>BIOS_SETUP_KEY</code>.</li> <li>Select the <code>Boot Menu</code> and press <code>Enter</code>.</li> <li>Select the USB stick and press <code>Enter</code>.<ol> <li>In case of the <code>Ubuntu 22.04</code>, select the <code>Ubuntu (safe graphics)</code> in the    GRUB menu.</li> </ol> </li> <li>Wait for the <code>OPERATING_SYSTEM</code> installer to start.</li> <li>Install <code>OPERATING_SYSTEM</code> on the disk.</li> <li>Power off the DUT.</li> <li>Remove the installation media (USB stick with installer).</li> </ol>"},{"location":"unified-test-documentation/generic-test-setup/#nvidia-drivers-ubuntu-2204","title":"NVIDIA drivers - Ubuntu 22.04","text":"<ol> <li>Power on the DUT.</li> <li>Wait until the <code>OPERATING_SYSTEM</code> boots from disk.</li> <li>Login into the <code>OPERATING_SYSTEM</code>.</li> <li>Open a terminal window and execute the following commands:</li> </ol> <pre><code>sudo apt update\nsudo apt install nvidia-driver-470\n</code></pre> <ol> <li>A password prompt for secure boot configuration will appear. Choose a    password (you can use your system password) and press <code>Enter</code>.</li> <li>Reboot the DUT.</li> <li>Upon entry into MOKUtil, select <code>Enroll MOK</code> and enter the password you    chose during driver installation.</li> <li>Select the option <code>Continue boot</code>.</li> <li>Wait until the <code>OPERATING_SYSTEM</code> boots from disk.</li> <li>Login into the <code>OPERATING_SYSTEM</code>.</li> <li>Open the <code>NVIDIA X Server Settings</code> application.</li> <li>Open the <code>PRIME Profiles</code> section.</li> <li>Select <code>NVIDIA On-demand</code> and apply.</li> <li>Enter the <code>OPERATING_SYSTEM</code> password when prompted.</li> </ol>"},{"location":"unified-test-documentation/generic-test-setup/#os-boot-from-disk","title":"OS boot from disk","text":"<ol> <li>Power on the DUT.</li> <li>Wait until the <code>OPERATING_SYSTEM</code> boots from disk.</li> <li>Login into the <code>OPERATING_SYSTEM</code>.</li> </ol>"},{"location":"unified-test-documentation/overview/","title":"Dasharo Test Specifiaction - overview","text":"<p>The release procedure is always preceded by validation procedure. It is done on the basis of the test documentation, which can be found in this submenu. To properly use the documentation, it is advisable to read the following brief description of its components.</p>"},{"location":"unified-test-documentation/overview/#test-matrix","title":"Test Matrix","text":"<p>Test Matrix is the document which shows platform-dedicated test suites and test cases. Based on it, the customer may scope the checks performed by the validation team each time before firmware release.</p>"},{"location":"unified-test-documentation/overview/#generic-test-setup","title":"Generic test setup","text":"<p>Generic test setup is the document which describes all the steps that are performed before testing the various functionalities.</p>"},{"location":"unified-test-documentation/overview/#dasharo-modules","title":"Dasharo modules","text":"<p>Tests performed during validation procedure can be divided into test modules, test suites and test cases.</p> <p>Test cases are the smallest component of validation procedure. Their task is to check, that the given functionality works properly under a certain conditions.</p> <p>Test suites group test cases related to the given functionality, while test modules groups test cases related to the similar functionalities (i. e. test suites which task is to check if differently OS boot properly on the platform).</p> <p>Currently in Dasharo test specification the following test modules can be distinguished:</p> <ul> <li><code>Dasharo Compatibility</code> which contains test suites related to the basic     functionailited of the device.</li> <li><code>Dasharo Security</code> which contains test suites related to the platform     security and supporting security modules.</li> <li><code>Dasharo Performance</code> which contains test suites related to the platform     booting performance.</li> </ul>"},{"location":"unified-test-documentation/dasharo-compatibility/100-coreboot-base-port/","title":"Dasharo: coreboot base port","text":""},{"location":"unified-test-documentation/dasharo-compatibility/100-coreboot-base-port/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Connect to the UART debug interface and open a serial console.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/100-coreboot-base-port/#cbp001001-boot-into-coreboot-stage-bootblock","title":"CBP001.001 Boot into coreboot stage bootblock","text":"<p>Test description</p> <p>This test aims to verify that DUT during booting procedure reaches stage bootblock. The bootblock is the first stage executed after CPU reset, its main task is to set up everything for a C-environment.</p> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power ON the DUT.</li> <li>By using the serial console read the booting procedure stage.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Read the booting procedure stage.</li> </ol> <p>Expected result</p> <ol> <li> <p>The console output should contain string with the phrase:</p> <pre><code>bootblock starting\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/100-coreboot-base-port/#cbp002001-boot-into-coreboot-stage-romstage","title":"CBP002.001 Boot into coreboot stage romstage","text":"<p>Test description</p> <p>This test aims to verify that DUT during booting procedure reaches stage romstage. The romstage initializes the DRAM and prepares everything for device init.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power ON the DUT.</li> <li>By using the serial console read the booting procedure stage.</li> </ol> <p>Expected result</p> <ol> <li> <p>The console output should contain string with the phrase:</p> <pre><code>romstage starting\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/100-coreboot-base-port/#cbp003001-boot-into-coreboot-stage-postcar","title":"CBP003.001 Boot into coreboot stage postcar","text":"<p>Test description</p> <p>This test aims to verify that DUT during booting procedure reaches stage postcar. The postcar tears down CAR and loads the ramstage.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power ON the DUT.</li> <li>By using the serial console read the booting procedure stage.</li> </ol> <p>Expected result</p> <ol> <li> <p>The console output should contain string with the phrase:</p> <pre><code>postcar starting\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/100-coreboot-base-port/#cbp004001-boot-into-coreboot-stage-ramstage","title":"CBP004.001 Boot into coreboot stage ramstage","text":"<p>Test description</p> <p>This test aims to verify that DUT during booting procedure reaches stage ramstage. The ramstage does the main device init.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power ON the DUT.</li> <li>By using the serial console read the booting procedure stage.</li> </ol> <p>Expected result</p> <ol> <li> <p>The console output should contain string the with phrase:</p> <pre><code>ramstage starting\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/100-coreboot-base-port/#cbp005001-resource-allocator-v4-gathering-requirements","title":"CBP005.001 Resource allocator v4 - gathering requirements","text":"<p>Test description</p> <p>This test aims to verify that DUT reaches the <code>gathering requirements</code> stage for Resource Allocator v4 during booting procedure.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power ON the DUT.</li> <li>By using the serial console read the booting procedure stage.</li> </ol> <p>Expected result</p> <ol> <li> <p>The console output should contain a string with the phrase:</p> <pre><code>Pass 1 (gathering requirements)\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/100-coreboot-base-port/#cbp006001-resource-allocator-v4-allocating-resources","title":"CBP006.001 Resource allocator v4 - allocating resources","text":"<p>Test description</p> <p>This test aims to verify that DUT reaches the <code>allocating resources</code> stage for Resource Allocator v4 during booting procedure.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power ON the DUT.</li> <li>By using the serial console read the booting procedure stage.</li> </ol> <p>Expected result</p> <ol> <li> <p>The console output should contain a string with the phrase:</p> <pre><code>Pass 2 (allocating resources)\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/301-memory-hcl/","title":"Dasharo compatibility: Memory HCL","text":""},{"location":"unified-test-documentation/dasharo-compatibility/301-memory-hcl/#hcl001001-memory-hcl-boot-into-os-ubuntu-2204","title":"HCL001.001 Memory HCL - boot into OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the DUT can boot with the memory module combinations specified in the HCL.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Prepare the memory modules specified in the HCL.</li> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> </ol> <p>Test steps</p> <ol> <li>Insert the memory module into the DUT's memory port, starting with the first     position from the HCL.</li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Power off the DUT.</li> <li>Repeat the <code>test steps</code> for all positions in the HCL.</li> </ol> <p>Expected result</p> <ol> <li>The expected result is that the OS boots successfully with all memory    combinations specified in the HCL</li> <li>If the <code>OPERATING_SYSTEM</code> boots, note the success and power the DUT OFF</li> <li>If the <code>OPERATING_SYSTEM</code> doesn't boot, check the logs (optional - if     connected over serial console) for the     <code>FSP Memory Init has returned an error</code> and note the failure</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/303-custom-boot-menu-key/","title":"Dasharo compatibility: Custom Boot Keys","text":""},{"location":"unified-test-documentation/dasharo-compatibility/303-custom-boot-menu-key/#cbk001001-custom-boot-menu-key","title":"CBK001.001 Custom Boot Menu Key","text":"<p>Test description</p> <p>This test aims to verify that the DUT is configured to use custom Boot Menu hotkey (if it exists).</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the Boot Menu.</li> </ol> <p>Expected result</p> <p>The DUT boots into the Boot Menu after using the specified hotkey.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/303-custom-boot-menu-key/#cbk002001-custom-bios-menu-key","title":"CBK002.001 Custom BIOS Menu Key","text":"<p>Test description</p> <p>This test aims to verify that the DUT is configured to use custom BIOS Menu hotkey.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BIOS_MENU_KEY</code> to enter the BIOS menu.</li> </ol> <p>Expected result</p> <p>The DUT boots into the BIOS menu after using the specified hotkey.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/304-custom-logo/","title":"Dasharo compatibility: Custom Logo","text":""},{"location":"unified-test-documentation/dasharo-compatibility/304-custom-logo/#clg001001-custom-boot-logo","title":"CLG001.001 Custom boot logo","text":"<p>Test description</p> <p>This test aims to verify that the DUT is configured to display the specified (customized) logo at boot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the boot logo to appear.</li> </ol> <p>Expected result</p> <p>The displayed logo should depend on the Dasharo variant:</p> <ul> <li>if the Dasharo variant is NovaCustom - the NovaCustom logo should be displayed,</li> <li>if the Dasharo variant is Protectli - the Protectli logo should be displayed,</li> <li>if the Dasharo variant is Tuxedo - the Tuxedo logo should be displayed,</li> <li>for all other variants Dasharo custom logo should be displayed.</li> </ul> <p>Keep in mind that the end-user's customized boot logo might also be displayed - if before the custom logo checking procedure described in the Logo customization documentation has been performed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/306-usb-hid-and-msc-support/","title":"Dasharo compatibility: USB HID and MSC Support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/306-usb-hid-and-msc-support/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/306-usb-hid-and-msc-support/#usb001001-usb-devices-detection-firmware","title":"USB001.001 USB devices detection (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the external USB devices are detected correctly by the firmware and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Connect the flash drive using the USB port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Enter the boot menu using the <code>BIOS_SETUP_KEY</code>.</li> <li>Select the <code>Boot Menu</code>, press <code>Enter</code> and note the result.</li> </ol> <p>Expected result</p> <ol> <li>Flash drive entry is listed in the boot menu.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/306-usb-hid-and-msc-support/#usb001002-usb-devices-detection-in-os-ubuntu-2204","title":"USB001.002 USB devices detection in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the external USB devices are detected correctly by the <code>OPERATING_SYSTEM</code> and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>watch -n1 lsusb\n</code></pre> </li> <li> <p>Connect external USB devices to DUT USB A port and note the result.</p> </li> </ol> <p>Expected result</p> <ol> <li>After each device is connected to the USB port, a new USB device entry     in <code>lsusb</code> command output should appear.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/306-usb-hid-and-msc-support/#usb001003-usb-devices-detection-in-os-windows-11","title":"USB001.003 USB devices detection in OS (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the external USB devices are detected correctly by the <code>OPERATING_SYSTEM</code> and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open PowerShell and and run the following command:</p> <pre><code>Get-PnpDevice -PresentOnly | Where-Object { $_.InstanceId -match '^USB' }\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <ol> <li> <p>After executing the command, a list containing all USB devices should be displayed. All devices' status should be <code>OK</code>.</p> <p>Example output:</p> <pre><code>Status     Class           FriendlyName\n------     -----           ------------\nOK         DiskDrive       Mass Storage Device USB Device\nOK         USB             Generic USB Hub\nOK         HIDClass        USB Input Device\nOK         Bluetooth       Intel(R) Wireless Bluetooth(R)\nOK         USB             USB Root Hub (USB 3.0)\nOK         Net             TP-LINK Gigabit Ethernet USB Adapter\nOK         USB             Generic USB Hub\nOK         USB             USB Mass Storage Device\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/306-usb-hid-and-msc-support/#usb002001-usb-keyboard-detection-firmware","title":"USB002.001 USB keyboard detection (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the external USB keyboard is detected correctly by the firmware and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Connect the external USB keyboard using the USB port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT</li> <li>Enter the boot menu using the <code>BIOS_SETUP_KEY</code>.</li> <li>Use the arrow keys, Esc key and the Enter key to navigate the menus.</li> </ol> <p>Expected result</p> <ol> <li>All menus can be entered using the external USB keyboard.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/306-usb-hid-and-msc-support/#usb002002-usb-keyboard-detection-ubuntu-2204","title":"USB002.002 USB keyboard detection (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the external USB keyboard is detected correctly by the <code>OPERATING_SYSTEM</code> and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install <code>libinput-tools</code> on the DUT.</li> <li>Connect the external USB keyboard using the USB port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Run the following command in the terminal:</p> <pre><code>libinput debug-events --show-keycodes\n</code></pre> </li> <li> <p>Test the alphanumeric keys and note the generated keycodes.</p> </li> <li>Test non-alphanumeric keys and verify that they generate the correct     keycodes.</li> <li>Test key combinations with the <code>Shift</code>, <code>Ctrl</code> and <code>Alt</code> modifier keys     (this tests 2-key rollover).</li> </ol> <p>Expected result</p> <ol> <li>The external USB keyboard is detected in OS.</li> <li>All standard keyboard keys generate the correct keycodes and events as per    their labels.</li> <li>Key combinations are detected correctly.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/306-usb-hid-and-msc-support/#usb002003-usb-keyboard-detection-windows-11","title":"USB002.003 USB keyboard detection (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the external USB keyboard is detected correctly by the <code>OPERATING_SYSTEM</code> and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect the external USB keyboard using the USB port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open PowerShell and run the following command:</p> <pre><code>Get-CimInstance win32_KEYBOARD\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li>Open <code>notepad</code>.</li> <li>Test the alphanumeric keys and note the generated characters.</li> <li>Test non-alphanumeric keys and verify that they generate the signs.</li> <li>Test key combinations with the <code>Shift</code>, and <code>Alt</code> modifier keys.</li> <li>Open <code>On-Screen Keyboard</code> and press <code>Ctrl</code> key on the hardware keyboard.    Check if <code>On-Screen Keyboard</code> correctly highlights it.</li> <li>Open <code>Start menu</code> and press <code>Esc</code>. Check if <code>Start menu</code> is properly closed.</li> </ol> <p>Expected result</p> <ol> <li> <p>After running the PowerShell command information about connected keyboard     should be displayed.</p> <p>Example output:</p> <pre><code>Caption                     : Enhanced (101- or 102-key)\nDescription                 : USB Input Device\nInstallDate                 :\nName                        : Enhanced (101- or 102-key)\nStatus                      : OK\nAvailability                :\nConfigManagerErrorCode      : 0\nConfigManagerUserConfig     : False\nCreationClassName           : Win32_Keyboard\nDeviceID                    : USB\\VID_046D&amp;PID_C31C&amp;MI_00\\6&amp;26C21341&amp;0&amp;0000\nErrorCleared                :\nErrorDescription            :\nLastErrorCode               :\nPNPDeviceID                 : USB\\VID_046D&amp;PID_C31C&amp;MI_00\\6&amp;26C21341&amp;0&amp;0000\nPowerManagementCapabilities :\nPowerManagementSupported    : False\nStatusInfo                  :\nSystemCreationClassName     : Win32_ComputerSystem\nSystemName                  : DESKTOP-CUR9H2J\nIsLocked                    :\nLayout                      : 00000409\nNumberOfFunctionKeys        : 12\nPassword                    :\nPSComputerName              :\n</code></pre> </li> <li> <p>All standard keyboard keys generate correct characters    or actions when pressed.</p> </li> <li>Key combinations are detected correctly.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/306-usb-hid-and-msc-support/#usb003001-upload-1gb-file-on-usb-storage-ubuntu-2204","title":"USB003.001 Upload 1GB file on USB storage (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the 1GB file can be transferred from the <code>OPERATING_SYSTEM</code> to the <code>USB storage</code>.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> <li><code>USB storage</code> - at least 1GB of free space</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command to generate 1GB file:</p> <pre><code>openssl rand -out test_file.txt -base64 $(( 2**30 * 3/4 ))\n</code></pre> </li> <li> <p>Plug in the <code>USB storage</code> to the USB port.</p> </li> <li> <p>Read the path to the <code>USB storage</code> by running the following command:</p> <pre><code>lsblk\n</code></pre> </li> <li> <p>Copy the generated file to the <code>USB storage</code> by running the following    command:</p> <pre><code>cp test_file.txt {path_to_usb_storage}\n</code></pre> </li> <li> <p>Verify that the files are the same by running the following command:</p> <pre><code>sha256sum test_file.txt {path_to_usb_storage}/test_file.txt\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output from the last command should contain 2 identical checksums:</p> <pre><code>f46597c0c63a1eefb200d40edf654e52f10c3d5d21565886ad603fabaf8d39fb  test_file.txt\nf46597c0c63a1eefb200d40edf654e52f10c3d5d21565886ad603fabaf8d39fb  {path_to_usb_storage}/test_file.txt\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/306-usb-hid-and-msc-support/#usb003002-upload-1gb-file-on-usb-storage-windows-11","title":"USB003.002 Upload 1GB file on USB storage (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the 1GB file can be transferred from the <code>OPERATING_SYSTEM</code> to the <code>USB storage</code>.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> <li><code>USB storage</code> - at least 1GB of free space</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open powershell as administrator and run the following command to generate    1GB file:</p> <pre><code>fsutil file createnew test_file.txt 1073741824\n</code></pre> </li> <li> <p>Plug in the <code>USB storage</code> to the USB port.</p> </li> <li> <p>Read the drive letter assigned to the <code>USB storage</code> by running the following    command:</p> <pre><code>(Get-Volume | where drivetype -eq removable).driveletter\n</code></pre> </li> <li> <p>Copy the generated file to the <code>USB storage</code> by running the following    command:</p> <pre><code>Copy-Item -Path C:\\Windows\\system32\\test_file.txt {drive_letter}:\n</code></pre> </li> <li> <p>Verify that the files are the same by running the following commands:</p> <pre><code>Get-FileHash test_file.txt\nGet-FileHash {drive_letter}:\\test_file.txt\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output from the last commands should have equal hash:</p> <pre><code>Algorithm       Hash                                                              Path\n---------       ----                                                              ----\nSHA256          F46597C0C63A1EEFB200D40EDF654E52F10C3D5D21565886AD603FABAF8D39FB  C\\Windows\\system3...\n</code></pre> <pre><code>Algorithm       Hash                                                              Path\n---------       ----                                                              ----\nSHA256          F46597C0C63A1EEFB200D40EDF654E52F10C3D5D21565886AD603FABAF8D39FB  E:\\test_file.txt\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/307-freebsd-support/","title":"Dasharo Compatibility: FreeBSD support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/307-freebsd-support/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installation.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/307-freebsd-support/#bsd001001-freebsd-installation-and-boot","title":"BSD001.001 FreeBSD installation and boot","text":"<p>Test description</p> <p>This test verifies that FreeBSD distribution could be installed on the DUT and works properly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = FreeBSD 13</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/308-debian-stable-and-ubuntu-lts-support/","title":"Dasharo Compatibility: Debian Stable and Ubuntu LTS support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/308-debian-stable-and-ubuntu-lts-support/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/308-debian-stable-and-ubuntu-lts-support/#lbt001001-debian-stable-installation-on-usb-storage","title":"LBT001.001 Debian Stable installation on USB storage","text":"<p>Test description</p> <p>This test aims to verify that Debian Stable distribution could be installed on USB storage attached to the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Debian 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>According to the Documentation     perform the OS installation process. As disk choose the USB stick.</li> </ol> <p>Expected result</p> <p>The information about successful installation should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/308-debian-stable-and-ubuntu-lts-support/#lbt001002-boot-debian-from-usb","title":"LBT001.002 Boot Debian from USB","text":"<p>Test description</p> <p>This test aims to verify that Debian Stable distribution could be booted from USB storage attached to the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Debian 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the <code>USB_STORAGE</code> on which the system was     previously installed.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/308-debian-stable-and-ubuntu-lts-support/#lbt002001-ubuntu-lts-installation-on-usb-storage","title":"LBT002.001 Ubuntu LTS installation on USB storage","text":"<p>Test description</p> <p>This test aims to verify that Ubuntu LTS modern distribution could be installed on USB storage attached to the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>According to the Documentation     perform the OS installation process. As disk choose the USB stick.</li> </ol> <p>Expected result</p> <p>The information about successful installation should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/308-debian-stable-and-ubuntu-lts-support/#lbt002002-boot-ubuntu-from-usb","title":"LBT002.002 Boot Ubuntu from USB","text":"<p>Test description</p> <p>This test aims to verify that Ubuntu LTS modern distribution could be booted from USB storage attached to the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the <code>USB_STORAGE</code> on which the system was     previously installed.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/308-debian-stable-and-ubuntu-lts-support/#lbt003001-debian-stable-installation-on-hard-disk","title":"LBT003.001 Debian Stable installation on Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that Debian Stable distribution could be installed on the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Debian 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>According to the Documentation     perform the OS installation process. As disk choose the mounted in the     DUT Hard Disk.</li> </ol> <p>Expected result</p> <p>The information about successful installation should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/308-debian-stable-and-ubuntu-lts-support/#lbt003002-boot-debian-from-hard-disk","title":"LBT003.002 Boot Debian from Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that Debian Stable distribution could be booted from the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Debian 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the hard disk on which the system was previously     installed.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/308-debian-stable-and-ubuntu-lts-support/#lbt004001-ubuntu-lts-installation-on-hard-disk","title":"LBT004.001 Ubuntu LTS installation on Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that Ubuntu LTS modern distribution could be installed on the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>According to the Documentation     perform the OS installation process. As disk choose the mounted in the     DUT Hard Disk.</li> </ol> <p>Expected result</p> <p>The information about successful installation should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/308-debian-stable-and-ubuntu-lts-support/#lbt004002-boot-ubuntu-from-hard-disk","title":"LBT004.002 Boot Ubuntu From Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that Ubuntu LTS modern distribution could be booted from the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the hard disk on which the system was previously     installed.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/309-qubesos-support/","title":"Dasharo Compatibility: QubesOS support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/309-qubesos-support/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/309-qubesos-support/#qbs001001-qubesos-installation","title":"QBS001.001 QubesOS installation","text":"<p>Test description</p> <p>This test aims to verify that QubesOS Stable distribution could be installed.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = QubesOS 4.1.1</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>According to the Documentation     perform the OS installation process.</li> </ol> <p>Expected result</p> <p>The information about successful installation should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/309-qubesos-support/#qbs001002-boot-qubesos","title":"QBS001.002 Boot QubesOS","text":"<p>Test description</p> <p>This test aims to verify that QubesOS Stable distribution could be booted.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = QubesOS 4.1.1</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the <code>DISK</code> on which the system was     previously installed.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/30A-custom-network-boot-entries/","title":"Dasharo Compatibility: Custom Network Boot entries","text":""},{"location":"unified-test-documentation/dasharo-compatibility/30A-custom-network-boot-entries/#cnb001002-only-one-ipxe-in-boot-menu","title":"CNB001.002 Only one iPXE in boot menu","text":"<p>Test description</p> <p>This test aims to verify that thenetwork boot option with iPXE appears only once in the boot option list.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Check the iPXE is listed only once on the boot option list.</li> </ol> <p>Expected result</p> <ol> <li>There is only one iPXE entry on the boot option list.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/30L-memtest-payload-support/","title":"Dasharo Compatibility: Memtest payload support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/30L-memtest-payload-support/#mem001001-memtest-availability","title":"MEM001.001 Memtest availability","text":"<p>Test description</p> <p>This test aims to verify that the Memtest entry is available in DUT boot     menu.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Check if <code>Payload [memtest]</code> is available in the boot menu.</li> </ol> <p>Expected result</p> <p>The <code>Payload [memtest]</code> option should be visible as the one of boot menu options.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/30L-memtest-payload-support/#mem002001-enter-memtest","title":"MEM002.001 Enter Memtest","text":"<p>Test description</p> <p>This test aims to verify that the DUT enters the Memtestboot option.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the key with a proper number for <code>Payload [memtest]</code>.</li> <li>Check if <code>Memtest86+</code> is available.</li> </ol> <p>Expected result</p> <p>The <code>Memtest86+</code> is visible at the top of the output.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/30L-memtest-payload-support/#mem003001-memtest-stability","title":"MEM003.001 Memtest stability","text":"<p>Test description</p> <p>This test aims to verify that the Memtest starts does not hang under DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the key with a proper number for <code>Payload [memtest]</code>.</li> <li>Check if <code>State: - Running...</code> is available.</li> </ol> <p>Expected result</p> <p>The <code>State: - Running...</code> is visible after a few seconds and confirms that the the test is in progress.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/30L-memtest-payload-support/#mem004001-memtest-refreshing-by-l-key","title":"MEM004.001 Memtest refreshing by 'L' key","text":"<p>Test description</p> <p>This test aims to verify that DUT refreshes Memtest properly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the key with a proper number for <code>BOOT_MENU_ENTRY</code>.</li> <li>Press the <code>L</code> key.</li> <li>Check if <code>L</code> refreshes output.</li> </ol> <p>Expected result</p> <p>The <code>Memtest86+</code> is visible before and after pressing <code>L</code>.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/30L-memtest-payload-support/#mem005001-memtest-refreshing-by-l-key","title":"MEM005.001 Memtest refreshing by 'l' key","text":"<p>Test description</p> <p>This test aims to verify that DUT refreshes Memtest properly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the key with a proper number for <code>BOOT_MENU_ENTRY</code>.</li> <li>Press the <code>l</code> key.</li> <li>Check if <code>l</code> refreshes output.</li> </ol> <p>Expected result</p> <p>The <code>Memtest86+</code> is visible before and after pressing <code>l</code>.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/30L-memtest-payload-support/#mem006001-memtest-completing","title":"MEM006.001 Memtest completing","text":"<p>Test description</p> <p>This test aims to verify that DUT completes Memtest.</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the key with a proper number for <code>Payload [memtest]</code>.</li> <li>Make sure that <code>State: - Running...</code> is available.</li> <li>Wait until <code>** Pass complete, no errors, press Esc to exit **</code> appears.</li> </ol> <p>Expected result</p> <p>After the test completes without any errors <code>** Pass complete, no errors, press Esc to exit **</code> message is visible on the bottom of the screen.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/30M-uefi-compatible-interface/","title":"Dasharo Compatibility: UEFI compatible interface","text":""},{"location":"unified-test-documentation/dasharo-compatibility/30M-uefi-compatible-interface/#efi001001-boot-into-uefi-os-ubuntu-2204","title":"EFI001.001 Boot into UEFI OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies the presence of UEFI compatible interface by booting UEFI-aware Operating System.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Enter the boot menu using the <code>BIOS_SETUP_KEY</code>.</li> <li>Select the <code>Boot Menu</code> and press <code>Enter</code>.</li> <li>Select the USB stick and press <code>Enter</code>.</li> <li>Select the <code>Ubuntu (safe graphics)</code> in the GRUB menu.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to finalize booting, by either of the:</li> <li><code>OPERATING_SYSTEM</code> installer initialization,</li> <li>login form initialization.</li> <li>Power OFF the DUT.</li> </ol> <p>Expected result</p> <ol> <li>Either the login screen or the <code>OPERATING_SYSTEM</code> installer appears on the    internal LCD.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/30M-uefi-compatible-interface/#efi001002-boot-into-uefi-os-windows-11","title":"EFI001.002 Boot into UEFI OS (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify the presence of UEFI compatible interface by booting UEFI-aware Operating System.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Enter the boot menu using the <code>BIOS_SETUP_KEY</code>.</li> <li>Select the <code>Boot Menu</code> and press <code>Enter</code>.</li> <li>Select the USB stick and press <code>Enter</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot finalize booting, by either of the:</li> <li><code>OPERATING_SYSTEM</code> installer initialization,</li> <li>login form initialization.</li> <li>Power OFF the DUT.</li> </ol> <p>Expected result</p> <ol> <li>Either the login screen or the <code>OPERATING_SYSTEM</code> installer appears on the    internal LCD.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/30P-uefi-shell/","title":"Dasharo Compatibility: UEFI Shell","text":""},{"location":"unified-test-documentation/dasharo-compatibility/30P-uefi-shell/#ush001001-uefi-shell","title":"USH001.001 UEFI Shell","text":"<p>Test description</p> <p>This test aims to verify that the DUT has the ability to boot into an integrated UEFI Shell application.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: Firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot     Menu.</li> <li>Select the <code>UEFI Shell</code> option using the arrow keys and press <code>Enter</code>.</li> </ol> <p>Expected result</p> <p>The DUT boots into an UEFI Shell successfully, as indicated by the example console output shown on the screen:</p> <pre><code>UEFI Interactive Shell v2.2\nEDK II\nUEFI v2.70 (EDK II, 0x00010000)\nMapping table\n      FS0: Alias(s):HD1b:;BLK2:\n      PciRoot(0x0)/Pci(0x6,0x0)/Pci(0x0,0x0)/NVMe(0x1,9C-BB-50-01-BB-38-25-5\n-4BB4-4FDD-9534-B097CD497222,0x800,0x100000)\n      FS1: Alias(s):HD1c:;BLK3:\n      PciRoot(0x0)/Pci(0x6,0x0)/Pci(0x0,0x0)/NVMe(0x1,9C-BB-50-01-BB-38-25-1\n-C6AB-4400-AE03-0BF2960DD525,0x100800,0x1D0C5000)\n     BLK1: Alias(s):\n     PciRoot(0x0)/Pci(0x6,0x0)/Pci(0x0,0x0)/NVMe(0x1,9C-BB-50-01-BB-38-25-)\n        BLK0: Alias(s):\n        PciRoot(0x0)/Pci(0x14,0x0)/USB(0x0,0x2)\n    Press ESC in 1 seconds to skip startup.nsh or any other key to continue.\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/310-fedora-support/","title":"Dasharo Compatibility: Fedora support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/310-fedora-support/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/310-fedora-support/#fed001001-fedora-installation","title":"FED001.001 Fedora installation","text":"<p>Test description</p> <p>This test aims to verify that Fedora Stable distribution could be installed.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Fedora 37</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>According to the Documentation     perform the OS installation process.</li> </ol> <p>Expected result</p> <p>The information about successful installation should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/310-fedora-support/#fed001002-boot-fedora","title":"FED001.002 Boot Fedora","text":"<p>Test description</p> <p>This test aims to verify that Fedora Stable distribution could be booted.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Fedora 37</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the <code>DISK</code> on which the system was     previously installed.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/312-nvme-support/","title":"Dasharo Compatibility: NVMe support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/312-nvme-support/#nvm001001-nvme-support-firmware","title":"NVM001.001 NVMe support (firmware)","text":"<p>Test description</p> <p>This test aims to verify that firmware is able to correctly detect NVMe disk in the M.2 slot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Insert a NVMe disk into the M.2 slot on the DUT.</li> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BOOT_MENU_KEY</code> to enter     the UEFI Boot Menu and note the result.</li> </ol> <p>Expected result</p> <ol> <li>The NVMe disk should be listed on the bootable devices list.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/312-nvme-support/#nvm001002-nvme-support-ubuntu-2204","title":"NVM001.002 NVMe support (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify booting the Operating System from NVMe disk in the M.2 slot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Insert a NVMe disk into the M.2 slot on the DUT.</li> <li>Proceed with the     Generic test setup: OS installer.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>sudo mount | grep 'on / '\n</code></pre> <p>Expected result</p> <ol> <li>The <code>OPERATING_SYSTEM</code> has been booted from the NVMe disk correctly.</li> <li>Output in Terminal indicates that system partition is installed on the NVMe     disk:</li> </ol> <pre><code>/dev/nvme* on / tpe ext4 (rw,relatime,errors=remount-ro)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/312-nvme-support/#nvm001003-nvme-support-in-os-windows-11","title":"NVM001.003 NVMe support in OS (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify booting the Operating System from NVMe disk in the M.2 slot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Insert a NVMe disk into the M.2 slot on the DUT.</li> <li>Proceed with the     Generic test setup: OS installer.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open PowerShell as administrator.</li> <li> <p>Run below command and note the result:</p> <pre><code>Get-PnpDevice -Status \"OK\" | where { $_.InstanceId -like \"SCSI\\DISK&amp;VEN_NVME&amp;*\"}\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li>The <code>OPERATING_SYSTEM</code> booting from the NVMe disk</li> <li> <p>Command should output at least one NVMe drive. Similar as below:</p> <pre><code>Status     Class           FriendlyName\n------     -----           ------------\nOK         DiskDrive       Samsung SSD 980 PRO 500GB\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/315-network-boot/","title":"Dasharo Compatibility: Network Boot","text":""},{"location":"unified-test-documentation/dasharo-compatibility/315-network-boot/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>The DUT should be connected to the Internet by using an Ethernet cable.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/315-network-boot/#pxe001001-dasharo-network-boot-is-bootable","title":"PXE001.001 Dasharo Network Boot is bootable","text":"<p>Test description</p> <p>This test aims to verify, that the <code>iPXE Network boot</code> is bootable in the boot menu and whether, after selecting this boot option, <code>Dasharo Network Boot Menu</code> is displayed.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>iPXE Network boot</code> option using the arrow keys and press    Enter.</li> </ol> <p>Expected result</p> <ol> <li>After selecting the <code>iPXE Network boot</code>, the <code>Dasharo Network Boot Menu</code>     should be displayed.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/315-network-boot/#pxe002001-dasharo-network-boot-menu-boot-options-order-is-correct","title":"PXE002.001 Dasharo network boot menu boot options order is correct","text":"<p>Test description</p> <p>This test aims to verify that <code>Dasharo Network Boot Menu</code> contains all of the needed options which are in the correct order.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>iPXE Network boot</code> option using the arrow keys and press    Enter.</li> </ol> <p>Expected result</p> <ol> <li><code>Dasharo Network Boot Menu</code> contains all of the needed options.</li> <li><code>Dasharo Network Boot Menu</code> options are in order as follows:</li> </ol> <pre><code>Autoboot\nDasharo Tools Suite\nOS installation\niPXE Shell\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/315-network-boot/#pxe003001-autoboot-option-is-available-and-works-correctly","title":"PXE003.001 Autoboot option is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>Autoboot</code> option in <code>Dasharo Network Boot Menu</code> works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>iPXE Network boot</code> option using the arrow keys and press    Enter.</li> <li>Select the <code>Autoboot</code> option using the arrow keys, then press Enter.</li> </ol> <p>Expected result</p> <p>If the server assigned to the <code>Autoboot</code> option is available in the local network, the boot menu should appear.</p> <p>If the server assigned to the <code>Autoboot</code> option isn't available in the local network, selecting this option will result in configuring the network interfaces and return to the <code>Setup Menu</code>.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/315-network-boot/#pxe004001-dts-option-is-available-and-works-correctly","title":"PXE004.001 DTS option is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>Dasharo Tools Suite</code> option in <code>Dasharo Network Boot Menu</code> allows booting into DTS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = coreboot</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Proceed with the     Requirements for DTS.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>iPXE Network boot</code> option using the arrow keys and press    Enter.</li> <li>Select the <code>Dasharo Tools Suite</code> option using the arrow keys, then press     Enter.</li> </ol> <p>Expected result</p> <p>After configuring the network interfaces, connecting to the server and booting, <code>Dasharo Tools Suite</code> menu should appear.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/315-network-boot/#pxe005001-os-installation-option-is-available-and-works-correctly","title":"PXE005.001 OS installation option is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>OS installation</code> option in <code>Dasharo Network Boot Menu</code> allows booting into netboot.xyz server.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = coreboot</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>iPXE Network boot</code> option using the arrow keys and press    Enter.</li> <li>Select the <code>OS installation</code> option using the arrow keys and press Enter.</li> </ol> <p>Expected result</p> <p>After configuring the network interfaces, connecting to the server and booting, <code>netboot.xyz</code> menu should appear.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/315-network-boot/#pxe006001-ipxe-shell-option-is-available-and-works-correctly","title":"PXE006.001 iPXE shell option is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>iPXE Shell</code> option in <code>Dasharo Network Boot Menu</code> works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the <code>iPXE Network boot</code> option using the arrow keys and press    Enter.</li> <li>Select the <code>iPXE Shell</code> option using the arrow keys and press Enter.</li> <li> <p>Obtain an IP address by executing the following command:</p> <pre><code>dhcp\n</code></pre> </li> <li> <p>Load <code>netboot.xyz</code> server menu by executing the following command:</p> <pre><code>chain --autofree http://boot.netboot.xyz/\n</code></pre> </li> </ol> <p>Expected result</p> <p>After configuring the network interfaces, connecting to the server and booting, <code>netboot.xyz</code> menu should appear.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/315-network-boot/#pxe007001-ipxe-network-boot","title":"PXE007.001 iPXE network boot","text":"<p>Test description</p> <p>This test aims to verify that the DUT is capable of network booting from a PXE server.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>iPXE Network boot</code> option using the arrow keys and press    Enter.</li> <li>Press Ctrl+B when prompted to stop iPXE from booting automatically.</li> <li>Type in <code>dhcp</code> to obtain an IP address.</li> <li>Type in <code>chain --autofree http://boot.netboot.xyz/</code> to load a boot menu</li> <li>Enter the \"Live CDs\" submenu using the arrow keys and Enter.</li> <li>Select <code>Debian</code> -&gt; <code>Debian Live 11 (bullseye)</code> -&gt; <code>Debian 11 Gnome</code> and     press Enter.</li> </ol> <p>Expected result</p> <ol> <li>The iPXE application boots successfully.</li> <li>iPXE obtains an IP address.</li> <li>iPXE boots an <code>Debian 11</code> from netboot.xyz.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/315b-netboot-utilities/","title":"Dasharo Compatibility: Network boot utilities","text":""},{"location":"unified-test-documentation/dasharo-compatibility/315b-netboot-utilities/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/315b-netboot-utilities/#nbt001001-netboot-is-available","title":"NBT001.001 Netboot is available","text":"<p>Test description</p> <p>This test aims to verify that the <code>Network Boot and Utilities</code> menu is available and its content is right.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>Network Boot and Utilities</code> option using the arrow keys and     press <code>Enter</code>.</li> </ol> <p>Expected result</p> <ol> <li><code>Network Boot and Utilities</code> option should be present in the UEFI Boot Menu.</li> <li> <p>After selecting the <code>Network Boot and Utilities</code> option the following     menu should appear:</p> <pre><code>   ------------------------ Network Boot and Utilities ----------------------\n   ------------------------ Please Select an Option -------------------------\n   OS Selection &amp; Utilities\n   iPXE Boot\n   iPXE Shell\n   Advanced\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/315b-netboot-utilities/#nbt002001-os-selection-utilities-is-available","title":"NBT002.001 OS Selection &amp; Utilities is available","text":"<p>Test description</p> <p>This test aims to verify that the <code>OS Selection &amp; Utilities</code> menu is available and its content is right.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>Network Boot and Utilities</code> option using the arrow keys and press     <code>Enter</code>.</li> <li>Select the <code>OS Selection &amp; Utilities</code> option using the arrow keys and press     <code>Enter</code>.</li> </ol> <p>Expected result</p> <ol> <li><code>OS Selection &amp; Utilities</code> option should be present in the     <code>Network Boot and Utilities</code> menu.</li> <li>After selecting the <code>OS Selection &amp; Utilities</code> option iPXE menu should be    displayed.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/315b-netboot-utilities/#nbt003001-ipxe-boot-is-available","title":"NBT003.001 iPXE boot is available","text":"<p>Test description</p> <p>This test aims to verify that the <code>iPXE Boot</code> menu is available and it content is right.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>Network Boot and Utilities</code> option using the arrow keys and     press <code>Enter</code>.</li> <li>Select the <code>iPXE Boot</code> option using the arrow keys and press <code>Enter</code>.</li> </ol> <p>Expected result</p> <ol> <li><code>iPXE Boot</code> option should be present in the <code>Network Boot and Utilities</code>     menu.</li> <li>After selecting the <code>iPXE Boot</code> option the autoboot procedure should be     started.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/315b-netboot-utilities/#nbt004001-ipxe-shell-is-available","title":"NBT004.001 iPXE shell is available","text":"<p>Test description</p> <p>This test aims to verify that the <code>iPXE Shell</code> menu is available and it content is right.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>Network Boot and Utilities</code> option using the arrow keys and press <code>Enter</code>.</li> <li>Select the <code>iPXE Shell</code> option using the arrow keys and press <code>Enter</code>.</li> </ol> <p>Expected result</p> <ol> <li><code>iPXE Shell</code> option should be present in the <code>Network Boot and Utilities</code>     menu.</li> <li> <p>After selecting the <code>iPXE Shell</code> option the following menu should appear:</p> <pre><code>You are now in iPXE shell. Type \"exit\" to go back to the main menu.\niPXE&gt;\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/315b-netboot-utilities/#nbt005001-ipxe-shell-works-correctly","title":"NBT005.001 iPXE shell works correctly","text":"<p>Test description</p> <p>This test aims to verify that the iPXE shell works correctly by configuring network interface and booting from selected address.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>Network Boot and Utilities</code> option using the arrow keys and press     <code>Enter</code>.</li> <li>Select the <code>iPXE Shell</code> option using the arrow keys and press <code>Enter</code>.</li> <li> <p>Configure communication interface by using the following command:</p> <pre><code>dhcp net0\n</code></pre> </li> <li> <p>Connect to the DTS ipxe menu by using the following command:</p> <pre><code>chain http://boot.3mdeb.com/dts.ipxe\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li>Communication interface configuration procedure should be successful.</li> <li>DTS boot menu should appear.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/315b-netboot-utilities/#nbt006001-advanced-option-is-available","title":"NBT006.001 Advanced option is available","text":"<p>Test description</p> <p>This test aims to verify that the <code>Advanced</code> menu is available and its content is right.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>Network Boot and Utilities</code> option using the arrow keys and press     <code>Enter</code>.</li> <li>Select the <code>Advanced</code> option using the arrow keys and press <code>Enter</code>.</li> </ol> <p>Expected result</p> <ol> <li><code>Advanced</code> option should be present in the <code>Network Boot and Utilities</code>     menu.</li> <li> <p>After selecting the <code>Advanced</code> option the following menu should appear:</p> <pre><code>   ------------------------ Network Boot and Utilities ----------------------\n   ------------------------ Please Select an Option -------------------------\n   Change Netboot iPXE Payload URL\n   Exit\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/315b-netboot-utilities/#nbt007001-change-netboot-url-works-correctly","title":"NBT007.001 Change netboot URL works correctly","text":"<p>Test description</p> <p>This test aims to verify that it's possible to change the netboot URL and boot from it.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>Network Boot and Utilities</code> option using the arrow keys and press     <code>Enter</code>.</li> <li>Select the <code>Advanced</code> option using the arrow keys and press <code>Enter</code>.</li> <li>Select the <code>Change Netboot iPXE Payload URL</code> option using the arrow keys and     press <code>Enter</code>.</li> <li>Select the <code>Change Netboot iPXE Payload URL</code> option again using the arrow     keys and press <code>Enter</code>.</li> <li>Replace the existing address with another iPXE payload URL address, for     example: <code>http://boot.3mdeb.com/dts.ipxe</code>.</li> <li>Apply changes by selecting option <code>Apply and Exit</code> and pressing <code>Enter</code>.</li> <li>Select the <code>OS Selection &amp; Utilities</code> option using the arrow keys and press     <code>Enter</code>.</li> </ol> <p>Expected result</p> <ol> <li>Proper boot menu should appear.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/316-sdcard-reader/","title":"Dasharo Compatibility: SD Card Reader","text":""},{"location":"unified-test-documentation/dasharo-compatibility/316-sdcard-reader/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> <li>Insert an SD card into the SD Card reader.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/316-sdcard-reader/#sdc001001-sd-card-reader-detection-ubuntu-2204","title":"SDC001.001 SD Card reader detection (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the SD Card reader is enumerated correctly and can be detected from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>lspci | grep RTS522A\n</code></pre> <p>Expected result</p> <p>The output from the command should contain the line:</p> <pre><code>2d:00.0 Unassigned class [ff00]: Realtek Semiconductor Co., Ltd. RTS522A PCI Express Card Reader (rev 01)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/316-sdcard-reader/#sdc001002-sd-card-reader-detection-windows-11","title":"SDC001.002 SD Card reader detection (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the SD Card reader is enumerated correctly and can be detected from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open PowerShell as administrator.</li> <li> <p>Run below command and note result:</p> <pre><code>Get-PnpDevice -Status \"OK\" -Class \"MTD\"\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output of the command should contain basic information about mounted SD card reader.</p> <p>Output example:</p> <pre><code>Status     Class           FriendlyName\n------     -----           ------------\nOK         MTD             Realtek PCIE CardReader\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/316-sdcard-reader/#sdc002001-sd-card-readwrite-ubuntu-2204","title":"SDC002.001 SD Card read/write (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the SD Card reader is initialized correctly and can be used from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following commands as root:</li> </ol> <pre><code>dd if=/dev/urandom of=/tmp/in.bin bs=4K count=100\ndd if=/tmp/in.bin of=/dev/mmcblk0 bs=4K count=100\ndd if=/dev/mmcblk0 of=/tmp/out.bin bs=4K count=100\nsha256sum /tmp/in.bin /tmp/out.bin\n</code></pre> <p>Expected result</p> <p>The output from the last command should contain 2 identical checksums:</p> <pre><code>2083776668ed0c8095a9ac42188153c02f360e116c14b36d2ef5c98665d75dcb  /tmp/in.bin\n2083776668ed0c8095a9ac42188153c02f360e116c14b36d2ef5c98665d75dcb  /tmp/out.bin\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/316-sdcard-reader/#sdc002002-sd-card-readwrite-windows-11","title":"SDC002.002 SD Card read/write (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the SD Card reader is initialized correctly and can be used from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Determine the localization of the mounted SD card.</li> <li>Open PowerShell as administrator.</li> <li> <p>Run below commands and note results:</p> <pre><code>New-Item -Path \"${drive_lacation}:\\\" -Name \"testfile.txt\" -ItemType \"file\" -Value \"This is a test string.\"\nGet-Content -Path \"${drive_lacation}:\\testfile.txt\"\n</code></pre> </li> </ol> <p>Expected result</p> <p>Last command should return <code>This is a test string.</code></p>"},{"location":"unified-test-documentation/dasharo-compatibility/317-usb-camera/","title":"Dasharo Compatibility: USB Camera","text":""},{"location":"unified-test-documentation/dasharo-compatibility/317-usb-camera/#cam001001-usb-camera-ubuntu-2204","title":"CAM001.001 USB Camera (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the integrated USB camera is initialized correctly and can be accessed from the operating system</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> <li>Install ffprobe: <code>sudo apt install ffmpeg</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and run the following commands:</li> </ol> <pre><code>ffprobe /dev/video0\nffprobe /dev/video2\n</code></pre> <p>Expected result</p> <ol> <li> <p>The output from the first command should contain the lines:</p> <pre><code>Input #0, video4linux2,v4l2, from '/dev/video0':\nStream #0:0: Video: rawvideo (YUY2 / 0x32595559), yuyv422, 640x480, 147456 kb/s, 30 fps, 30 tbr, 1000k tbn, 1000k tbc\n</code></pre> </li> <li> <p>The output from the second command should contain the lines:</p> <pre><code>Input #0, video4linux2,v4l2, from '/dev/video2':\nStream #0:0: Video: rawvideo (Y800 / 0x30303859), gray, 640x360, 55296 kb/s, 30 fps, 30 tbr, 1000k tbn, 1000k tbc\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/317-usb-camera/#cam001002-usb-camera-windows-11","title":"CAM001.002 USB Camera (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the integrated USB camera is initialized correctly and can be accessed from the operating system</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Run PowerShell as administrator.</li> <li> <p>Execute below command and note the result:</p> <pre><code>Get-PnpDevice -PresentOnly | Where-Object { $_.InstanceId -match '^USB' }\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li> <p>Output should contain <code>Chicony USB2.0 Camera</code>. Example output:</p> <pre><code>Status     Class           FriendlyName\n------     -----           ------------\nOK         Camera          Chicony USB2.0 Camera\nOK         Bluetooth       Intel(R) Wireless Bluetooth(R)\nOK         Camera          IR Camera\nOK         USB             USB Root Hub (USB 3.0)\nOK         USB             USB Root Hub (USB 3.0)\nOK         USB             USB Composite Device\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/318-m2-wifi-bluetooth/","title":"Dasharo Compatibility: M.2 WiFi/Bluetooth","text":""},{"location":"unified-test-documentation/dasharo-compatibility/318-m2-wifi-bluetooth/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/318-m2-wifi-bluetooth/#wle001001-wireless-card-detection-ubuntu-2204","title":"WLE001.001 Wireless card detection (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi/Bluetooth card is enumerated correctly and can be detected from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>lspci | grep \"Network Controller\"\n</code></pre> <p>Expected result</p> <p>The output of the command should contain information about mounted on the board network controller.</p> <p>Example output:</p> <pre><code>2f:00.0 Network controller: Intel Corporation Wi-Fi 6 AX201 (rev 1a)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/318-m2-wifi-bluetooth/#wle001002-wireless-card-detection-windows-11","title":"WLE001.002 Wireless card detection (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi/Bluetooth card is enumerated correctly and can be detected from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open PowerShell and execute following command:</p> <pre><code>Get-PnpDevice -PresentOnly | Select-String -Pattern \"Wi-Fi\"\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain information about mounted on the board network controller.</p> <p>Example output:</p> <pre><code>Intel(R) Wi-Fi 6AX200 160MHz\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/318-m2-wifi-bluetooth/#wle002001-wi-fi-scanning-ubuntu-2204","title":"WLE002.001 Wi-Fi scanning (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi functionality of card is initialized correctly and can be used from within the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Make sure to have any Wi-Fi signal available.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following commands as root:</li> </ol> <pre><code>nmcli radio wifi on\nnmcli device wifi rescan\n# Wait ~5 seconds\nnmcli device wifi list\n</code></pre> <p>Expected result</p> <p>The output of the last command should return a list of available Wi-Fi networks, for example:</p> <pre><code>IN-USE  BSSID              SSID                    MODE   CHAN  RATE        SIGNAL  BARS  SECURITY\n        XX:XX:XX:XX:XX:XX  DIRECT-ny               Infra  6     65 Mbit/s   75      \u2582\u2584\u2586_  WPA2\n*       XX:XX:XX:XX:XX:XX  3mdeb_abr_5GHz          Infra  48    405 Mbit/s  72      \u2582\u2584\u2586_  WPA2\n        XX:XX:XX:XX:XX:XX  3mdeb_abr               Infra  11    54 Mbit/s   69      \u2582\u2584\u2586_  WPA2\n        XX:XX:XX:XX:XX:XX  FunBox2-F9BF_2.4GHz     Infra  1     130 Mbit/s  50      \u2582\u2584__  WPA1 WPA2\n        XX:XX:XX:XX:XX:XX  H_Office                Infra  2     270 Mbit/s  35      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-xpPhaser 3330    Infra  1     65 Mbit/s   34      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  Orange_Swiatlowod_A79A  Infra  108   540 Mbit/s  32      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-KRM288x Series   Infra  11    54 Mbit/s   22      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  Orange_Swiatlowod_A79A  Infra  11    130 Mbit/s  20      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-ejPhaser 3330    Infra  1     65 Mbit/s   17      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  NED-WIFI                Infra  11    270 Mbit/s  17      \u2582___  WPA2\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/318-m2-wifi-bluetooth/#wle002002-wi-fi-scanning-windows-11","title":"WLE002.002 Wi-Fi scanning (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi functionality of card is initialized correctly and can be used from within the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Make sure to have any Wi-Fi signal available</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open PowerShell and execute following command:</p> <pre><code>netsh wlan show network\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should return a list of available Wi-Fi networks.</p> <p>Output example:</p> <pre><code>SSID 1 : Orange_Swiatlowod_A79A\n    Network type            : Infrastructure\n    Authentication          : WPA2-Personal\n    Encryption              : CCMP\n\nSSID 2 : DIRECT-Y9Phaser 3330\n    Network type            : Infrastructure\n    Authentication          : WPA2-Personal\n    Encryption              : CCMP\n\nSSID 3 : 3mdeb_abr_5GHz\n    Network type            : Infrastructure\n    Authentication          : WPA2-Personal\n    Encryption              : CCMP\n\nSSID 4 : 3mdeb_abr\n    Network type            : Infrastructure\n    Authentication          : WPA2-Personal\n    Encryption              : CCMP\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/318-m2-wifi-bluetooth/#wle003001-bluetooth-scanning-ubuntu-2204","title":"WLE003.001 Bluetooth scanning (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the Bluetooth functionality of card is initialized correctly and can be used from within the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Enable Bluetooth and make it discoverable in any device nearby DUT.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following commands:</li> </ol> <pre><code>bluetoothctl\npower on\nscan on\n# Wait ~5 seconds\ndevices\n</code></pre> <p>Expected result</p> <p>The output of the last command should return a list of detectable Bluetooth devices, for example:</p> <pre><code>Device XX:XX:XX:XX:XX:XX Device 1\nDevice XX:XX:XX:XX:XX:XX Wojtek N\nDevice XX:XX:XX:XX:XX:XX Mi Smart Band 4\nDevice XX:XX:XX:XX:XX:XX Galaxy Watch4 Classic (PHLM)\nDevice XX:XX:XX:XX:XX:XX Galaxy Watch4 Classic (PHLM)\nDevice XX:XX:XX:XX:XX:XX Device 2\nDevice XX:XX:XX:XX:XX:XX [Signage] Samsung QMR Series\nDevice XX:XX:XX:XX:XX:XX [Signage] Samsung QMR Series\nDevice XX:XX:XX:XX:XX:XX Device 3\nDevice XX:XX:XX:XX:XX:XX Device 4\nDevice XX:XX:XX:XX:XX:XX Device 5\nDevice XX:XX:XX:XX:XX:XX Device 6\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/318-m2-wifi-bluetooth/#wle003002-bluetooth-scanning-windows-11","title":"WLE003.002 Bluetooth scanning (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the Bluetooth functionality of card is initialized correctly and can be used from within the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Enable Bluetooth and make it discoverable in any device nearby DUT</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Enter <code>Notification Center</code> in the bottom right part of the screen.</li> <li>Using right mouse button, click on the Bluetooth icon.</li> <li>In shown drop-down menu click <code>Go to settings</code>.</li> <li>Click the <code>+</code> icon described as <code>Add Bluetooth or other device</code>.</li> <li>In the <code>Add a device</code> menu, click <code>Bluetooth</code>.</li> <li>Wait a few moments until DUT scans for nearby Bluetooth devices and note    the result.</li> </ol> <p>Expected result</p> <p>Available Bluetooth devices should appear in the <code>Add a device</code> window.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/319-nvidia-graphics/","title":"Dasharo Compatibility: NVIDIA Graphics support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/319-nvidia-graphics/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/319-nvidia-graphics/#nvi001001-nvidia-graphics-detect-ubuntu-2204","title":"NVI001.001 NVIDIA Graphics detect (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the NVIDIA graphics card is correctly initialized and can be detected by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>lspci | grep -i nvidia\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li> <p>The command should return one line containing the name of the graphics    card, e.g:</p> <pre><code>2d:00.0 3D controller: NVIDIA Corporation TU117M (rev a1)\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/319-nvidia-graphics/#nvi001002-nvidia-graphics-detect-windows-11","title":"NVI001.002 NVIDIA Graphics detect (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the NVIDIA graphics card is correctly initialized and can be detected by the operating system</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the driver for the graphics card (GTX 1650) from     the official page.</li> </ol> <p>Test steps</p> <ol> <li>Run PowerShell as administrator and execute following command:</li> </ol> <pre><code>Get-WmiObject -Class Win32_VideoController | Select Description, Name, Status\n</code></pre> <p>Expected result</p> <ol> <li> <p>The output should contain the information about installed Nvidia Graphics     card.</p> <p>Example output:</p> <pre><code>Description                  Name                         Status\n-----------                  ----                         ------\nIntel(R) Iris(R) Xe Graphics Intel(R) Iris(R) Xe Graphics OK\nNVIDIA GeForce GTX 1650      NVIDIA GeForce GTX 1650      OK\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/319-nvidia-graphics/#nvi002001-nvidia-graphics-power-management-ubuntu-2204","title":"NVI002.001 NVIDIA Graphics power management (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the NVIDIA graphics power management is functional and the card powers on only while it's used.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li> <p>Install the package <code>mesa-utils</code> with the following command:</p> <pre><code>sudo apt install mesa-utils\n</code></pre> </li> </ol> <p>Test steps</p> <ol> <li>Open a terminal window.</li> <li> <p>Run the following command to see whether the card is off:</p> <pre><code>cat /sys/class/drm/card1/device/power/runtime_status\n</code></pre> </li> <li> <p>Launch a test application on the discrete graphics card using the following    command:</p> <pre><code>__NV_PRIME_RENDER_OFFLOAD=1 __GLX_VENDOR_LIBRARY_NAME=nvidia glxgears\n</code></pre> </li> <li> <p>Run the following command to see whether the card has turned on:</p> <pre><code>cat /sys/class/drm/card1/device/power/runtime_status\n</code></pre> </li> <li> <p>Close the test application and wait ~20 seconds to let the graphics card     shut itself down.</p> </li> <li> <p>Run the following command to see whether the card has turned off again:</p> <pre><code>cat /sys/class/drm/card1/device/power/runtime_status\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li>The output from the first command should be the word <code>suspended</code>.</li> <li>The output from the second command should be the word <code>active</code>.</li> <li>The output from the third command should be the word <code>suspended</code>.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/319-nvidia-graphics/#nvi002002-nvidia-graphics-power-management-windows-11","title":"NVI002.002 NVIDIA Graphics power management (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the NVIDIA graphics power management is functional and the card powers on only while it's used.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the driver for the graphics card (GTX 1650) from     the official page.</li> <li>Download and extract <code>gputest</code> from Geeks3D.</li> </ol> <p>Test steps</p> <ol> <li>Open the NVIDIA Control Panel window.</li> <li>In the menu bar, open the Desktop menu.</li> <li>Enable the <code>Display GPU Activity Icon in Notification Area</code> option.</li> <li>Open the system tray located in the bottom right corner of the screen    and locate the GPU activity icon:</li> </ol> <p></p> <ol> <li>Open the previously extracted gputest directory and open the <code>GPUTest_GUI</code>    application.</li> <li>Click on the <code>Run stress test</code> button to start the test application.</li> <li>Locate the GPU activity icon and check that it indicates that the GPU has    powered on.</li> <li>Close the test application.</li> <li>Locate the GPU activity icon and check that it indicates that the GPU has    powered off again.</li> </ol> <p>Expected result</p> <ol> <li>The GPU activity icon should indicate that the GPU is OFF when no application    is using the GPU.</li> <li>The GPU activity icon should indicate that the GPU is ON when an application    is using the GPU.</li> <li>The GPU activity icon should indicate that the GPU is OFF again after the    test application is closed.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31A-windows-booting/","title":"Dasharo Compatibility: Windows booting","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31A-windows-booting/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: Firmware.</li> <li>Proceed with the    Generic test setup: OS installation.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31A-windows-booting/#wbt001001-windows-11-installation-and-boot","title":"WBT001.001 Windows 11 installation and boot","text":"<p>Test description</p> <p>This test aims to verify that Windows 11 OS could be installed on the DUT and works properly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The Windows 11 login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31A-windows-booting/#wbt002001-windows-10-installation-and-boot","title":"WBT002.001 Windows 10 installation and boot","text":"<p>Test description</p> <p>This test aims to verify that Windows 10 OS could be installed on the DUT and works properly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 10</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The Windows 10 login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/","title":"Dasharo Compatibility: Display ports and LCD support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#dsp001001-internal-lcd-in-firmware","title":"DSP001.001 Internal LCD in firmware","text":"<p>Test description</p> <p>This test aims to verify initialization of the laptop's embedded LCD screen during firmware execution phase.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Observe the internal LCD during firmware execution phase.</li> <li>Power off the DUT.</li> </ol> <p>Expected result</p> <ol> <li>Logo appears on the screen during firmware execution phase.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#dsp001002-internal-lcd-in-os-ubuntu-2204","title":"DSP001.002 Internal LCD in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify initialization of the laptop's embedded LCD in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Observe the internal LCD after the <code>OPERATING_SYSTEM</code> has booted.</li> </ol> <p>Expected result</p> <ol> <li>Either the login screen or the <code>OPERATING_SYSTEM</code> installer appears on the     internal LCD.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#dsp001003-internal-lcd-in-os-windows-11","title":"DSP001.003 Internal LCD in OS (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify initialization of the laptop's embedded LCD in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log in by using the proper login and password.</li> <li>Observe the internal LCD after the <code>OPERATING_SYSTEM</code> has booted.</li> </ol> <p>Expected result</p> <ol> <li>Either the login screen or the <code>OPERATING_SYSTEM</code> installer appears on the     internal LCD.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#dsp002001-external-hdmi-display-in-os-ubuntu-2204","title":"DSP002.001 External HDMI display in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify initialization of the external HDMI display in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect an HDMI cable to the DUT and a display.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log in by using the proper login and password.</li> <li>If using more than one display, switch the display mode between <code>Mirror</code> and     <code>Join Displays</code>.</li> </ol> <p>Expected result</p> <ol> <li>The image should be displayed on the external HDMI display in <code>Mirror</code> and     <code>Join Displays</code> modes.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#dsp002002-external-hdmi-display-in-os-windows-11","title":"DSP002.002 External HDMI display in OS (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify initialization of the external HDMI display in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect a HDMI cable to the DUT and a display.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log in by using the proper login and password.</li> <li>If using more than one display, switch the display mode between <code>Duplicate</code>     and <code>Extend</code>.</li> </ol> <p>Expected result</p> <ol> <li>The image should be displayed on the external HDMI display in <code>Duplicate</code>     and <code>Extend</code> modes.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#dsp002003-external-hdmi-display-in-firmware","title":"DSP002.003 External HDMI display in firmware","text":"<p>This test aims to verify initialization of the external HDMI display during firmware execution phase.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Connect an HDMI cable to the DUT and a display.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Observe the external HDMI display during firmware execution phase.</li> <li>Power off the DUT.</li> </ol> <p>Expected result</p> <ol> <li>Logo appears on the screen during firmware execution phase.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#dsp003001-external-dp-display-in-os-ubuntu-2204","title":"DSP003.001 External DP display in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify initialization of the external Display Port connected in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect a Display Port cable to the DUT and a display.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log in by using the proper login and password.</li> <li>If using more than one display, switch the display mode between <code>Mirror</code> and     <code>Join Displays</code>.</li> </ol> <p>Expected result</p> <ol> <li>The image should be displayed on the external Display Port connected display     in <code>Mirror</code> and <code>Join Displays</code> modes.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#dsp003002-external-dp-display-in-os-windows-11","title":"DSP003.002 External DP display in OS (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify initialization of the external Display Port connected display in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect a Display Port cable to the DUT and a display.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log in by using the proper login and password.</li> <li>If using more than one display, switch the display mode between <code>Duplicate</code>     and <code>Extend</code>.</li> </ol> <p>Expected result</p> <ol> <li>The image should be displayed on the external Display Port connected display     in <code>Duplicate</code> and <code>Extend</code> modes.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#dsp003003-external-dp-display-in-firmware","title":"DSP003.003 External DP display in firmware","text":"<p>This test aims to verify initialization of the external Display Port connected display during firmware execution phase.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Connect a Display Port cable to the DUT and a display.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Observe the external Display Port connected display during firmware    execution phase.</li> <li>Power off the DUT.</li> </ol> <p>Expected result</p> <ol> <li>Logo appears on the screen during firmware execution phase.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#dsp004001-external-vga-display-in-os-ubuntu-2204","title":"DSP004.001 External VGA display in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify initialization of the external VGA in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect a video input connector to the VGA and a display.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log the  by using the proper login and password.</li> <li>If using more than one display, switch the display mode between <code>Mirror</code> and     <code>Join Displays</code>.</li> </ol> <p>Expected result</p> <ol> <li>The image should be displayed on the external VGA connected display in     <code>Mirror</code> and <code>Join Displays</code> modes.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#dsp004002-external-vga-display-in-os-windows-11","title":"DSP004.002 External VGA display in OS (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify initialization of the external VGA in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect a video input connector to the VGA and a display.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log the  by using the proper login and password.</li> <li>If using more than one display, switch the display mode between <code>Duplicate</code>     and <code>Extend</code>.</li> </ol> <p>Expected result</p> <ol> <li>The image should be displayed on the external Display Port connected display     in <code>Duplicate</code> and <code>Extend</code> modes.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31E-display-ports-and-lcd/#dsp004003-external-vga-display-in-firmware","title":"DSP004.003 External VGA display in firmware","text":"<p>This test aims to verify initialization of the external VGA during firmware execution phase.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Connect a video input connector to the VGA and a display.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>During boot, press <code>BOOT MENU KEY</code>.</li> <li>Observe the external VGA connected display during firmware execution phase.</li> <li>Power off the DUT.</li> </ol> <p>Expected result</p> <ol> <li>Boot menu appears on the screen during firmware execution phase.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/","title":"Dasharo Compatibility: Audio subsystem","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud001001-audio-subsystem-detection-ubuntu-2204","title":"AUD001.001 Audio subsystem detection (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is initialized correctly and can be detected from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>cat /sys/class/sound/card0/hwC0D*/chip_name\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output of the command should return a list of detected audio devices. Depending on mounted devices, the output might be different.</p> <p>Example output:</p> <pre><code>ALC293\nTigerlake HDMI\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud001002-audio-subsystem-detection-windows-11","title":"AUD001.002 Audio subsystem detection (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is initialized correctly and can be detected from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li> <p>Install package <code>AudioDeviceCmdlets</code>:</p> <pre><code>Install-PackageProvider -Name NuGet -Force\n</code></pre> <pre><code>Install-Module -Name AudioDeviceCmdlets -Force\n</code></pre> </li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Run PowerShell as administrator and execute the following command:</p> <pre><code>Get-AudioDevice -list  | ft Index, Default, Type, Name\n</code></pre> </li> </ol> <p>Expected result</p> <p><code>Microphone (Realtek(R) Audio)</code> and <code>Speakers (Realtek(R) Audio)</code> should be listed in the output:</p> <pre><code>Index Default Type      Name\n----- ------- ----      ----\n    1    True Playback  Speakers (Realtek(R) Audio)\n    2    True Recording Microphone (Realtek(R) Audio)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud002001-audio-playback-ubuntu-2204","title":"AUD002.001 Audio playback (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to playback audio recordings.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>alsa-utils</code> package:     <code>sudo apt install alsa-utils</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>pactl set-sink-mute alsa_output.pci-0000_00_1f.3.analog-stereo  0\npactl set-sink-volume alsa_output.pci-0000_00_1f.3.analog-stereo 65535\nspeaker-test\n</code></pre> </li> </ol> <p>Expected result</p> <p>Sound should be played from the integrated speakers.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud002002-audio-playback-windows-11","title":"AUD002.002 Audio playback (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to playback audio recordings.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Find the <code>Speakers</code> icon in the bottom right part of the screen and click     it using the left mouse button to open the volume menu.</li> <li>In the volume menu, click the rightmost part of it and note the result.</li> </ol> <p>Expected result</p> <p>Sound should be played from the integrated speakers.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud003001-audio-capture-ubuntu-2204","title":"AUD003.001 Audio capture (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to capture audio.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>alsa-utils</code> package:     <code>sudo apt install alsa-utils</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>arecord -f S16_LE -d 10 -r 16000 /tmp/test-mic.wav\n</code></pre> </li> <li> <p>Make some noise around DUT. For example, say something.</p> </li> <li> <p>Execute the following command:</p> <pre><code>aplay /tmp/test-mic.wav\n</code></pre> </li> </ol> <p>Expected result</p> <p>The recorded audio clip is recorded correctly and played back.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud003002-audio-capture-windows-11","title":"AUD003.002 Audio capture (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to capture audio.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Find the <code>Speakers</code> icon in the bottom right part of the screen and click     it using the right mouse button then using the left mouse button     click <code>Sound Settings</code>.</li> <li>Locate the <code>All sound device</code> bar and click on it.</li> <li>Select the <code>Microphone</code> position in the <code>Input devices</code> section.</li> <li>Click on the <code>Start Test</code> bar in the <code>Input settings</code> section.</li> <li>Create some noise for the DUT to capture and note the result.     For example, say something.</li> <li>Click on the <code>Stop Test</code> bar.</li> </ol> <p>Expected result</p> <ol> <li>The <code>Input volume</code> bar located in the <code>Input settings</code> section should raise when     some noise is being created.</li> <li>The result of the test after clicking the <code>Stop Test</code> bar should be more than     0% of the total volume.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud004001-external-headset-recognition-ubuntu-2204","title":"AUD004.001 External headset recognition (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the external headset is properly recognized after plugging the 3.5 mm jack into the slot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>alsa-utils</code> package:     <code>sudo apt install alsa-utils</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug a headset jack into a micro jack slot located on the right side of     the laptop.</li> <li>When the <code>Select Audio Device</code> menu appears, select what type of external     device has been connected to the laptop (headset).</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>amixer -c 0 contents | grep -A 2 'Front Headphone Jack'\n</code></pre> </li> <li> <p>Disconnect the headset from the laptop.</p> </li> <li> <p>Execute the following command again:</p> <pre><code>amixer -c 0 contents | grep -A 2 'Front Headphone Jack'\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li> <p>The output of the first command should not be empty and contains the line:</p> <pre><code>: values=on\n</code></pre> </li> <li> <p>The output of the second command should not be empty and contains the line:</p> <pre><code>: values=off\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud004002-external-headset-recognition-windows-11","title":"AUD004.002 External headset recognition (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the external headset is properly recognized after plugging the 3.5 mm jack into the slot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug a headset jack into a micro jack slot located on the right side of     the laptop.</li> <li>After the <code>Which device did you plug</code> in menu appears, select what type of     external device has been connected to the laptop (headset).</li> <li>Find the <code>Speakers</code> icon in the bottom right part of the screen and click it     using the right mouse button then using the left mouse button click     <code>Sound Settings</code>.</li> <li>Locate the <code>More sound settings</code> bar and click on it.</li> <li>Click on the <code>Speakers</code> bar using the right mouse button then using the left     mouse button click <code>Properties</code>.</li> <li>Locate in <code>General</code> the section field named <code>Jack Information</code>.</li> <li>Close the windows <code>Speakers Properties</code> and <code>Sound</code>.</li> <li>Disconnect a headset from the laptop.</li> <li>Repeat steps 7-9.</li> </ol> <p>Expected result</p> <ol> <li><code>Jack Information</code> field in the first case should show the position     <code>Front Panel 3.5 mm Jack</code>.</li> <li>After disconnecting a headset from the laptop and checking again field     <code>Jack Information</code> should not contain the phrase <code>Front Panel 3.5 mm Jack</code>.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud005001-external-headset-audio-playback-ubuntu-2204","title":"AUD005.001 External headset audio playback (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to playback audio recordings by using the external headset speakers.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>alsa-utils</code> package:     <code>sudo apt install alsa-utils</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug a headset jack into a micro jack slot located on the right side of the     laptop.</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>pactl set-sink-mute alsa_output.pci-0000_00_1f.3.analog-stereo  0\npactl set-sink-volume alsa_output.pci-0000_00_1f.3.analog-stereo 65535\nspeaker-test\n</code></pre> </li> </ol> <p>Expected result</p> <p>Sound should be played from external speakers.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud005002-external-headset-audio-playback-windows-11","title":"AUD005.002 External headset audio playback (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to playback audio recordings by using the external headset speakers.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug a headset jack into a micro jack slot located on the right side of the     laptop.</li> <li>Find the <code>Speakers</code> icon in the bottom right part of the screen and click    it using the left mouse button to open the volume menu.</li> <li>In the volume menu, click the rightmost part of it and note the result.</li> </ol> <p>Expected result</p> <p>Sound should be played from external speakers.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud006001-external-headset-audio-capture-ubuntu-2204","title":"AUD006.001 External headset audio capture (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to capture audio from an external headset.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>alsa-utils</code> package:     <code>sudo apt install alsa-utils</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug a headset jack into a micro jack slot located on the right side of the     laptop.</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>arecord -f S16_LE -d 10 -r 16000 /tmp/test-mic.wav\n</code></pre> </li> <li> <p>Make some noise for the headset. For example, say something.</p> </li> <li> <p>Execute the following command:</p> <pre><code>aplay /tmp/test-mic.wav\n</code></pre> </li> <li> <p>Execute the following command:</p> <pre><code>arecord -f S16_LE -d 10 -r 16000 /tmp/test-mic-1.wav\n</code></pre> </li> <li> <p>Make some noise for the DUT. For example, tap a few times in the laptop     casing.</p> </li> <li> <p>Execute the following command:</p> <pre><code>aplay /tmp/test-mic.wav\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li>During playback of the first recording, all noise that was made for the     headset should be clearly heard.</li> <li>During playback of the second recording, all noise that was made for DUT     should be quiet or not heard.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud006002-external-headset-audio-capture-windows-11","title":"AUD006.002 External headset audio capture (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to capture audio from an external headset.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug a headset jack into a micro jack slot located on the right side of the     laptop.</li> <li>Find the <code>Speakers</code> icon in the bottom right part of the screen and click     it using the right mouse button then using the left mouse button click     <code>Sound Settings</code>.</li> <li>Locate the <code>All sound device</code> bar and click on it.</li> <li>Select the <code>Microphone</code> position in the <code>Input devices</code> section.</li> <li>Click on the <code>Start Test</code> bar in the <code>Input settings</code> section.</li> <li>Create some noise for the headset to capture and note the result.     For example, say something.</li> <li>Create some noise for the DUT. For example, tap a few times in the laptop     casing.</li> <li>Click on the <code>Stop Test</code> bar.</li> </ol> <p>Expected result</p> <ol> <li>The <code>Input volume</code> bar located in the <code>Input settings</code> section should raise     when some noise has been created for the headset.</li> <li>The <code>Input volume</code> bar located in the <code>Input settings</code> section should not     raise when some noise has been created for the DUT.</li> <li>The result of the test after clicking the <code>Stop Test</code> bar should be more than     0% of the total volume.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud007001-hdmi-audio-recognition-ubuntu-2204","title":"AUD007.001 HDMI Audio recognition (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the output audio is properly assigned after connecting the external display using the HDMI cable.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>alsa-utils</code> package:     <code>sudo apt install alsa-utils</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Connect the external display to the HDMI slot.</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>amixer -c 0 contents | grep -A 2 'HDMI/DP,pcm=3'\n</code></pre> </li> <li> <p>Disconnect the headset from the laptop.</p> </li> <li> <p>Execute the following command again:</p> <pre><code>amixer -c 0 contents | grep -A 2 'HDMI/DP,pcm=3'\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li> <p>The output of the first command should not be empty and contains the line:</p> <pre><code>: values=on\n</code></pre> </li> <li> <p>The output of the second command should not be empty and contains the line:</p> <pre><code>: values=off\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud007002-hdmi-audio-recognition-windows-11","title":"AUD007.002 HDMI Audio recognition (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the output audio is properly assigned after connecting the external display using the HDMI cable.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Find the <code>Speakers</code> icon in the bottom right part of the screen and click it     using the right mouse button then using the left mouse button click     <code>Sound Settings</code>.</li> <li>Locate the <code>All sound device</code> bar and click on it.</li> <li>Locate the <code>Output devices</code> and <code>Input devices</code> section.</li> <li>Connect the external display to the HDMI slot.</li> </ol> <p>Expected result</p> <p>The connected display should appear in the <code>Output devices</code> and <code>Input devices</code> section.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud008001-hdmi-audio-playback-ubuntu-2204","title":"AUD008.001 HDMI audio playback (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to playback audio recordings by using the external display connected to the HDMI slot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>alsa-utils</code> package:     <code>sudo apt install alsa-utils</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Connect the external display to the HDMI slot.</p> </li> <li> <p>Open a terminal window and execute the following commands:</p> <pre><code>pacmd set-card-profile 0 output:hdmi-stereo\npactl set-sink-mute alsa_output.pci-0000_00_1f.3.analog-stereo  0\npactl set-sink-volume alsa_output.pci-0000_00_1f.3.analog-stereo 65535\nspeaker-test\n</code></pre> </li> </ol> <p>Expected result</p> <p>Sound should be played from the external display.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31F-audio-subsystem/#aud008002-hdmi-audio-playback-windows-11","title":"AUD008.002 HDMI audio playback (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to playback audio recordings by using the external display connected to the HDMI slot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Connect the external display to the HDMI slot.</li> <li>Find the <code>Speakers</code> icon in the bottom right part of the screen and click it     using the right mouse button then using the left mouse button click     <code>Sound Settings</code>.</li> <li>Locate the <code>All sound device</code> bar and click on it.</li> <li>Select the external display position in the <code>Output devices</code> section.</li> <li>Click on the <code>Test</code> bar in the <code>Output settings</code> section.</li> </ol> <p>Expected result</p> <p>Sound should be played from the external display.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/","title":"Dasharo Compatibility: Embedded Controller and Super I/O initialization","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr001001-battery-monitoring-charge-level-in-os-ubuntu-2204","title":"ECR001.001 Battery monitoring - charge level in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies whether the battery charge level is reported in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Locate the power menu in the upper right corner of the screen.</li> <li>Open the power menu and locate the battery status indicator.</li> </ol> <p>Expected result</p> <ol> <li>The battery status indicator should show the current charge level (percentage     left).</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr001002-battery-monitoring-charge-level-in-os-windows-11","title":"ECR001.002 Battery monitoring - charge level in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies whether the battery charge level is reported in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Locate the power menu in the lower right corner of the screen.</li> </ol> <p>Expected result</p> <ol> <li>The battery status indicator should show the current charge level (percentage     left).</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr001003-battery-start-charge-threshold","title":"ECR001.003 Battery start charge threshold","text":"<p>Test description</p> <p>The setup menu allows you to set your own threshold for the start of battery charging, which defines the level above which the battery will not start to charge. The aim of this test is to check that functionality.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Enter Dasharo Setup Menu</li> <li>Enter Dasharo System Features</li> <li>Enter Power Management Options</li> <li>Set Battery Start Charge Threshold to e.g. 60%</li> <li>Discharge the battery below the previously set level</li> <li>Charge battery above the previously set level</li> <li>Reconnect charging cable</li> </ol> <p>Expected result</p> <p>After reconnecting the charging cable, the battery should not start charging.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr001004-battery-stop-charge-threshold","title":"ECR001.004 Battery stop charge threshold","text":"<p>Test description</p> <p>The setup menu allows you to set your own threshold for the stop of battery charging, which defines the level above which the battery will stop charging. The aim of this test is to check that functionality.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Enter Dasharo Setup Menu</li> <li>Enter Dasharo System Features</li> <li>Enter Power Management Options</li> <li>Set Battery Stop Charge Threshold to desired value</li> <li>Wait until the battery is charged to the stop threshold.</li> </ol> <p>Expected result</p> <p>The battery should stop charging at stop threshold.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr002001-battery-monitoring-charging-state-in-os-ubuntu-2204","title":"ECR002.001 Battery monitoring - charging state in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the power supply state is detected correctly in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Locate the power menu in the upper right corner of the screen.</li> <li>Open the power menu and locate the battery status indicator.</li> <li>Note the current state.</li> <li>Unplug the power supply and wait for the battery charge state to change to     <code>Discharging</code>.</li> <li>Plug in the power supply and wait for the battery charge state to change to     <code>Charging</code>.</li> </ol> <p>Expected result</p> <ol> <li>The battery charge indicator should correctly show whether the power supply     is plugged in or not.</li> <li>The battery charge indicator should detect the AC adapter state change     within seconds of the adapter being plugged in/out.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr002002-battery-monitoring-charging-state-in-os-windows-11","title":"ECR002.002 Battery monitoring - charging state in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the power supply state is detected correctly in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Locate the power menu in the lower right corner of the screen.</li> <li>Open the power menu and locate the battery status indicator.</li> <li>Note the current state.</li> <li>Unplug the power supply and wait for the battery charge state to change to     <code>on battery</code>.</li> <li>Plug in the power supply and wait for the battery charge state to change to     <code>plugged in</code>.</li> </ol> <p>Expected result</p> <ol> <li>The battery charge indicator should correctly show whether the power supply    is plugged in or not.</li> <li>The battery charge indicator should detect the AC adapter state change    within seconds of the adapter being plugged in / out.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr003001-touchpad-in-os-ubuntu-2204","title":"ECR003.001 Touchpad in OS - (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the touchpad is initialized correctly and is detected by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install <code>libinput-tools</code> on the DUT.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Verify that the cursor can be moved with the touchpad and that clicking works     (test both clicking and tapping).</li> <li>Run <code>sudo libinput debug-events</code> in the terminal:<ol> <li>Verify that scrolling with 2 fingers generates a <code>POINTER_AXIS</code> event,</li> <li>Verify that pinching with 2 fingers generates a <code>GESTURE_PINCH_UPDATE</code> event.</li> </ol> </li> <li>Press <code>Ctrl + C</code> to terminate the <code>libinput</code> program.</li> </ol> <p>Expected result</p> <ol> <li>Moving the cursor, clicking, zooming and scrolling are detected correctly by    the operating system.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr003002-touchpad-in-os-windows-11","title":"ECR003.002 Touchpad in OS - (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the touchpad is initialized correctly and is detected by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Verify that the cursor can be moved with the touchpad and that clicking     works (test both clicking and tapping).</li> <li>Open <code>C:\\Windows</code> in <code>Windows Explorer</code><ol> <li>Verify that scrolling with 2 fingers moves the content of the window,</li> <li>Verify that pinching with 2 fingers zooms in and zooms out the content.</li> </ol> </li> </ol> <p>Expected result</p> <ol> <li>Moving the cursor, clicking, zooming and scrolling are detected correctly by    the operating system.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr004001-keyboard-standard-keypad-in-firmware","title":"ECR004.001 Keyboard (standard keypad) in firmware","text":"<p>Test description</p> <p>This test verifies that the keyboard is detected correctly by the firmware and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT and press the <code>BIOS_SETUP_KEY</code> to enter the setup menu.</li> <li>Use the arrow keys and the Enter key to navigate the menus.</li> </ol> <p>Expected result</p> <ol> <li>All menus can be entered using the internal keyboard.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr004002-keyboard-standard-keypad-in-os-ubuntu-2204","title":"ECR004.002 Keyboard (standard keypad) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the keyboard is detected correctly by the operating system and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install <code>libinput-tools</code> on the DUT.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Run <code>sudo libinput debug-events --show-keycodes</code> in the terminal.</li> <li>Press each keyboard key and check the generated keycode.</li> </ol> <p>Expected result</p> <ol> <li>All standard keyboard keys generate the correct keycodes and events as per     their labels.</li> <li>Key combinations are detected correctly.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr004003-keyboard-standard-keypad-in-os-windows-11","title":"ECR004.003 Keyboard (standard keypad) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the keyboard is detected correctly by the operating system and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open <code>notepad</code><ol> <li>Test the alphanumeric keys and note the generated characters</li> <li>Test non-alphanumeric keys and verify that they generate the signs</li> <li>Test key combinations with the <code>Shift</code>, and <code>Alt</code> modifier keys</li> </ol> </li> <li>Open <code>On-Screen Keyboard</code> and press <code>Ctrl</code> key on the hardware keyboard.    Check if <code>On-Screen Keyboard</code> correctly highlights it.</li> <li>Open <code>Start menu</code> and press <code>Esc</code>. Check if <code>Start menu</code> is properly closed.</li> </ol> <p>Expected result</p> <ol> <li>All standard keyboard keys generate correct characters    or actions when pressed.</li> <li>Key combinations are detected correctly.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr005001-keyboard-function-key-playpause-in-os-ubuntu-2204","title":"ECR005.001 Keyboard (function key: play/pause) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the play/pause hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install <code>libinput-tools</code> on the DUT.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Run <code>sudo libinput debug-events --show-keycodes</code> in the terminal.</li> <li>Verify that pressing the play/pause key generates a <code>KEY_PLAYPAUSE</code> event.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the play/pause hotkey generates a <code>KEY_PLAYPAUSE</code> event.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr005002-keyboard-function-key-playpause-in-os-windows-11","title":"ECR005.002 Keyboard (function key: play/pause) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the play/pause hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Start <code>Groove Music</code></li> <li>Verify that when pressing the <code>play/pause</code> button, player menu appears     in the upper left part of the screen for a few seconds.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the play/pause hotkey is properly detected by the OS</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr006001-keyboard-function-key-cooling-mode-in-os-ubuntu-2204","title":"ECR006.001 Keyboard (function key: cooling mode) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the cooling mode hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the cooling mode hotkey (Fn + 1) once and note the effect.</li> <li>Press the cooling mode hotkey once again and note the effect.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey once should activate the cooling mode (fans should    spin up to their maximum speed).</li> <li>Pressing the hotkey again should deactivate the cooling mode (fans should    return to normal).</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr006002-keyboard-function-key-cooling-mode-in-os-windows-11","title":"ECR006.002 Keyboard (function key: cooling mode) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the cooling mode hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the cooling mode hotkey (Fn + 1) once and note the effect.</li> <li>Press the cooling mode hotkey once again and note the effect.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey once should activate the cooling mode (fans should    spin up to their maximum speed).</li> <li>Pressing the hotkey again should deactivate the cooling mode (fans should    return to normal).</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr007001-keyboard-function-key-touchpad-onoff-in-os-ubuntu-2204","title":"ECR007.001 Keyboard (function key: touchpad on/off) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the touchpad on/off hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Proceed with the     Test cases common documentation section.</li> <li> <p>Create a file <code>/etc/udev/hwdb.d/60-keyboard.hwdb</code> with the following contents:</p> <pre><code>evdev:atkbd:dmi:bvn*:bvr*:svnNotebook:pnNV4XMB,ME,MZ:*\n         KEYBOARD_KEY_f7=191\nKEYBOARD_KEY_f8=191\n</code></pre> </li> <li> <p>Execute the following commands:</p> </li> </ol> <pre><code>sudo systemd-hwdb update\nsudo udevadm trigger\n</code></pre> <p>Test steps</p> <ol> <li>Press the touchpad on/off key and try to use the touchpad.</li> <li>Press the touchpad on/off key once again and try to use the touchpad again.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey once should deactivate the touchpad (touchpad should be    completely inoperable).</li> <li>Pressing the hotkey again should reactivate the touchpad.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr007002-keyboard-function-key-touchpad-onoff-in-os-windows-11","title":"ECR007.002 Keyboard (function key: touchpad on/off) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the touchpad on/off hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the touchpad on/off key and try to use the touchpad.</li> <li>Press the touchpad on/off key once again and try to use the touchpad again.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey once should deactivate the touchpad (touchpad should be    completely inoperable).</li> <li>Pressing the hotkey again should reactivate the touchpad.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr008001-keyboard-function-key-display-onoff-in-os-ubuntu-2204","title":"ECR008.001 Keyboard (function key: display on/off) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the display on/off hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the display on/off hotkey once and note the effect.</li> <li>Press any key on the keyboard and note the effect.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey once should turn the internal LCD panel off.</li> <li>Pressing any key on the keyboard should power the internal LCD panel back on.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr008002-keyboard-function-key-display-onoff-in-os-windows-11","title":"ECR008.002 Keyboard (function key: display on/off) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the display on/off hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the display on/off hotkey once and note the effect.</li> <li>Press any key on the keyboard and note the effect.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey once should turn the internal LCD panel off.</li> <li>Pressing any key on the keyboard should power the internal LCD panel     back on.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr009001-keyboard-function-key-mute-in-os-ubuntu-2204","title":"ECR009.001 Keyboard (function key: mute) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the volume mute hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the volume mute hotkey twice and note the effect each keypress has.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey should mute or unmute the currently enabled audio output.</li> <li>Each keypress should cause a mute/unmute notification to appear in the middle    of the screen.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr009002-keyboard-function-key-mute-in-os-windows-11","title":"ECR009.002 Keyboard (function key: mute) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the mute hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the mute hotkey once and check the volume indicator in the bottom right    part of the screen.</li> <li>Press the mute hotkey once and check the volume indicator again.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey once should mute the device</li> <li>Pressing the hotkey again should re-enable the sound</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr010001-keyboard-function-key-keyboard-backlight-in-os-ubuntu-2204","title":"ECR010.001 Keyboard (function key: keyboard backlight) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the keyboard backlight hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the keyboard backlight hotkey 6 times and note the effect on the    keyboard backlight after each keypress.</li> </ol> <p>Expected result</p> <ol> <li>The keyboard has 6 backlight settings from 0% to 100% Each keypress should    set the keyboard to the next mode, with the last mode wrapping back around    to the first.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr010002-keyboard-function-key-keyboard-backlight-in-os-windows-11","title":"ECR010.002 Keyboard (function key: keyboard backlight) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the keyboard backlight hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the keyboard backlight hotkey 6 times and note the effect on the    keyboard backlight after each keypress.</li> </ol> <p>Expected result</p> <ol> <li>The keyboard has 6 backlight settings from 0% to 100% Each keypress should    set the keyboard to the next mode, with the last mode wrapping back around    to the first.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr011001-keyboard-function-key-volume-down-in-os-ubuntu-2204","title":"ECR011.001 Keyboard (function key: volume down) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the volume down hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the volume down hotkey once and note the effects.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey should decrease the volume of the currently enabled audio    output.</li> <li>Each key press should cause a volume down notification to appear in the    middle of the screen.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr011002-keyboard-function-key-volume-down-in-os-windows-11","title":"ECR011.002 Keyboard (function key: volume down) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the volume down hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the volume down hotkey once and note the effects.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey should decrease the volume of the currently enabled audio    output.</li> <li>Each key press should cause a volume down notification to appear in the upper    left part of the screen.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr012001-keyboard-function-key-volume-up-in-os-ubuntu-2204","title":"ECR012.001 Keyboard (function key: volume up) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the volume up hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the volume up hotkey once and note the effects.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey should increase the volume of the currently enabled audio    output.</li> <li>Each key press should cause a volume up notification to appear in the middle    of the screen.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr012002-keyboard-function-key-volume-up-in-os-windows-11","title":"ECR012.002 Keyboard (function key: volume up) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the volume up hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the volume down hotkey once and note the effects.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey should increase the volume of the currently enabled audio    output.</li> <li>Each key press should cause a volume up notification to appear in the upper    left part of the screen.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr013001-keyboard-function-key-display-switch-in-os-ubuntu-2204","title":"ECR013.001 Keyboard (function key: display switch) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the display switch hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install <code>libinput-tools</code> on the DUT.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Run <code>sudo libinput debug-events --show-keycodes</code> in the terminal.</li> <li>Press the display switch hotkey once and note the effect.</li> </ol> <p>Expected result</p> <ol> <li> <p>Pressing the hotkey should yield the following output in the terminal:</p> <pre><code>-event3   KEYBOARD_KEY     +0.000s  KEY_LEFTMETA (125) pressed\n event3   KEYBOARD_KEY     +0.004s  KEY_P (25) pressed\n event3   KEYBOARD_KEY     +0.010s  KEY_P (25) released\n event3   KEYBOARD_KEY     +0.015s  KEY_LEFTMETA (125) released\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr013002-keyboard-function-key-display-switch-in-os-windows-11","title":"ECR013.002 Keyboard (function key: display switch) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the display switch hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the display switch hotkey once and note the effect.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey should cause the display settings bar to appear     on the right part of the screen.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr014001-keyboard-function-key-brightness-down-in-os-ubuntu-2204","title":"ECR014.001 Keyboard (function key: brightness down) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the brightness down hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test steps</p> <ol> <li>Press the brightness down hotkey once and note the effects.</li> </ol> <p>Expected result</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Pressing the hotkey should decrease the brightness of the internal LCD    display.</li> <li>Each key press should cause a brightness down notification to appear in the    middle of the screen.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr014002-keyboard-function-key-brightness-down-in-os-windows-11","title":"ECR014.002 Keyboard (function key: brightness down) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the brightness down hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the brightness down hotkey once and note the effects.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey should decrease the brightness of the internal LCD    display.</li> <li>Each key press should cause a brightness down notification to appear in the    top left of the screen.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr015001-keyboard-function-key-brightness-up-in-os-ubuntu-2204","title":"ECR015.001 Keyboard (function key: brightness up) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the brightness up hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the brightness up hotkey once and note the effects.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey should increase the brightness of the internal LCD    display.</li> <li>Each key press should cause a brightness up notification to appear in the    middle of the screen.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr015002-keyboard-function-key-brightness-up-in-os-windows-11","title":"ECR015.002 Keyboard (function key: brightness up) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the brightness down hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the brightness up hotkey once and note the effects.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey should increase the brightness of the internal LCD    display.</li> <li>Each key press should cause a brightness up notification to appear in the    top left of the screen.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr016001-keyboard-function-key-camera-onoff-in-os-ubuntu-2204","title":"ECR016.001 Keyboard (function key: camera on/off) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the camera on/off hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open the terminal and run the command: <code>watch -n1 lsusb</code>.</li> <li>Press the camera on/off hotkey twice and note the effect after each     keypress.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey once should make the     <code>Chicony Electronics Co., Ltd Chicony USB2.0 Camera</code> device disappear     from the output of <code>lsusb</code>.</li> <li>Pressing the hotkey again should make the USB device reappear.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr016002-keyboard-function-key-camera-onoff-in-os-windows-11","title":"ECR016.002 Keyboard (function key: camera on/off) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the camera on/off hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open the <code>Camera</code> app.</li> <li>Press the camera on/off hotkey twice and note the effect after    a few seconds after the keypress.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey once should make the camera image disappear.</li> <li>Pressing the hotkey again should make the camera image appear again    after a few seconds.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr017001-keyboard-function-key-flight-mode-in-os-ubuntu-2204","title":"ECR017.001 Keyboard (function key: flight mode) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the flight mode hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Locate and open the power menu in the upper right corner of the screen.</li> <li>Enter Settings and navigate to the Wi-Fi panel.</li> <li>Note the current state of the Airplane Mode switch.</li> <li>Press the flight mode hotkey twice and note the result of each keypress.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey once should enable airplane mode.</li> <li>Pressing the hotkey again should disable airplane mode.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr017002-keyboard-function-key-flight-mode-in-os-windows-11","title":"ECR017.002 Keyboard (function key: flight mode) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the flight mode hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the camera on/off hotkey twice and note the effect after the key press.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the hotkey once should enable airplane mode and cause    <code>airplane mode on</code> notification to appear in the top right    part of the screen.</li> <li>Pressing the hotkey again should disable airplane mode and cause    <code>airplane mode off</code> notification to appear in the top right    part of the screen.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr018001-keyboard-function-key-sleep-in-os-ubuntu-2204","title":"ECR018.001 Keyboard (function key: sleep) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the sleep hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the sleep hotkey once and note the result.</li> </ol> <p>Expected result</p> <ol> <li>The laptop should go to sleep within seconds of the hotkey being pressed.</li> <li>The power LED should be blinking green, indicating the laptop is sleeping.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr018002-keyboard-function-key-sleep-in-os-windows-11","title":"ECR018.002 Keyboard (function key: sleep) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the sleep hotkey works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Proceed with the     Installing updates and drivers     section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Wait 30 seconds for the system to load fully.</li> <li>Press the sleep hotkey once and note the result.</li> </ol> <p>Expected result</p> <ol> <li>The laptop should go to sleep within seconds of the hotkey being pressed.</li> <li>The power LED should be blinking green, indicating the laptop is sleeping.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr019001-buttons-button-power-in-os-ubuntu-2204","title":"ECR019.001 Buttons (button: power) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the power button is detected correctly by the operating system. In Ubuntu 22.04 OS the default function assigned to this key is suspend mode.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open the terminal and run the following command to check the power button     action:</p> <pre><code>gsettings get org.gnome.settings-daemon.plugins.power power-button-action\n</code></pre> </li> <li> <p>If the status is other than <code>suspend</code> run the following command to change    the power button action:</p> <pre><code>gsettings set org.gnome.settings-daemon.plugins.power power-button-action \"suspend\"\n</code></pre> </li> <li> <p>Check the power button action again by running the following command:</p> <pre><code>gsettings get org.gnome.settings-daemon.plugins.power power-button-action\n</code></pre> </li> <li> <p>Press the power button once and note the result.</p> </li> <li>Press <code>Enter</code> and note the result.</li> <li> <p>Run the following command to check last finished operation:</p> <pre><code>journalctl | grep systemd-logind | tail -1\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li>Pressing the button once should make laptop enter sleep mode.</li> <li>The power LED should be blinking green, indicating the laptop is sleeping.</li> <li>After completing the 5th step device should wake up.</li> <li> <p>The output of the last command should contain the line:</p> <pre><code>Operation 'sleep' finished\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr019002-buttons-button-power-in-os-windows-11","title":"ECR019.002 Buttons (button: power) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the power button is detected correctly by the operating system. In Windows 11 OS the default function assigned to this key is sleep mode.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Proceed with the     Installing updates and drivers     section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Wait 30 seconds for the system to load fully.</li> <li>Press the power button once and note the result.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the button once should make laptop enter sleep mode.</li> <li>The power LED should be blinking green, indicating the laptop is sleeping.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr020001-buttons-button-lid-switch-in-os-ubuntu-2204","title":"ECR020.001 Buttons (button: lid switch) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the lid switch is detected correctly by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open one terminal window and run the following command:</p> <pre><code>sudo systemd-inhibit --what handle-lid-switch --mode block watch echo \"Inhibiting lid switch\"\n</code></pre> </li> <li> <p>Open another terminal and run the command     <code>sleep 5 &amp;&amp; cat /proc/acpi/button/lid/LID0/state</code> to read the state of     the lid while it is closed.</p> </li> <li>Close the lid and wait 5 seconds.</li> <li>Open the lid and note the output of the command.</li> <li>Run the command <code>cat /proc/acpi/button/lid/LID0/state</code> while the lid is     open and note the output.</li> </ol> <p>Expected result</p> <ol> <li>The output of the second command should report that the lid is closed.</li> <li>The output of the third command should report that the lid is open.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr020002-buttons-button-lid-switch-in-os-windows-11","title":"ECR020.002 Buttons (button: lid switch) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the lid switch is detected correctly by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Proceed with the     Installing updates and drivers     section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Wait 30 seconds for the system to load fully.</li> <li>Close the lid and note the effect on the power LED.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the button once should make laptop enter sleep mode.</li> <li>The power LED should be blinking green, indicating the laptop is sleeping.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr021001-keyboard-function-key-rgb-keyboard-toggle-in-os-ubuntu-2204","title":"ECR021.001 Keyboard (function key: RGB keyboard toggle) in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the RGB keyboard toggle hotkey is handled properly by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the RGB keyboard toggle hotkey twice and note the result each time.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the button once should disable the keyboard backlight.</li> <li>Pressing the button again should re-enable the keyboard backlight.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr021002-keyboard-function-key-rgb-keyboard-toggle-in-os-windows-11","title":"ECR021.002 Keyboard (function key: RGB keyboard toggle) in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the RGB keyboard toggle hotkey is handled properly by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the RGB keyboard toggle hotkey twice and note the result each time.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the button once should disable the keyboard backlight.</li> <li>Pressing the button again should re-enable the keyboard backlight.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr022001-rgb-keyboard-next-color-fn-key-in-os-ubuntu-2204","title":"ECR022.001 RGB keyboard next color FN key in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the RGB keyboard's next color hotkey is handled properly by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the RGB keyboard color hotkey repeatedly until the keyboard cycles    through all color modes.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the button once should switch the keyboard color.</li> <li>All color modes according to product documentation should be accessible.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr022002-rgb-keyboard-next-color-fn-key-in-os-windows-11","title":"ECR022.002 RGB keyboard next color FN key in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the RGB keyboard's next color hotkey is handled properly by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the RGB keyboard color hotkey repeatedly until the keyboard cycles    through all color modes.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the button once should switch the keyboard color.</li> <li>All color modes according to product documentation should be accessible.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr023001-rgb-keyboard-brightness-down-fn-key-in-os-ubuntu-2204","title":"ECR023.001 RGB keyboard brightness down FN key in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the RGB keyboard brightness down hotkey is handled properly by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the RGB keyboard brightness down hotkey and note the result.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the button once should lower the keyboard backlight</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr023002-rgb-keyboard-brightness-down-fn-key-in-os-windows-11","title":"ECR023.002 RGB keyboard brightness down FN key in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the RGB keyboard brightness down hotkey is handled properly by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the RGB keyboard brightness down hotkey and note the result.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the button once should lower the keyboard backlight.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr024001-rgb-keyboard-brightness-up-fn-key-in-os-ubuntu-2204","title":"ECR024.001 RGB keyboard brightness up FN key in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the RGB keyboard brightness up hotkey is handled properly by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the RGB keyboard brightness up hotkey and note the result.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the button once should increase the keyboard backlight.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr024002-rgb-keyboard-brightness-up-fn-key-in-os-windows-11","title":"ECR024.002 RGB keyboard brightness up FN key in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the RGB keyboard brightness up hotkey is handled properly by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Press the RGB keyboard brightness up hotkey and note the result.</li> </ol> <p>Expected result</p> <ol> <li>Pressing the button once should increase the keyboard backlight.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr025001-permanent-keyboard-illumination-after-cold-boot-firmware","title":"ECR025.001 Permanent keyboard illumination after cold-boot (Firmware)","text":"<p>Test description</p> <p>This test aims to verify that after performing cold-boot, keyboard still illuminates in firmware.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT and press the <code>BIOS_SETUP_KEY</code> to enter the setup menu.</li> <li>Set keyboard brightness and color to arbitrary settings.</li> <li>Disconnect power source, and remove battery if present.</li> <li>Connect power and battery again.</li> <li>Power on the DUT again and press the <code>BIOS_SETUP_KEY</code> to enter the setup     menu.</li> </ol> <p>Expected result</p> <ol> <li>After cold-boot keyboard brightness and colors settings remain the same.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr025002-permanent-keyboard-illumination-after-cold-boot-ubuntu-2204","title":"ECR025.002 Permanent keyboard illumination after cold-boot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that after performing cold-boot, keyboard still illuminates in Ubuntu 22.04.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the <code>OPERATING_SYSTEM</code>.</li> <li>Log into the <code>OPERATING_SYSTEM</code> by using the proper login and password.</li> <li>Set keyboard brightness and color to arbitrary settings.</li> <li>Disconnect power source, and remove battery if present.</li> <li>Connect power and battery again.</li> <li>Power on the DUT.</li> <li>Boot into the <code>OPERATING_SYSTEM</code>.</li> <li>Log into the <code>OPERATING_SYSTEM</code> by using the proper login and password.</li> </ol> <p>Expected result</p> <ol> <li>After cold-boot keyboard brightness and colors settings remain the same.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr025003-permanent-keyboard-illumination-after-cold-boot-windows-11","title":"ECR025.003 Permanent keyboard illumination after cold-boot (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that after performing cold-boot, keyboard still illuminates in Windows 11.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the <code>OPERATING_SYSTEM</code>.</li> <li>Log into the <code>OPERATING_SYSTEM</code> by using the proper login and password.</li> <li>Set keyboard brightness and color to arbitrary settings.</li> <li>Disconnect power source, and remove battery if present.</li> <li>Connect power and battery again.</li> <li>Power on the DUT.</li> <li>Boot into the <code>OPERATING_SYSTEM</code>.</li> <li>Log into the <code>OPERATING_SYSTEM</code> by using the proper login and password.</li> </ol> <p>Expected result</p> <ol> <li>After cold-boot keyboard brightness and colors settings remain the same.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr026001-permanent-keyboard-illumination-after-warm-boot-firmware","title":"ECR026.001 Permanent keyboard illumination after warm-boot (Firmware)","text":"<p>Test description</p> <p>This test aims to verify that after performing warm-boot, keyboard still illuminates in firmware.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT and press the <code>BIOS_SETUP_KEY</code> to enter the setup menu.</li> <li>Set keyboard brightness and color to arbitrary settings.</li> <li>Power off the DUT using power button.</li> <li>Power on the DUT again and press the <code>BIOS_SETUP_KEY</code> to enter the setup     menu.</li> </ol> <p>Expected result</p> <ol> <li>After warm-boot keyboard brightness and colors settings remain the same.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr026002-permanent-keyboard-illumination-after-warm-boot-ubuntu-2204","title":"ECR026.002 Permanent keyboard illumination after warm-boot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that after performing warm-boot, keyboard still illuminates in Ubuntu 22.04.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the <code>OPERATING_SYSTEM</code>.</li> <li>Log into the <code>OPERATING_SYSTEM</code> by using the proper login and password.</li> <li>Set keyboard brightness and color to arbitrary settings.</li> <li>Power off the DUT using power button.</li> <li>Power on the DUT.</li> <li>Boot into the <code>OPERATING_SYSTEM</code>.</li> <li>Log into the <code>OPERATING_SYSTEM</code> by using the proper login and password.</li> </ol> <p>Expected result</p> <ol> <li>After warm-boot keyboard brightness and colors settings remain the same.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr026003-permanent-keyboard-illumination-after-warm-boot-windows-11","title":"ECR026.003 Permanent keyboard illumination after warm-boot (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that after performing warm-boot, keyboard still illuminates in Windows 11.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the <code>OPERATING_SYSTEM</code>.</li> <li>Log into the <code>OPERATING_SYSTEM</code> by using the proper login and password.</li> <li>Set keyboard brightness and color to arbitrary settings.</li> <li>Power off the DUT using power button.</li> <li>Power on the DUT.</li> <li>Boot into the <code>OPERATING_SYSTEM</code>.</li> <li>Log into the <code>OPERATING_SYSTEM</code> by using the proper login and password.</li> </ol> <p>Expected result</p> <ol> <li>After warm-boot keyboard brightness and colors settings remain the same.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr027001-permanent-keyboard-illumination-after-reboot-firmware","title":"ECR027.001 Permanent keyboard illumination after reboot (Firmware)","text":"<p>Test description</p> <p>This test aims to verify that after performing reboot, keyboard still illuminates in firmware.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT and press the <code>BIOS_SETUP_KEY</code> to enter the setup menu.</li> <li>Set keyboard brightness and color to arbitrary settings.</li> <li>Select <code>Reset</code> option from the bottom of the list.</li> <li>During boot press the <code>BIOS_SETUP_KEY</code> to enter the setup menu.</li> </ol> <p>Expected result</p> <ol> <li>After reboot keyboard brightness and colors settings remain the same.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr027002-permanent-keyboard-illumination-after-reboot-ubuntu-2204","title":"ECR027.002 Permanent keyboard illumination after reboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that after performing reboot, keyboard still illuminates in Ubuntu 22.04</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Set keyboard brightness and color to arbitrary settings.</li> <li> <p>Reboot the device using:</p> <pre><code>sudo reboot now\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li>After reboot keyboard brightness and colors settings remain the same.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr027003-permanent-keyboard-illumination-after-reboot-windows-11","title":"ECR027.003 Permanent keyboard illumination after reboot (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that after performing reboot, keyboard still illuminates in Windows 11.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Set keyboard brightness and color to arbitrary settings.</li> <li> <p>Reboot the device executing in PowerShell:</p> <pre><code>Restart-Computer\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li>After reboot keyboard brightness and colors settings remain the same.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr028001-permanent-keyboard-illumination-after-suspension-firmware","title":"ECR028.001 Permanent keyboard illumination after suspension (Firmware)","text":"<p>Test description</p> <p>This test aims to verify that after performing suspension, keyboard still illuminates in firmware.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>SUSPEND_KEY</code> = <code>Fn + F12</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT and press the <code>BIOS_SETUP_KEY</code> to enter the setup menu.</li> <li>Set keyboard brightness and color to arbitrary settings.</li> <li>Suspend the DUT using <code>SUSPEND_KEY</code>.</li> <li>Wake the device from suspend pressing any key on keyboard.</li> </ol> <p>Expected result</p> <ol> <li>After suspend keyboard brightness and colors settings remain the same.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr028002-permanent-keyboard-illumination-after-suspension-ubuntu-2204","title":"ECR028.002 Permanent keyboard illumination after suspension (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that after performing suspension, keyboard still illuminates in Ubuntu 22.04</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> <li><code>SUSPEND_KEY</code> = <code>Fn + F12</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Set keyboard brightness and color to arbitrary settings.</li> <li>Suspend the DUT using <code>SUSPEND_KEY</code>.</li> <li>Wake the device from suspend pressing any key on keyboard.</li> </ol> <p>Expected result</p> <ol> <li>After suspend keyboard brightness and colors settings remain the same.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr028003-permanent-keyboard-illumination-after-suspension-windows-11","title":"ECR028.003 Permanent keyboard illumination after suspension (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that after performing suspension, keyboard still illuminates in Windows 11.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> <li><code>SUSPEND_KEY</code> = <code>Fn + F12</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Set keyboard brightness and color to arbitrary settings.</li> <li>Suspend the DUT using <code>SUSPEND_KEY</code>.</li> <li>Wake the device from suspend pressing any key on keyboard.</li> </ol> <p>Expected result</p> <ol> <li>After suspend keyboard brightness and colors settings remain the same.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr029001-fnlock-hotkey-ubuntu-2204","title":"ECR029.001 FnLock Hotkey (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that FnLock hotkey functionality works properly on Ubuntu 22.04.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> <li><code>FN_LOCK_KEY</code> = <code>Fn + CapsLock</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Use <code>FN_LOCK_KEY</code> to activate Fn lock functionality.</li> <li>Test function keys <code>F1</code> - <code>F12</code> and note the results.</li> </ol> <p>Expected result</p> <ol> <li>The function keys <code>F1</code> - <code>F12</code> behave as if <code>Fn</code> key is pressed.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr029002-fnlock-hotkey-windows-11","title":"ECR029.002 FnLock Hotkey (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that FnLock hotkey functionality works properly on Windows 11.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> <li><code>FN_LOCK_KEY</code> = <code>Fn + CapsLock</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Use <code>FN_LOCK_KEY</code> to activate Fn lock functionality.</li> <li>Test function keys <code>F1</code> - <code>F12</code> and note the results.</li> </ol> <p>Expected result</p> <ol> <li>The function keys <code>F1</code> - <code>F12</code> behave as if <code>Fn</code> key is pressed.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr030001-charging-until-98-battery-level-ubuntu-2204","title":"ECR030.001 Charging until 98% battery level (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify if charging the battery stops when the battery level reaches 98% mark.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute following command to check current battery     charge level percentage:</p> <pre><code>cat /sys/class/power_supply/BAT0/capacity\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li>If the battery level sits below 95% mark, plug the charger into the DUT.</li> <li>If the battery level sits above 95% mark, wait until the DUT's battery     discharges to below 95% level and then plug the charger into the DUT.</li> <li>Wait until the DUT's battery charge level reaches 98%.</li> <li> <p>Open a terminal window and execute following command to confirm that the     battery charging stops at 98% mark:</p> <pre><code>cat /sys/class/power_supply/BAT0/status\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <ol> <li>The output of the <code>cat /sys/class/power_supply/BAT0/capacity</code> command should     contain information about the current battery charge level.</li> <li> <p>The output of the <code>cat /sys/class/power_supply/BAT0/status</code> command should     contain information about the current battery charging status.     Example output:</p> <pre><code>not charging\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#ecr030001-not-charging-between-95-and-98-levels-ubuntu-2204","title":"ECR030.001 Not charging between 95% and 98% levels (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify if charging the battery does not start after plugging in the charger into the DUT when the battery level sits between 95% and 98%.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute following command to check current battery     charge level percentage:</p> <pre><code>cat /sys/class/power_supply/BAT0/capacity\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li>If the battery level sits between 95% and 98%, plug the charger into the DUT.</li> <li>If the battery level sits below 95%, plug the charger into the DUT, wait     until the battery reaches the level between 95% and 98% and then unplug the     charger and plug it back in into the DUT.</li> <li> <p>Open a terminal window and execute following command to confirm that the     battery does not start charging:</p> <pre><code>cat /sys/class/power_supply/BAT0/status\n</code></pre> </li> <li> <p>The output of the <code>cat /sys/class/power_supply/BAT0/capacity</code> command should     contain information about the current battery charge level.</p> </li> <li> <p>The output of the <code>cat /sys/class/power_supply/BAT0/status</code> command should     contain information about the current battery charging status.     Example output:</p> <pre><code>not charging\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#sio001001-ps2-mouse-in-os-ubuntu-2204","title":"SIO001.001 PS/2 mouse in OS - (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the touchpad is initialized correctly and is detected by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect PS/2 mouse to the green PS/2 port on the board or the PS/2 splitter    (if the board has a unified, black PS/2 connector)</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Verify that the cursor can be moved with the PS/2 mouse and that clicking    works.</li> </ol> <p>Expected result</p> <ol> <li>Moving the cursor and clicking working correctly in the operating system.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#sio001002-ps2-mouse-in-os-windows-11","title":"SIO001.002 PS/2 mouse in OS - (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the touchpad is initialized correctly and is detected by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect PS/2 mouse to the green PS/2 port on the board or the PS/2 splitter    (if the board has a unified, black PS/2 connector)</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Verify that the cursor can be moved with the PS/2 mouse and that clicking    works.</li> </ol> <p>Expected result</p> <ol> <li>Moving the cursor and clicking working correctly in the operating system.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#sio002001-ps2-keyboard-in-firmware","title":"SIO002.001 PS/2 keyboard in firmware","text":"<p>Test description</p> <p>This test verifies that the keyboard is detected correctly by the firmware and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>BIOS_SETUP_KEY</code> = <code>Esc</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware</li> <li>Connect PS/2 keyboard to the violet PS/2 port on the board or the PS/2    splitter (if the board has a unified, black PS/2 connector)</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT and press the <code>BIOS_SETUP_KEY</code> to enter the setup menu.</li> <li>Use the arrow keys and the Enter key to navigate the menus.</li> </ol> <p>Expected result</p> <ol> <li>All menus can be entered using the PS/2 keyboard.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#sio002002-ps2-keyboard-in-os-ubuntu-2204","title":"SIO002.002 PS/2 keyboard in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the keyboard is detected correctly by the operating system and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>BIOS_SETUP_KEY</code> = <code>Esc</code></li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect PS/2 keyboard to the violet PS/2 port on the board or the PS/2    splitter (if the board has a unified, black PS/2 connector)</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Run <code>sudo libinput debug-events --show-keycodes</code> in the terminal.</li> <li>Press keyboard keys and check the generated keycode.</li> </ol> <p>Expected result</p> <ol> <li>All standard keyboard keys generate the correct keycodes and events as per    their labels.</li> <li>Key combinations are detected correctly.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#sio002003-ps2-keyboard-in-os-windows-11","title":"SIO002.003 PS/2 keyboard in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the keyboard is detected correctly by the operating system and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect PS/2 keyboard to the violet PS/2 port on the board or the PS/2    splitter (if the board has a unified, black PS/2 connector)</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open <code>notepad</code><ul> <li>Test the alphanumeric keys and note the generated characters</li> <li>Test non-alphanumeric keys and verify that they generate the signs</li> <li>Test key combinations with the <code>Shift</code>, and <code>Alt</code> modifier keys</li> </ul> </li> <li>Open <code>On-Screen Keyboard</code> and press <code>Ctrl</code> key on the hardware keyboard.    Check if <code>On-Screen Keyboard</code> correctly highlights it.</li> <li>Open <code>Start menu</code> and press <code>Esc</code>. Check if <code>Start menu</code> is properly closed.</li> </ol> <p>Expected result</p> <ol> <li>All standard keyboard keys generate correct characters    or actions when pressed.</li> <li>Key combinations are detected correctly.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#sio003001-ps2-keyboard-wake-in-os-ubuntu-2204","title":"SIO003.001 PS/2 keyboard wake in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the keyboard is detected correctly by the operating system and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>BIOS_SETUP_KEY</code> = <code>Esc</code></li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect PS/2 keyboard to the violet PS/2 port on the board or the PS/2    splitter (if the board has a unified, black PS/2 connector)</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Suspend the system to RAM.</li> <li>Press a keyboard key to wake the platform.</li> </ol> <p>Expected result</p> <ol> <li>Platform is resuming to the OS from sleep after pressing the key.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#sio003002-ps2-keyboard-wake-in-os-windows-11","title":"SIO003.002 PS/2 keyboard wake in OS (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the keyboard is detected correctly by the operating system and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect PS/2 keyboard to the violet PS/2 port on the board or the PS/2    splitter (if the board has a unified, black PS/2 connector)</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Suspend the system to RAM.</li> <li>Press a keyboard key to wake the platform.</li> </ol> <p>Expected result</p> <ol> <li>Platform is resuming to the OS from sleep after pressing the key.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#sio004001-serial-port-in-firmware","title":"SIO004.001 Serial port in firmware","text":"<p>Test description</p> <p>This test verifies that the serial port is detected correctly by the firmware and the menu can be traversed with serial console.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>BIOS_SETUP_KEY</code> = <code>Esc</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware</li> <li>Connect DB9 null modem cable to RS232/USB adapter and the onboard serial    port connector.</li> </ol> <p>Test steps</p> <ol> <li>Open the terminal emulator, e.g. minicom, on the RS232/USB adapter.</li> <li>Power on the DUT and press the <code>BIOS_SETUP_KEY</code> to enter the setup menu.</li> <li>Use the arrow keys and the Enter key to navigate the menus.</li> </ol> <p>Expected result</p> <ol> <li>All menus can be entered using the serial console.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31G-ec-and-superio/#sio004002-serial-port-in-os-ubuntu-2204","title":"SIO004.002 Serial port in OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the serial port is detected correctly by the operating system and can be utilized as serial console.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>BIOS_SETUP_KEY</code> = <code>Esc</code></li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect DB9 null modem cable to RS232/USB adapter and the onboard serial    port connector.</li> <li>Configure Linux kernel parameters to use serial console, e.g.    <code>console=ttyS0,115200</code></li> </ol> <p>Test steps</p> <ol> <li>Open the terminal emulator, e.g. minicom, on the RS232/USB adapter.</li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password through serial    console.</li> </ol> <p>Expected result</p> <ol> <li>Serial port can be used as Linux console to log in.</li> <li>Serial port can be used to execute commands in bash/shell.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/","title":"Dasharo Compatibility: USB-C/Thunderbolt support with charging and display","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc001001-usb-type-a-charging-capability","title":"UTC001.001 USB Type-A charging capability","text":"<p>Test description</p> <p>This test verifies that the USB-A ports are able to provide charging to a connected smartphone.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Connect a phone to the USB Type-A port located on the left side of the laptop     using a USB cable.</li> <li>Note the charging status on the phone screen.</li> <li>Connect a phone to the USB Type-A port located on the right side of the laptop     using a USB cable.</li> <li>Note the charging status on the phone screen.</li> </ol> <p>Expected result</p> <ol> <li>The smartphone should indicate that it's charging when connected to either     USB Type-A port.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc002001-thunderbolt-4-usb-type-c-power-output","title":"UTC002.001 Thunderbolt 4 USB Type-C power output","text":"<p>Test description</p> <p>This test verifies that the Thunderbolt 4 port is able to provide charging to a USB Type-C accessory.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Connect a phone to the Thunderbolt 4 USB Type-C port located on the left side     of the laptop using a USB cable.</li> <li>Note the charging status on the phone screen.</li> </ol> <p>Expected result</p> <ol> <li>The smartphone should indicate that it's charging.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc003001-usb-type-c-pd-power-input-ubuntu-2204","title":"UTC003.001 USB Type-C PD power input (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that the device can sink power from a USB-PD power supply connected to the Thunderbolt 4 port.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Disconnect any charger from the DUT.</li> <li>Connect the charger plug to the docking station.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>cat /sys/class/power_supply/BAT0/status\n</code></pre> </li> </ol> <p>Expected result</p> <p>Output of the command should show one of this: <code>Charging</code> or <code>Full</code>. That means laptop is charged properly.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc003002-usb-type-c-pd-power-input-windows-11","title":"UTC003.002 USB Type-C PD power input (Windows 11)","text":"<p>Test description</p> <p>This test verifies that the device can sink power from a USB-PD power supply connected to the Thunderbolt 4 port.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Disconnect any charger from the DUT.</li> <li>Connect the charger plug to the docking station.</li> <li> <p>Open PowerShell and and run the following command:</p> <pre><code>Get-WmiObject win32_battery\n</code></pre> </li> </ol> <p>Expected result</p> <p>If <code>BatteryStatus</code> is equal 2, that means laptop is charged properly.</p> <p>Example part of output:</p> <pre><code>BatteryStatus               : 2\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc004001-usb-type-c-display-output-ubuntu-2204","title":"UTC004.001 USB Type-C Display output (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that DUT output video to a display connected via the Thunderbolt 4 USB Type-C port.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Connect a display to the Thunderbolt 4 USB Type-C port using     a USB Type-C hub</li> <li>Open the Settings application and select the Displays panel in the left menu.</li> <li>Verify that the attached external monitor can be selected.</li> <li>Select and enable the monitor.</li> </ol> <p>Expected result</p> <ol> <li>The monitor connected to the laptop via the Thunderbolt 4 port should power    on and display video from the laptop.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc004002-usb-type-c-display-output-windows-11","title":"UTC004.002 USB Type-C Display output (Windows 11)","text":"<p>Test description</p> <p>This test verifies that DUT output video to a display connected via the Thunderbolt 4 USB Type-C port.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Connect a display to the Thunderbolt 4 USB Type-C port using     a USB Type-C hub.</li> <li>Right click on the desktop to open the desktop context menu.</li> <li>Select <code>Display Settings</code> to open the display settings window.</li> <li>Verify that the attached external monitor can be selected.</li> <li>Select and enable the monitor.</li> </ol> <p>Expected result</p> <ol> <li>The monitor connected to the laptop via the Thunderbolt 4 port should power    on and display video from the laptop.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc005001-usb-type-c-docking-station-hdmi-display-ubuntu-2204","title":"UTC005.001 USB Type-C docking station HDMI display (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the display connected with the HDMI cable to the docking station is correctly recognized by the <code>OPERATING_SYSTEM</code>.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect an HDMI cable to the docking station and a display.</li> <li> <p>The <code>USB-C docking station</code> connected to the USB-C port.</p> <p>If the docking station is not directly connected to the DUT, but with a USB-C to USB-C cable, make sure it is full-featured cable (&gt;=5Gbps) with 5A current capability.</p> </li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>If using more than one display, switch the display mode between <code>Mirror</code> and    <code>Join Displays</code>.</li> </ol> <p>Expected result</p> <p>The image should be displayed on the external HDMI-connected display in <code>Mirror</code> and <code>Join Displays</code> modes.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc005002-usb-type-c-docking-station-hdmi-display-windows-11","title":"UTC005.002 USB Type-C docking station HDMI display (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the display connected with the HDMI cable to the docking station is correctly recognized by the <code>OPERATING_SYSTEM</code>.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect an HDMI cable to the docking station and a display.</li> <li> <p>The <code>USB-C docking station</code> connected to the USB-C port.</p> <p>If the docking station is not directly connected to the DUT, but with a USB-C to USB-C cable, make sure it is full-featured cable (&gt;=5Gbps) with 5A current capability.</p> </li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>If using more than one display, switch the display mode between <code>Duplicate</code>    and <code>Extend</code>.</li> </ol> <p>Expected result</p> <p>The image should be displayed on the external HDMI-connected display in <code>Duplicate</code> and <code>Extend</code> modes.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc006001-usb-type-c-docking-station-dp-display-ubuntu-2204","title":"UTC006.001 USB Type-C docking station DP display (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the display connected with the HDMI cable to the docking station is correctly recognized by the <code>OPERATING_SYSTEM</code>.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect a Display Port cable to the docking station and a display.</li> <li> <p>The <code>USB-C docking station</code> connected to the USB-C port.</p> <p>If the docking station is not directly connected to the DUT, but with a USB-C to USB-C cable, make sure it is full-featured cable (&gt;=5Gbps) with 5A current capability.</p> </li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>If using more than one display, switch the display mode between <code>Mirror</code> and    <code>Join Displays</code>.</li> </ol> <p>Expected result</p> <p>The image should be displayed on the external DisplayPort-connected display in <code>Mirror</code> and <code>Join Displays</code> modes.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc006002-usb-type-c-docking-station-dp-display-windows-11","title":"UTC006.002 USB Type-C docking station DP display (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the display connected with the DisplayPort cable to the docking station is correctly recognized by the <code>OPERATING_SYSTEM</code>.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect a DisplayPort cable to the docking station and a display.</li> <li> <p>The <code>USB-C docking station</code> connected to the USB-C port.</p> <p>If the docking station is not directly connected to the DUT, but with a USB-C to USB-C cable, make sure it is full-featured cable (&gt;=5Gbps) with 5A current capability.</p> </li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>If using more than one display, switch the display mode between <code>Duplicate</code>    and <code>Extend</code>.</li> </ol> <p>Expected result</p> <p>The image should be displayed on the external DisplayPort-connected display in <code>Duplicate</code> and <code>Extend</code> modes.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc007001-usb-type-c-docking-station-triple-display-ubuntu-2204","title":"UTC007.001 USB Type-C docking station Triple display (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the three display simultaneously connected to the docking station is correctly recognized by the <code>OPERATING_SYSTEM</code>.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect three displays using HDMI/DisplayPort cables, depending on the    specifications of the docking station.</li> <li> <p>The <code>USB-C docking station</code> connected to the USB-C port.</p> <p>If the docking station is not directly connected to the DUT, but with a USB-C to USB-C cable, make sure it is full-featured cable (&gt;=5Gbps) with 5A current capability.</p> </li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Switch the display mode between <code>Mirror</code> and <code>Join Displays</code>.</li> </ol> <p>Expected result</p> <p>The image should be displayed on the three external displays in <code>Mirror</code> and <code>Join Displays</code> modes.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc007002-usb-type-c-docking-station-triple-display-windows-11","title":"UTC007.002 USB Type-C docking station Triple display (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the three display simultaneously connected to the docking station is correctly recognized by the <code>OPERATING_SYSTEM</code>.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect three displays using HDMI/DisplayPort cables, depending on the    specifications of the docking station.</li> <li> <p>The <code>USB-C docking station</code> connected to the USB-C port.</p> <p>If the docking station is not directly connected to the DUT, but with a USB-C to USB-C cable, make sure it is full-featured cable (&gt;=5Gbps) with 5A current capability.</p> </li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>If using more than one display, switch the display mode between <code>Duplicate</code>    and <code>Extend</code>.</li> </ol> <p>Expected result</p> <p>The image should be displayed on the three external displays in <code>Duplicate</code> and <code>Extend</code> modes.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc008001-usb-type-c-docking-station-detection-after-coldboot-ubuntu-2204","title":"UTC008.001 USB Type-C docking station detection after coldboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the DUT properly detects the docking station after coldboot (realized by power supply cutting off then restoring back). This test case may be re-done several times to specify the platform and connection stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>After <code>lsusb</code> command the docking station entries should be displayed, but output can be different depending on the model of the docking station.</p> <p>Example entries signifing the docking station:</p> <pre><code>Bus 002 Device 010: Realtek Semiconductor Corp. RTL8153 Gigabit Ethernet Adapter\nBus 002 Device 009: Prolific Technology, Inc. USB SD Card Reader\nBus 002 Device 008: VIA Labs, Inc. USB3.0 Hub\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc009001-usb-type-c-docking-station-detection-after-warmboot-ubuntu-2204","title":"UTC009.001  USB Type-C docking station detection after warmboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the DUT properly detects the docking station after warmboot (realized by device turning off then turning on). This test case may be re-done several times to specify the platform and connection stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>After <code>lsusb</code> command the docking station entries should be displayed, but output can be different depending on the model of the docking station.</p> <p>Example entries signifing the docking station:</p> <pre><code>Bus 002 Device 010: Realtek Semiconductor Corp. RTL8153 Gigabit Ethernet Adapter\nBus 002 Device 009: Prolific Technology, Inc. USB SD Card Reader\nBus 002 Device 008: VIA Labs, Inc. USB3.0 Hub\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc010001-usb-type-c-docking-station-detection-after-reboot-ubuntu-2204","title":"UTC010.001 USB Type-C docking station detection after reboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the DUT properly detects the docking station after system reboot (performed by relevant command). This test case may be re-done several times to specify the platform and connection stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo reboot\n</code></pre> </li> <li> <p>Boot into the system.</p> </li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>After <code>lsusb</code> command the docking station entries should be displayed, but output can be different depending on the model of the docking station.</p> <p>Example entries signifing the docking station:</p> <pre><code>Bus 002 Device 010: Realtek Semiconductor Corp. RTL8153 Gigabit Ethernet Adapter\nBus 002 Device 009: Prolific Technology, Inc. USB SD Card Reader\nBus 002 Device 008: VIA Labs, Inc. USB3.0 Hub\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc011001-usb-type-c-docking-station-usb-devices-recognition-firmware","title":"UTC011.001 USB Type-C docking station USB devices recognition (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the external USB devices connected to the docking station are recognized correctly by the <code>FIRMWARE</code>.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> <li>The <code>USB storage</code> connected to the <code>USB-C docking station</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BIOS_MENU_KEY</code> to enter the BIOS Menu.</li> <li>Check if the <code>USB storage</code> is available on the list.</li> </ol> <p>Expected result</p> <p>The <code>USB storage</code> is available which confirms successful recognition.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc011002-usb-type-c-docking-station-usb-devices-recognition-ubuntu-2204","title":"UTC011.002 USB Type-C docking station USB devices recognition (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the external USB devices connected to the docking station are recognized correctly by the <code>OPERATING_SYSTEM</code>.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> <li>The <code>USB storage</code> connected to the <code>USB-C docking station</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>watch -n1 lsusb\n</code></pre> </li> <li> <p>Connect(or Disconnect) external USB devices to the USB ports on the docking     station and note the result.</p> </li> </ol> <p>Expected result</p> <ol> <li>After each device is connected to the USB port, a new USB device entry     in <code>lsusb</code> command output should appear.</li> <li>After each device is disconnected from the USB port, a USB device entry     in <code>lsusb</code> command output should disappear.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc011003-usb-type-c-docking-station-usb-devices-recognition-windows-11","title":"UTC011.003 USB Type-C docking station USB devices recognition (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the external USB devices connected to the docking station are recognized correctly by the <code>OPERATING_SYSTEM</code>.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> <li>The <code>USB storage</code> connected to the <code>USB-C docking station</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open PowerShell and and run the following command:</p> <pre><code>Get-PnpDevice -PresentOnly | Where-Object { $_.InstanceId -match '^USB' }\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>After executing the command, a list containing all USB devices should be displayed. The list should contain the <code>USB storage</code>, which is plug in.</p> <pre><code>Example output:\n\n```bash\n    Status     Class           FriendlyName\n    ------     -----           ------------\n    OK         DiskDrive       Mass Storage Device USB Device\n    OK         USB             Generic USB Hub\n    OK         HIDClass        USB Input Device\n    OK         Bluetooth       Intel(R) Wireless Bluetooth(R)\n    OK         DiskDrive       USB SanDisk 3.2Gen1 USB Device\n    OK         USB             USB Root Hub (USB 3.0)\n    OK         Net             TP-LINK Gigabit Ethernet USB Adapter\n    OK         USB             Generic USB Hub\n    OK         USB             USB Mass Storage Device\n```\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc012001-usb-type-c-docking-station-usb-keyboard-firmware","title":"UTC012.001 USB Type-C docking station USB keyboard (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the external USB keyboard connected to the docking station is detected correctly by the <code>FIRMWARE</code> and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> <li>The <code>external USB keyboard</code> connected to the docking station.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT</li> <li>Hold the <code>BIOS_MENU_KEY</code> to enter the Bios Menu.</li> <li>Use the arrow keys, Esc key and the Enter key to navigate the menus.</li> </ol> <p>Expected result</p> <p>All menus can be entered using the external USB keyboard.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc012002-usb-type-c-docking-station-usb-keyboard-ubuntu-2204","title":"UTC012.002 USB Type-C docking station USB keyboard (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the external USB keyboard connected to the docking station is detected correctly by the <code>OPERATING_SYSTEM</code> and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>libinput-tools</code> package: <code>sudo apt install libinput-tools</code>.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> <li>The <code>external USB keyboard</code> connected to the docking station.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Run the following command in the terminal:</p> <pre><code>libinput debug-events --show-keycodes\n</code></pre> </li> <li> <p>Test the alphanumeric keys and note the generated keycodes.</p> </li> <li>Test non-alphanumeric keys and verify that they generate the correct     keycodes.</li> <li>Test key combinations with the <code>Shift</code>, <code>Ctrl</code> and <code>Alt</code> modifier keys     (this tests 2-key rollover).</li> </ol> <p>Expected result</p> <ol> <li>The external USB keyboard is detected in OS.</li> <li>All standard keyboard keys generate the correct keycodes and events as per    their labels.</li> <li>Key combinations are detected correctly.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc012003-usb-type-c-docking-station-usb-keyboard-windows-11","title":"UTC012.003 USB Type-C docking station USB keyboard (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the external USB keyboard is detected correctly by the <code>OPERATING_SYSTEM</code> and all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> <li>The external USB keyboard connected to the docking station.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open PowerShell and and run the following command:</p> <pre><code>Get-CimInstance win32_KEYBOARD\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li>Open <code>notepad</code>.</li> <li>Test the alphanumeric keys and note the generated characters.</li> <li>Test non-alphanumeric keys and verify that they generate the signs.</li> <li>Test key combinations with the <code>Shift</code>, and <code>Alt</code> modifier keys.</li> <li>Open <code>On-Screen Keyboard</code> and press <code>Ctrl</code> key on the hardware keyboard.    Check if <code>On-Screen Keyboard</code> correctly highlights it.</li> <li>Open <code>Start menu</code> and press <code>Esc</code>. Check if <code>Start menu</code> is properly closed.</li> </ol> <p>Expected result</p> <ol> <li> <p>After running the PowerShell command information about connected keyboards     should be displayed.</p> <p>One of keyboard should have identical part of output:</p> <pre><code>Description                 : USB Input Device\n</code></pre> </li> <li> <p>All standard keyboard keys generate correct characters    or actions when pressed.</p> </li> <li>Key combinations are detected correctly.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc013001-usb-type-c-docking-station-upload-1gb-file-on-usb-storage-ubuntu-2204","title":"UTC013.001 USB Type-C docking station upload 1GB file on USB storage (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the 1GB file can be transferred from the <code>OPERATING_SYSTEM</code> to the <code>USB storage</code> connected to the docking station.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> <li>The <code>USB storage</code> connected to the <code>USB-C docking station</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command to generate 1GB file:</p> <pre><code>openssl rand -out test_file.txt -base64 $(( 2**30 * 3/4 ))\n</code></pre> </li> <li> <p>Read the path to the <code>USB storage</code> by running the following command:</p> <pre><code>lsblk\n</code></pre> </li> <li> <p>Copy the generated file to the <code>USB storage</code> by running the following    command:</p> <pre><code>cp test_file.txt {path_to_usb_storage}\n</code></pre> </li> <li> <p>Verify that the files are the same by running the following command:</p> <pre><code>sha256sum test_file.txt {path_to_usb_storage}/test_file.txt\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output from the last command should contain 2 identical checksums:</p> <pre><code>f46597c0c63a1eefb200d40edf654e52f10c3d5d21565886ad603fabaf8d39fb  test_file.txt\nf46597c0c63a1eefb200d40edf654e52f10c3d5d21565886ad603fabaf8d39fb  {path_to_usb_storage}/test_file.txt\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc013002-usb-type-c-docking-station-upload-1gb-file-on-usb-storagewindows-11","title":"UTC013.002 USB Type-C docking station upload 1GB file on USB storage(Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the 1GB file can be transferred from the <code>OPERATING_SYSTEM</code> to the <code>USB storage</code> connected to the docking station.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> <li>The <code>USB storage</code> connected to the <code>USB-C docking station</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open powershell as administrator and run the following command to generate    1GB file:</p> <pre><code>fsutil file createnew test_file.txt 1073741824\n</code></pre> </li> <li> <p>Read the drive letter assigned to the <code>USB storage</code> by running the following    command:</p> <pre><code>(Get-Volume | where drivetype -eq removable).driveletter\n</code></pre> </li> <li> <p>Copy the generated file to the <code>USB storage</code> by running the following    command:</p> <pre><code>Copy-Item -Path C:\\Windows\\system32\\test_file.txt {drive_letter}:\n</code></pre> </li> <li> <p>Verify that the files are the same by running the following commands:</p> <pre><code>Get-FileHash test_file.txt\nGet-FileHash {drive_letter}:\\test_file.txt\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output from the last commands should have equal hash:</p> <pre><code>Algorithm       Hash                                                              Path\n---------       ----                                                              ----\nSHA256          F46597C0C63A1EEFB200D40EDF654E52F10C3D5D21565886AD603FABAF8D39FB  C\\Windows\\system3...\n</code></pre> <pre><code>Algorithm       Hash                                                              Path\n---------       ----                                                              ----\nSHA256          F46597C0C63A1EEFB200D40EDF654E52F10C3D5D21565886AD603FABAF8D39FB  E:\\test_file.txt\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc014001-usb-type-c-docking-station-ethernet-connection-ubuntu-2204","title":"UTC014.001 USB Type-C docking station Ethernet connection (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the connection to internet via docking station's Ethernet port can be obtained on Ubuntu 22.04.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug in a Ethernet cable with internet connection to docking station.</li> <li>Wait for internet connection to initialize.</li> <li> <p>Ping <code>3mdeb.com</code> using command in terminal:</p> <pre><code>ping 3mdeb.com\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li> <p>Command should return ping info:</p> <pre><code>PING 3mdeb.com (178.32.205.96) 56(84) bytes of data.\n64 bytes from cluster026.hosting.ovh.net (178.32.205.96): icmp_seq=1 ttl=50 time=44.3 ms\n64 bytes from cluster026.hosting.ovh.net (178.32.205.96): icmp_seq=2 ttl=50 time=47.7 ms\n64 bytes from cluster026.hosting.ovh.net (178.32.205.96): icmp_seq=3 ttl=50 time=41.1 ms\n...\n</code></pre> </li> <li> <p>Log should not contain phrase information that host is unreachable.</p> <p>Failed ping for Ubuntu 22.04:</p> <pre><code>ping: connect: Network is unreachable\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc014002-usb-type-c-docking-station-ethernet-connection-windows-11","title":"UTC014.002 USB Type-C docking station Ethernet connection (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the connection to internet via docking station's Ethernet port can be obtained on Windows 11.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug in a Ethernet cable with internet connection to docking station.</li> <li>Wait for internet connection to initialize.</li> <li> <p>Ping <code>3mdeb.com</code> using command in PowerShell:</p> <pre><code>ping 3mdeb.com\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li> <p>Command should return ping info:</p> <pre><code>Pinging 3mdeb.com [178.32.205.96] with 32 bytes of data:\nReply from 178.32.205.96: bytes=32 time=50ms TTL=50\nReply from 178.32.205.96: bytes=32 time=47ms TTL=50\nReply from 178.32.205.96: bytes=32 time=46ms TTL=50\n</code></pre> </li> <li> <p>Log should not contain phrase information that host is unreachable.</p> <p>Failed ping for Windows 11:</p> <pre><code>Ping request could not find host 3mdeb.com. Please check the name and try again.\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc015001-usb-type-c-docking-station-audio-recognition-ubuntu-2204","title":"UTC015.001 USB Type-C docking station audio recognition (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the external headset is properly recognized after plugging in the 3.5 mm jack into the docking station.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug in a headset jack into the docking station.</li> <li>When the <code>Select Audio Device</code> menu appears, select what type of external     device has been connected to the laptop (headset).</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>watch -n1 lsusb\n</code></pre> </li> <li> <p>Connect(or Disconnect) external headset to the 3.5 mm jack on the docking     station and note the result.</p> </li> </ol> <p>Expected result</p> <ol> <li>After connecting the external headset to the 3.5 mm jack, a new entry in     <code>lsusb</code> command output should appear.</li> <li>After disconnecting the external headset from the 3.5 mm jack, a headset     entry in <code>lsusb</code> command output should disappear.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc015002-usb-type-c-docking-station-audio-recognition-windows-11","title":"UTC015.002 USB Type-C docking station audio recognition (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the external headset is properly recognized after plugging in the 3.5 mm jack into the docking station.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug in a headset jack into the docking station</li> <li>After the <code>Which device did you plug in</code> menu appearing, select what type     of external device has been connected to the laptop (headset).</li> <li>Find the <code>Speakers</code> icon in the bottom right part of the screen and click     it using the right mouse button then using the left mouse button     click <code>Sound Settings</code>.</li> <li>Locate the <code>All sound device</code> bar and click on it.</li> <li>Connect(or Disconnect) external headset to the 3.5 mm jack on the docking     station and note the result.</li> </ol> <p>Expected result</p> <ol> <li>After connecting the external headset to the 3.5 mm jack, new entries    regarding the connected headphones should appear in the <code>Output devices</code> and    <code>Input devices</code> sections.</li> <li>After disconnecting the external headset from the 3.5 mm jack, the entries    for connected headset should disappear from the <code>Output devices</code> and    <code>Input devices</code> sections.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc016001-usb-type-c-docking-station-audio-playback-ubuntu-2204","title":"UTC016.001 USB Type-C docking station audio playback (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to playback audio recordings by using the external headset speakers connected to the docking station.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug in a headset jack into the docking station.</li> <li>When the <code>Select Audio Device</code> menu appears, select what type of external     device has been connected to the laptop (headset).</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>pactl set-sink-mute alsa_output.pci-0000_00_1f.3.analog-stereo  0\npactl set-sink-volume alsa_output.pci-0000_00_1f.3.analog-stereo 65535\nspeaker-test\n</code></pre> </li> </ol> <p>Expected result</p> <p>Sound should be played from the external speakers.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc016002-usb-type-c-docking-station-audio-playback-windows-11","title":"UTC016.002 USB Type-C docking station audio playback (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to playback audio recordings by using the external headset speakers connected to the docking station.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug in a headset jack into the docking station.</li> <li>Find the <code>Speakers</code> icon in the bottom right part of the screen and click    it using the left mouse button to open volume menu.</li> <li>After the <code>Which device did you plug in</code> menu appearing, select what type     of external device has been connected to the laptop (headset).</li> <li>In the volume menu, click the rightmost part of it and note the reult.</li> </ol> <p>Expected result</p> <p>Sound should be played from the external speakers.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc017001-usb-type-c-docking-station-audio-capture-ubuntu-2204","title":"UTC017.001 USB Type-C docking station audio capture (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to capture audio from external headset connected to the docking station.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug in a headset jack into the docking station.</li> <li>When the <code>Select Audio Device</code> menu appears, select what type of external     device has been connected to the laptop (headset).</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>arecord -f S16_LE -d 10 -r 16000 /tmp/test-mic.wav\n</code></pre> </li> <li> <p>Make some noise for the headset. For example, say something.</p> </li> <li> <p>Execute the following command:</p> <pre><code>aplay /tmp/test-mic.wav\n</code></pre> </li> </ol> <p>Expected result</p> <p>The recorded audio clip is recorded correctly and played back.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc017002-usb-type-c-docking-station-audio-capture-windows-11","title":"UTC017.002 USB Type-C docking station audio capture (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the audio subsystem is able to capture audio from external headset connected to the docking station.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug in a headset jack into the docking station.</li> <li>After the <code>Which device did you plug in</code> menu appearing, select what type     of external device has been connected to the laptop (headset).</li> <li>Find the <code>Speakers</code> icon in the bottom right part of the screen and click     it using the right mouse button then using the left mouse button     click <code>Sound Settings</code>.</li> <li>Locate the <code>All sound device</code> bar and click on it.</li> <li>Select the <code>Microphone</code> position in the <code>Input devices</code> section.</li> <li>Click on the <code>Start Test</code> bar in the <code>Input settings</code> section.</li> <li>Create some noise for the DUT to capture and note the result.     For example, say something.</li> <li>Click on the <code>Stop Test</code> bar.</li> </ol> <p>Expected result</p> <ol> <li>The <code>Input volume</code> bar located in the <code>Input settings</code> section should raise when     some noise is being created.</li> <li>The result of the test after clicking the <code>Stop Test</code> bar should be more than     0% of the total volume.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc018001-usb-type-c-docking-station-sd-card-reader-detection-ubuntu-2204","title":"UTC018.001 USB Type-C docking station SD Card reader detection (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the SD Card reader built into the docking station is enumerated correctly and might be detected by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> <li>The <code>SD card</code> put into the slot on the <code>USB-C docking station</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>lsusb | grep \"Card Reader\"\n</code></pre> <ol> <li>Note the result.</li> </ol> <p>Expected result</p> <p>The output from the command should contain information about the connected USB SD Card Reader.</p> <p>Example output:</p> <pre><code>Bus 002 Device 007: ID 067b:2733 Prolific Technology, Inc. USB SD Card Reader\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc018002-usb-type-c-docking-station-sd-card-reader-detection-windows-11","title":"UTC018.002 USB Type-C docking station SD Card reader detection (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the SD Card reader built into the docking station is enumerated correctly and can be detected by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> <li>The <code>SD card</code> put into the slot on the <code>USB-C docking station</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open PowerShell and execute the following command:</p> <pre><code>Get-PnpDevice -Status \"OK\" -Class \"DiskDrive\"\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output from the command should contain information about the connected USB SD Card Reader.</p> <p>Example output:</p> <pre><code>    OK         DiskDrive       SD Card Reader USB Device\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc019001-usb-type-c-docking-station-sd-card-readwrite-ubuntu-2204","title":"UTC019.001 USB Type-C docking station SD Card read/write (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the SD Card reader is initialized correctly and can be used from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> <li>The <code>SD card</code> put into the slot on the <code>USB-C docking station</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute the following commands to identify the SD     card mounting point:</p> <pre><code>lsblk | grep \"sd\"\n</code></pre> </li> <li> <p>Execute the following commands for generating, copying and comparing     generated file:</p> <pre><code>dd if=/dev/urandom of=/tmp/in.bin bs=4K count=100\ndd if=/tmp/in.bin of=/dev/sda bs=4K count=100\ndd if=/dev/sda of=/tmp/out.bin bs=4K count=100\nsha256sum /tmp/in.bin /tmp/out.bin\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <ol> <li> <p>The output from the command to identify the SD card mounting point should     return information about the SD card mounting location.</p> <p>Example output:</p> <pre><code>sda           8:0    1  29,5G  0 disk\n\u2514\u2500sda1        8:1    1  29,5G  0 part /media/user/DCB0-C7E8\nsdb           8:16   1     0B  0 disk\n</code></pre> </li> <li> <p>The output from the last command should contain 2 identical checksums.</p> <p>Example output</p> <pre><code>2083776668ed0c8095a9ac42188153c02f360e116c14b36d2ef5c98665d75dcb  /tmp/in.bin\n2083776668ed0c8095a9ac42188153c02f360e116c14b36d2ef5c98665d75dcb  /tmp/out.bin\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc019002-usb-type-c-docking-station-sd-card-readwrite-windows-11","title":"UTC019.002 USB Type-C docking station SD Card read/write (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the SD Card reader is initialized correctly and can be used from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>The <code>USB-C docking station</code> connected to the USB-C port.</li> <li>The <code>SD card</code> put into the slot on the <code>USB-C docking station</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Determine the localization of the mounted SD card.</li> <li> <p>Open PowerShell and execute the following commands:</p> <pre><code>New-Item -Path \"${drive_location}:\\\" -Name \"testfile.txt\" -ItemType \"file\" -Value \"This is a test string.\"\nGet-Content -Path \"${drive_location}:\\testfile.txt\"\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The last command should return the following message: <code>This is a test string.</code></p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc020001-usb-type-c-pd-current-limiting-ubuntu-2204","title":"UTC020.001 USB Type-C PD current limiting (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the power draw from a USB-C PD power supply does not exceed the limits of the power supply's specifications.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test steps 1. Power on the DUT. 1. Boot into the system. 1. Log into the system by using the proper login and password. 1. Attach a 65W USB-C power supply, with the power meter between the power     supply and the laptop's Thunderbolt 4 port. 1. Open a terminal window and run the following command, while observing the     power meter's display:</p> <pre><code>```bash\nstress-ng -c 20 -t 5\n```\n</code></pre> <ol> <li>Repeat the step above 5 times, noting the maximum power draw shown on the     power meter each time.</li> </ol> <p>Expected result</p> <p>The power draw does not exceed more than 105% of the power supply's nominal power. The power meter's display stays lit all the time, indicating that the power supply's over-current protection was not triggered.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31H-usb-type-c/#utc020002-usb-type-c-pd-current-limiting-windows-11","title":"UTC020.002 USB Type-C PD current limiting (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the power draw from a USB-C PD power supply does not exceed the limits of the power supply's specifications.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test steps 1. Power on the DUT. 1. Boot into the system. 1. Log into the system by using the proper login and password. 1. Download and install ThrottleStop 1. Attach a 65W USB-C power supply, with the power meter between the power     supply and the laptop's Thunderbolt 4 port. 1. Open ThrottleStop. 1. Click the <code>Limits</code> button to open a window displaying current throttle status     and reasons. 1. Click the <code>TS Bench</code> button to open the benchmark window. 1. Start a benchmark with the default parameters (Normal, 16 threads, 120M,     Fixed MHz), while observing the power meter's display. 1. Repeat the step above 5 times, noting the maximum power draw shown on the     power meter each time.</p> <p>Expected result</p> <p>The power draw does not exceed more than 105% of the power supply's nominal power. The power meter's display stays lit all the time, indicating that the power supply's over-current protection was not triggered. When the power draw approaches or exceeds 100% of the AC adapter's rating (65W), the field <code>EDP Other</code> in the ThrottleStop Limit Reasons window is colored red.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31I-nvme-switching/","title":"Dasharo Compatibility: M.2 automatic SATA/NVMe switching support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31I-nvme-switching/#mss001001-m2-automatic-satanvme-switching-support-ubuntu-2204","title":"MSS001.001 M.2 automatic SATA/NVMe switching support (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify detection of the NVMe and SATA disk in M.2 hybrid slot via the Operating System slot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Insert an NVMe disk into the M.2 slot on the DUT.</li> <li>Proceed with the     Generic test setup: OS installer.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute <code>sudo parted -l</code>.</li> <li>Check if the connected disk is present on the list.</li> <li>Power off the DUT.</li> <li>Replace the NVMe disk with SATA M.2 disk.</li> <li>Repeat steps 1-5.</li> </ol> <p>Expected result</p> <ol> <li> <p>The NVMe M.2 disk is detected in OS:</p> <pre><code>Model: SAMSUNG MZVLB256HBHQ-00000 (nvme)\nDisk /dev/nvme0n1: 256GB\nSector size (logical/physical): 512B/512B\nPartition Table: gpt\nDisk Flags:\n\nNumber  Start   End     Size    File system  Name                  Flags\n 1      1049kB  2097kB  1049kB\n 2      2097kB  540MB   538MB   fat32        EFI System Partition  boot, esp\n 3      540MB   67,6GB  67,1GB  ext4\n 6      67,6GB  126GB   57,9GB  ext4\n 4      126GB   193GB   67,7GB  ext4\n 5      193GB   256GB   62,9GB  ext4\n</code></pre> </li> <li> <p>The SATA M.2 disk is detected in OS:</p> <pre><code>Model: ATA Hoodisk SSD (scsi)\nDisk /dev/sda: 32,0GB\nSector size (logical/physical): 512B/512B\nPartition Table: gpt\nDisk Flags:\n\nNumber  Start   End     Size    File system  Name                  Flags\n 1      1049kB  538MB   537MB   fat32        EFI System Partition  boot, esp\n 2      538MB   32,0GB  31,5GB  ext4\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31J-sleep-mode/","title":"Dasharo Compatibility: Sleep mode","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31J-sleep-mode/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31J-sleep-mode/#slm001001-sleep-mode-battery-monitoring-ubuntu-2204","title":"SLM001.001 Sleep mode - battery monitoring (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies how quickly the battery discharges while in sleep mode in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Charge the battery fully (note: due to the manufacturer's settings the     maximum battery charge level is limited to 90%; also, the battery charging     process can only be started if the current battery level is less than 80%).</li> <li>Disconnect the power supply.</li> <li>Close the lid.</li> <li>Wake up the DUT in the following timestamps and note the battery level:<ul> <li>1 hour from fully charging,</li> <li>2 hours from fully charging,</li> <li>3 hours from fully charging,</li> <li>6 hours from fully charging,</li> <li>(optional) 24 hours from fully charging.</li> </ul> </li> </ol> <p>Expected result</p> <ol> <li>The battery should discharge at a similar rate as in the table below (take    the battery wear into account).</li> </ol> Time Battery level 0h 90% 1h 88% 2h 86% 3h 84% 6h 80% 24h (optional) 57%"},{"location":"unified-test-documentation/dasharo-compatibility/31J-sleep-mode/#slm000002-sleep-mode-battery-monitoring-windows-11","title":"SLM000.002 Sleep mode - battery monitoring (Windows 11)","text":"<p>Test description</p> <p>This test verifies how quickly the battery discharges while in sleep mode in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Charge the battery fully (note: due to the manufacturer's settings the     maximum battery charge level is limited to 90%; also, the battery charging     process can only be started if the current battery level is less than 80%).</li> <li>Wait 30 seconds for the system to load fully.</li> <li>Disconnect the power supply.</li> <li>Close the lid.</li> <li>Wake up the DUT in the following timestamps and note the battery level:<ul> <li>1 hour from fully charging,</li> <li>2 hours from fully charging,</li> <li>3 hours from fully charging,</li> <li>6 hours from fully charging,</li> </ul> </li> </ol> <p>Expected result</p> <ol> <li>The battery should discharge at a similar rate as in the table below (take    the battery wear into account).</li> </ol> Time Battery level 0h 90% 1h 79% 2h 69% 3h 58% 6h 26%"},{"location":"unified-test-documentation/dasharo-compatibility/31K-minipcie-verification/","title":"Dasharo Compatibility: miniPCIe slot verification","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31K-minipcie-verification/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31K-minipcie-verification/#mwl001001-wireless-card-detection-ubuntu-2204","title":"MWL001.001 Wireless card detection (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi/Bluetooth card is enumerated correctly and can be detected from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>lspci | grep \"Network controller\"\n</code></pre> <p>Expected result</p> <p>The output of the command should contain information about mounted on the board network controller.</p> <p>Example output:</p> <pre><code>2f:00.0 Network controller: Intel Corporation Wi-Fi 6 AX201 (rev 1a)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31K-minipcie-verification/#mwl001002-wireless-card-detection-windows-11","title":"MWL001.002 Wireless card detection (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi/Bluetooth card is enumerated correctly and can be detected from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open PowerShell and execute following command:</li> </ol> <pre><code>Get-PnpDevice -PresentOnly | Select-String -Pattern \"Wi-Fi\"\n</code></pre> <ol> <li>Note the result.</li> </ol> <p>Expected result</p> <p>The output of the command should contain information about mounted on the board network controller.</p> <p>Example output:</p> <pre><code>Intel(R) Wi-Fi 6AX200 160MHz\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31K-minipcie-verification/#mwl002001-wi-fi-scanning-ubuntu-2204","title":"MWL002.001 Wi-Fi scanning (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi functionality of card is initialized correctly and can be used from within the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Make sure to have any Wi-Fi signal available.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following commands as root:</li> </ol> <pre><code>nmcli radio wifi on\nnmcli device wifi rescan\n# Wait ~5 seconds\nnmcli device wifi list\n</code></pre> <p>Expected result</p> <p>The output of the last command should return a list of available Wi-Fi networks, for example:</p> <pre><code>IN-USE  BSSID              SSID                    MODE   CHAN  RATE        SIGNAL  BARS  SECURITY\n        XX:XX:XX:XX:XX:XX  DIRECT-ny               Infra  6     65 Mbit/s   75      \u2582\u2584\u2586_  WPA2\n*       XX:XX:XX:XX:XX:XX  3mdeb_abr_5GHz          Infra  48    405 Mbit/s  72      \u2582\u2584\u2586_  WPA2\n        XX:XX:XX:XX:XX:XX  3mdeb_abr               Infra  11    54 Mbit/s   69      \u2582\u2584\u2586_  WPA2\n        XX:XX:XX:XX:XX:XX  FunBox2-F9BF_2.4GHz     Infra  1     130 Mbit/s  50      \u2582\u2584__  WPA1 WPA2\n        XX:XX:XX:XX:XX:XX  H_Office                Infra  2     270 Mbit/s  35      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-xpPhaser 3330    Infra  1     65 Mbit/s   34      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  Orange_Swiatlowod_A79A  Infra  108   540 Mbit/s  32      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-KRM288x Series   Infra  11    54 Mbit/s   22      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  Orange_Swiatlowod_A79A  Infra  11    130 Mbit/s  20      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-ejPhaser 3330    Infra  1     65 Mbit/s   17      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  NED-WIFI                Infra  11    270 Mbit/s  17      \u2582___  WPA2\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31K-minipcie-verification/#mwl002002-wi-fi-scanning-windows-11","title":"MWL002.002 Wi-Fi scanning (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi functionality of card is initialized correctly and can be used from within the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Make sure to have any Wi-Fi signal available</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open PowerShell and execute following command:</li> </ol> <pre><code>netsh wlan show network\n</code></pre> <ol> <li>Note the result.</li> </ol> <p>Expected result</p> <ol> <li>Output should contain <code>3mdeb_abr</code> and/or <code>3mdeb_abr_5GHz</code>.</li> <li>Example output:</li> </ol> <pre><code>SSID 1 : 3mdeb_abr\n    Network type            : Infrastructure\n    Authentication          : WPA2-Personal\n    Encryption              : CCMP\n\nSSID 2 : Sonoff1 192.168.4.208 Hotspot\n    Network type            : Infrastructure\n    Authentication          : WPA2-Personal\n    Encryption              : CCMP\n\nSSID 3 : Orange_Swiatlowod_F1A0\n    Network type            : Infrastructure\n    Authentication          : WPA2-Personal\n    Encryption              : CCMP\n\nSSID 4 : Sonoff1 Fallback Hotspot\n    Network type            : Infrastructure\n    Authentication          : WPA2-Personal\n    Encryption              : CCMP\n\nSSID 5 : DIRECT-KRM288x Series\n    Network type            : Infrastructure\n    Authentication          : WPA2-Personal\n    Encryption              : CCMP\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31K-minipcie-verification/#mwl003001-bluetooth-scanning-ubuntu-2204","title":"MWL003.001 Bluetooth scanning (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the Bluetooth functionality of card is initialized correctly and can be used from within the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Enable Bluetooth and make it discoverable in any device nearby DUT.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following commands:</li> </ol> <pre><code>bluetoothctl\npower on\nscan on\n# Wait ~5 seconds\ndevices\n</code></pre> <p>Expected result</p> <p>The output of the last command should return a list of detectable Bluetooth devices, for example:</p> <pre><code>Device XX:XX:XX:XX:XX:XX Device 1\nDevice XX:XX:XX:XX:XX:XX Wojtek N\nDevice XX:XX:XX:XX:XX:XX Mi Smart Band 4\nDevice XX:XX:XX:XX:XX:XX Galaxy Watch4 Classic (PHLM)\nDevice XX:XX:XX:XX:XX:XX Galaxy Watch4 Classic (PHLM)\nDevice XX:XX:XX:XX:XX:XX Device 2\nDevice XX:XX:XX:XX:XX:XX [Signage] Samsung QMR Series\nDevice XX:XX:XX:XX:XX:XX [Signage] Samsung QMR Series\nDevice XX:XX:XX:XX:XX:XX Device 3\nDevice XX:XX:XX:XX:XX:XX Device 4\nDevice XX:XX:XX:XX:XX:XX Device 5\nDevice XX:XX:XX:XX:XX:XX Device 6\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31K-minipcie-verification/#mwl003002-bluetooth-scanning-windows-11","title":"MWL003.002 Bluetooth scanning (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the Bluetooth functionality of card is initialized correctly and can be used from within the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Enable Bluetooth and make it discoverable in any device nearby DUT</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Enter <code>Notification Center</code> in the bottom right part of the screen.</li> <li>Using right mouse button click on the Bluetooth icon.</li> <li>In shown drop-down menu click <code>Go to settings</code>.</li> <li>Click the <code>+</code> icon described as <code>Add Bluetooth or other device</code>.</li> <li>In the <code>Add a device</code> menu click <code>Bluetooth</code>.</li> <li>Wait a few moments until DUT scans for nearby Bluetooth devices and note    the result.</li> </ol> <p>Expected result</p> <p>Available Bluetooth devices should appear in the <code>Add a device</code> window.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31K-minipcie-verification/#mwl004001-lte-card-detection-ubuntu-2204","title":"MWL004.001 LTE card detection (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the LTE card is detected correctly in the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Plug the LTE card into miniPCIe slot.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute <code>lsusb</code></li> </ol> <p>Expected result</p> <p>The output of the command should return a list of USB devices including LTE module, for example:</p> <pre><code>Bus 001 Device 004: ID 05c6:9215 Qualcomm, Inc. Quectel EC20 LTE modem\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31L-smbios/","title":"Dasharo compatibility: SMBIOS","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31L-smbios/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> <li>Install the <code>dmidecode</code> package: <code>sudo apt-get install dmidecode</code>.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31L-smbios/#dmi001001-verify-the-serial-number","title":"DMI001.001 Verify the serial number","text":"<p>Test description</p> <p>This test aims to verify that the serial number field is filled in correctly according to the Dasharo SMBIOS guidelines.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>dmidecode -t system\n</code></pre> </li> <li> <p>In the <code>BIOS Information</code> section, check the <code>Serial number</code> field against the     Dasharo SMBIOS guidelines.</p> </li> </ol> <p>Expected result</p> <ol> <li>The fields should be filled in according to the Dasharo SMBIOS guidelines.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31L-smbios/#dmi002001-verify-the-firmware-version","title":"DMI002.001 Verify the firmware version","text":"<p>Test description</p> <p>This test aims to verify that the firmware version field is filled in correctly according to the Dasharo SMBIOS guidelines.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>dmidecode -t bios\n</code></pre> </li> <li> <p>In the <code>BIOS Information</code> section, check the <code>Version</code> field against the     Dasharo SMBIOS guidelines.</p> </li> </ol> <p>Expected result</p> <ol> <li>The fields should be filled in according to the Dasharo SMBIOS guidelines.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31L-smbios/#dmi003001-verify-the-firmware-product-name","title":"DMI003.001 Verify the firmware product name","text":"<p>Test description</p> <p>This test aims to verify that the firmware product name fields are filled in correctly according to the Dasharo SMBIOS guidelines.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>dmidecode -t system\n</code></pre> </li> <li> <p>In the <code>System Information</code> section, check the <code>Product Name</code> field against     the Dasharo SMBIOS guidelines.</p> </li> <li> <p>Execute the following command in the terminal:</p> <pre><code>dmidecode -t baseboard\n</code></pre> </li> <li> <p>In the <code>Base Board Information</code> section, check the <code>Product Name</code> field     against the Dasharo SMBIOS guidelines.</p> </li> </ol> <p>Expected result</p> <ol> <li>The fields should be filled in according to the Dasharo SMBIOS guidelines.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31L-smbios/#dmi004001-verify-the-firmware-release-date","title":"DMI004.001 Verify the firmware release date","text":"<p>Test description</p> <p>This test aims to verify that the firmware release date field are filled in correctly according to the Dasharo SMBIOS guidelines.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>dmidecode -t bios\n</code></pre> </li> <li> <p>In the <code>System Information</code> section, check the <code>Release Date</code> field     against the     Dasharo SMBIOS guidelines.</p> </li> </ol> <p>Expected result</p> <ol> <li>The field should be filled in according to the Dasharo SMBIOS guidelines.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31L-smbios/#dmi005001-verify-the-firmware-manufacturer","title":"DMI005.001 Verify the firmware manufacturer","text":"<p>Test description</p> <p>This test aims to verify that the firmware manufacturer fields are filled in correctly according to the Dasharo SMBIOS guidelines.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>dmidecode -t system\n</code></pre> </li> <li> <p>In the <code>System Information</code> section, check the <code>Manufacturer</code> field against    the Dasharo SMBIOS guidelines.</p> </li> <li> <p>Execute the following command in the terminal:</p> <pre><code>dmidecode -t baseboard\n</code></pre> </li> <li> <p>In the <code>Base Board Information</code> section, check the <code>Manufacturer</code> field     against the     Dasharo SMBIOS guidelines.</p> </li> </ol> <p>Expected result</p> <ol> <li>The fields should be filled in according to the Dasharo SMBIOS guidelines.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31L-smbios/#dmi006001-verify-the-firmware-vendor","title":"DMI006.001 Verify the firmware vendor","text":"<p>Test description</p> <p>This test aims to verify that the firmware vendor field is filled in correctly according to the Dasharo SMBIOS guidelines.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>dmidecode -t bios\n</code></pre> </li> <li> <p>In the <code>BIOS Information</code> section, check the <code>Vendor</code> field against the     Dasharo SMBIOS guidelines.</p> </li> </ol> <p>Expected result</p> <ol> <li>The field should be filled in according to the Dasharo SMBIOS guidelines.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31L-smbios/#dmi007001-verify-the-firmware-family","title":"DMI007.001 Verify the firmware family","text":"<p>Test description</p> <p>This test aims to verify that the firmware family field is filled in correctly according to the Dasharo SMBIOS guidelines.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>dmidecode -t system\n</code></pre> </li> <li> <p>In the <code>System Information</code> section, check the <code>Family</code> field against the    Dasharo SMBIOS guidelines.</p> </li> </ol> <p>Expected result</p> <ol> <li>The field should be filled in according to the Dasharo SMBIOS guidelines.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31L-smbios/#dmi008001-verify-the-firmware-type","title":"DMI008.001 Verify the firmware type","text":"<p>Test description</p> <p>This test aims to verify that the firmware type field is filled in correctly according to the Dasharo SMBIOS guidelines.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>dmidecode -t chassis\n</code></pre> </li> <li> <p>In the <code>Chassis Information</code> section, check the <code>Type</code> field against the    Dasharo SMBIOS guidelines.</p> </li> </ol> <p>Expected result</p> <ol> <li>The field should be filled in according to the Dasharo SMBIOS guidelines.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31M-emmc-support/","title":"Dasharo Compatibility: eMMC support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31M-emmc-support/#mmc001001-emmc-support-ubuntu-2204","title":"MMC001.001 eMMC support (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify detection of the eMMC driver via the Operating System.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute <code>sudo parted -l</code>.</li> <li>Check if the eMMC is present on the list.</li> </ol> <p>Expected result</p> <ol> <li> <p>The eMMC disk is detected in OS:</p> <pre><code>Model: MMC 8GTF4R (sd/mmc)\nDisk /dev/mmcblk0: 7818MB\nSector size (logical/physical): 512B/512B\nPartition Table: msdos\nDisk Flags:\n\nNumber  Start   End     Size    Type      File system  Flags\n 1      1049kB  538MB   537MB   primary   fat32\n 2      538MB   1076MB  538MB   primary   fat32        boot, esp\n 3      1077MB  7817MB  6740MB  extended\n 5      1077MB  7817MB  6740MB  logical   ext4\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31M-platform-suspend-and-resume/","title":"Dasharo Compatibility: Platform suspend and resume","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31M-platform-suspend-and-resume/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31M-platform-suspend-and-resume/#susp001001-platform-suspend-and-resume-ubuntu-2204-wakeup-flag","title":"SUSP001.001 Platform suspend and resume (Ubuntu 22.04, wakeup flag)","text":"<p>Test description</p> <p>This test aims to verify that the DUT platform suspend and resume functionality works correctly. As a way to wake up the device, the wakeup flag is tested in this case.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>pm-utils</code> package: <code>sudo apt-get install pm-utils</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute the following command to set the wakeup     flag:</p> <pre><code>rtcwake --mode no --seconds 60\n</code></pre> </li> <li> <p>Execute the following command to enter the DUT into sleep mode:</p> <pre><code>pm-suspend\n</code></pre> </li> <li> <p>Wait 60 seconds.</p> </li> <li>Log into the system again.</li> <li> <p>Execute the following command to get the results of suspend process:</p> <pre><code>cat /var/log/pm-suspend.log | grep 'suspend suspend: '\n</code></pre> </li> <li> <p>Execute the following command to get the results of resume process:</p> <pre><code>cat /var/log/pm-suspend.log | grep 'resume suspend: '\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <ol> <li>After entering the second command the DUT should enter sleep mode.</li> <li>The DUT should automatically awaken after 60 seconds.</li> <li> <p>The output of the third and fourth commands should contain information about     suspend and resume procedure hooks' status. For none of them, an error     message should be returned.</p> <p>Example output for the suspend process:</p> <pre><code>/usr/lib/pm-utils/sleep.d/000kernel-change suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/000record-status suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/00logging suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/00powersave suspend suspend: success.\n/etc/pm/sleep.d/10_grub-common suspend suspend: success.\n/etc/pm/sleep.d/10_unattended-upgrades-hibernate suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/40inputattach suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/50unload_alx suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/60_wpa_supplicant suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/75modules suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/90clock suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/94cpufreq suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/95hdparm-apm suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/95led suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/98video-quirk-db-handler suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/99video suspend suspend: success.\n</code></pre> <p>Example output for the resume process:</p> <pre><code>/usr/lib/pm-utils/sleep.d/99video resume suspend: success.\n/usr/lib/pm-utils/sleep.d/98video-quirk-db-handler resume suspend: success.\n/usr/lib/pm-utils/sleep.d/95led resume suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/95hdparm-apm resume suspend: success.\n/usr/lib/pm-utils/sleep.d/94cpufreq resume suspend: success.\n/usr/lib/pm-utils/sleep.d/90clock resume suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/75modules resume suspend: success.\n/usr/lib/pm-utils/sleep.d/60_wpa_supplicant resume suspend: success.\n/usr/lib/pm-utils/sleep.d/50unload_alx resume suspend: success.\n/usr/lib/pm-utils/sleep.d/40inputattach resume suspend: success.\n/etc/pm/sleep.d/10_unattended-upgrades-hibernate resume suspend: success.\n/etc/pm/sleep.d/10_grub-common resume suspend: success.\n/usr/lib/pm-utils/sleep.d/00powersave resume suspend: success.\n/usr/lib/pm-utils/sleep.d/00logging resume suspend: success.\n/usr/lib/pm-utils/sleep.d/000record-status resume suspend: success.\n/usr/lib/pm-utils/sleep.d/000kernel-change resume suspend: success.\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31M-platform-suspend-and-resume/#susp001003-platform-suspend-and-resume-qubesos-wakeup-flag","title":"SUSP001.003 Platform suspend and resume (QubesOS, wakeup flag)","text":"<p>Test description</p> <p>This test aims to verify that the DUT platform suspend and resume functionality works correctly. As a way to wake up the device, the wakeup flag is tested in this case.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = QubesOS stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window in <code>dom0</code> and execute the following command to set the    wakeup flag:</p> <pre><code>rtcwake --mode no --seconds 60\n</code></pre> </li> <li> <p>Execute the following command to enter the DUT into sleep mode:</p> <pre><code>sudo systemctl suspend\n</code></pre> </li> <li> <p>Wait 60 seconds.</p> </li> <li>Log into the system again.</li> <li> <p>Execute the following command to get the results of process:</p> <pre><code>journalctl | grep systemd-sleep\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <ol> <li>After entering the <code>sudo systemctl suspend</code> command the DUT should enter    sleep mode.</li> <li> <p>The output of the second command should contain information about performed    suspend and resume operations. Each suspend and resume of the system should    be reported in the output of this command with the correct date, an example    of reporting one suspend and resume operation:</p> <pre><code>Feb 10 16:38:55 dom0 systemd-sleep[14729]: Suspending system...\nFeb 10 16:39:10 dom0 systemd-sleep[14729]: System resumed.\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31M-platform-suspend-and-resume/#susp002001-platform-suspend-and-resume-ubuntu-2204-press-key","title":"SUSP002.001 Platform suspend and resume (Ubuntu 22.04, press key)","text":"<p>Test description</p> <p>This test aims to verify that the DUT platform suspend and resume functionality works correctly. As a way to wake up the device, pressing any key on the keyboard is tested in this case.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>pm-utils</code> package: <code>sudo apt-get install pm-utils</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute the following command to enter DUT into     sleep mode:</p> <pre><code>pm-suspend\n</code></pre> </li> <li> <p>Wait 15 seconds.</p> </li> <li>Press any key on the keyboard to resume the system.</li> <li>Log into the system again.</li> <li> <p>Execute the following command to get the results of suspend process:</p> <pre><code>cat /var/log/pm-suspend.log | grep 'suspend suspend: '\n</code></pre> </li> <li> <p>Execute the following command to get the results of resume process:</p> <pre><code>cat /var/log/pm-suspend.log | grep 'resume suspend: '\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <ol> <li>After entering the first command the DUT should enter sleep mode.</li> <li> <p>The output of the second and third commands should contain information about     suspend and resume procedure hooks' status. For none of them, an error     message should be returned.</p> <p>Example output for the suspend process:</p> <pre><code>/usr/lib/pm-utils/sleep.d/000kernel-change suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/000record-status suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/00logging suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/00powersave suspend suspend: success.\n/etc/pm/sleep.d/10_grub-common suspend suspend: success.\n/etc/pm/sleep.d/10_unattended-upgrades-hibernate suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/40inputattach suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/50unload_alx suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/60_wpa_supplicant suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/75modules suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/90clock suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/94cpufreq suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/95hdparm-apm suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/95led suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/98video-quirk-db-handler suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/99video suspend suspend: success.\n</code></pre> <p>Example output for the resume process:</p> <pre><code>/usr/lib/pm-utils/sleep.d/99video resume suspend: success.\n/usr/lib/pm-utils/sleep.d/98video-quirk-db-handler resume suspend: success.\n/usr/lib/pm-utils/sleep.d/95led resume suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/95hdparm-apm resume suspend: success.\n/usr/lib/pm-utils/sleep.d/94cpufreq resume suspend: success.\n/usr/lib/pm-utils/sleep.d/90clock resume suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/75modules resume suspend: success.\n/usr/lib/pm-utils/sleep.d/60_wpa_supplicant resume suspend: success.\n/usr/lib/pm-utils/sleep.d/50unload_alx resume suspend: success.\n/usr/lib/pm-utils/sleep.d/40inputattach resume suspend: success.\n/etc/pm/sleep.d/10_unattended-upgrades-hibernate resume suspend: success.\n/etc/pm/sleep.d/10_grub-common resume suspend: success.\n/usr/lib/pm-utils/sleep.d/00powersave resume suspend: success.\n/usr/lib/pm-utils/sleep.d/00logging resume suspend: success.\n/usr/lib/pm-utils/sleep.d/000record-status resume suspend: success.\n/usr/lib/pm-utils/sleep.d/000kernel-change resume suspend: success.\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31M-platform-suspend-and-resume/#susp002003-platform-suspend-and-resume-qubesos-press-key","title":"SUSP002.003 Platform suspend and resume (QubesOS, press key)","text":"<p>Test description</p> <p>This test aims to verify that the DUT platform suspend and resume functionality works correctly. As a way to wake up the device, pressing any key on the keyboard is tested in this case.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = QubesOS stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window in <code>dom0</code> and execute the following command to enter    the DUT into sleep mode:</p> <pre><code>sudo systemctl suspend\n</code></pre> </li> <li> <p>Wait 15 seconds.</p> </li> <li>Press any key on the keyboard to resume the system.</li> <li>Log into the system again.</li> <li> <p>Execute the following command to get the results of process:</p> <pre><code>journalctl | grep systemd-sleep\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <ol> <li>After entering the first command the DUT should enter sleep mode.</li> <li> <p>The output of the second command should contain information about performed    suspend and resume operations. Each suspend and resume of the system should    be reported in the output of this command with the correct date, an example    of reporting one suspend and resume operation:</p> <pre><code>Feb 10 16:38:55 dom0 systemd-sleep[14729]: Suspending system...\nFeb 10 16:39:10 dom0 systemd-sleep[14729]: System resumed.\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31M-platform-suspend-and-resume/#susp003001-platform-suspend-and-resume-ubuntu-2204-push-power-button","title":"SUSP003.001 Platform suspend and resume (Ubuntu 22.04, push power button)","text":"<p>Test description</p> <p>This test aims to verify that the DUT platform suspend and resume functionality works correctly. As a way to wake up the device, pushing the power button is tested in this case.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>pm-utils</code> package: <code>sudo apt-get install pm-utils</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute the following command to enter DUT into     sleep mode:</p> <pre><code>pm-suspend\n</code></pre> </li> <li> <p>Wait 15 seconds.</p> </li> <li>Push the power button to resume the system.</li> <li>Log into the system again.</li> <li> <p>Execute the following command to get the results of suspend process:</p> <pre><code>cat /var/log/pm-suspend.log | grep 'suspend suspend: '\n</code></pre> </li> <li> <p>Execute the following command to get the results of resume process:</p> <pre><code>cat /var/log/pm-suspend.log | grep 'resume suspend: '\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <ol> <li>After entering the first command the DUT should enter sleep mode.</li> <li> <p>The output of the second and third commands should contain information about     suspend and resume procedure hooks' status. For none of them, an error     message should be returned.</p> <p>Example output for the suspend process:</p> <pre><code>/usr/lib/pm-utils/sleep.d/000kernel-change suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/000record-status suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/00logging suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/00powersave suspend suspend: success.\n/etc/pm/sleep.d/10_grub-common suspend suspend: success.\n/etc/pm/sleep.d/10_unattended-upgrades-hibernate suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/40inputattach suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/50unload_alx suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/60_wpa_supplicant suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/75modules suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/90clock suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/94cpufreq suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/95hdparm-apm suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/95led suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/98video-quirk-db-handler suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/99video suspend suspend: success.\n</code></pre> <p>Example output for the resume process:</p> <pre><code>/usr/lib/pm-utils/sleep.d/99video resume suspend: success.\n/usr/lib/pm-utils/sleep.d/98video-quirk-db-handler resume suspend: success.\n/usr/lib/pm-utils/sleep.d/95led resume suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/95hdparm-apm resume suspend: success.\n/usr/lib/pm-utils/sleep.d/94cpufreq resume suspend: success.\n/usr/lib/pm-utils/sleep.d/90clock resume suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/75modules resume suspend: success.\n/usr/lib/pm-utils/sleep.d/60_wpa_supplicant resume suspend: success.\n/usr/lib/pm-utils/sleep.d/50unload_alx resume suspend: success.\n/usr/lib/pm-utils/sleep.d/40inputattach resume suspend: success.\n/etc/pm/sleep.d/10_unattended-upgrades-hibernate resume suspend: success.\n/etc/pm/sleep.d/10_grub-common resume suspend: success.\n/usr/lib/pm-utils/sleep.d/00powersave resume suspend: success.\n/usr/lib/pm-utils/sleep.d/00logging resume suspend: success.\n/usr/lib/pm-utils/sleep.d/000record-status resume suspend: success.\n/usr/lib/pm-utils/sleep.d/000kernel-change resume suspend: success.\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31M-platform-suspend-and-resume/#susp003003-platform-suspend-and-resume-qubesos-push-power-button","title":"SUSP003.003 Platform suspend and resume (QubesOS, push power button)","text":"<p>Test description</p> <p>This test aims to verify that the DUT platform suspend and resume functionality works correctly. As a way to wake up the device, pushing the power button is tested in this case.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = QubesOS stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window in <code>dom0</code> and execute the following command to enter    the DUT into sleep mode:</p> <pre><code>sudo systemctl suspend\n</code></pre> </li> <li> <p>Wait 15 seconds.</p> </li> <li>Push the power button to resume the system.</li> <li>Log into the system again.</li> <li> <p>Execute the following command to get the results of process:</p> <pre><code>journalctl | grep systemd-sleep\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <ol> <li>After entering the first command the DUT should enter sleep mode.</li> <li> <p>The output of the second command should contain information about performed    suspend and resume operations. Each suspend and resume of the system should    be reported in the output of this command with the correct date, an example    of reporting one suspend and resume operation:</p> <pre><code>Feb 10 16:38:55 dom0 systemd-sleep[14729]: Suspending system...\nFeb 10 16:39:10 dom0 systemd-sleep[14729]: System resumed.\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31M-platform-suspend-and-resume/#susp004001-platform-suspend-and-resume-ubuntu-2204-wake-on-lan","title":"SUSP004.001 Platform suspend and resume (Ubuntu 22.04, Wake-on-LAN)","text":"<p>Test description</p> <p>This test aims to verify that the DUT platform suspend and resume functionality works correctly. As a way to wake up the device, the Wake-on-LAN mechanism is tested in this case.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>pm-utils</code> package: <code>sudo apt-get install pm-utils</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute the following command to obtain the device     lowest MAC address:</p> <pre><code>ip address\n</code></pre> <p>Note, that the output of the above command might include information about all communication interfaces with their MAC addresses. In the Wake-on-LAN procedure, only the lowest MAC address of the active interface will be needed.</p> </li> <li> <p>Execute the following command to enter DUT into sleep mode:</p> <pre><code>pm-suspend\n</code></pre> </li> <li> <p>Wait 15 seconds.</p> </li> <li> <p>On another active machine execute the following command to send a magic     pocket:</p> <pre><code>wakeonlan &lt;DUT MAC address&gt;\n</code></pre> </li> <li> <p>Log into the system (on the DUT) again.</p> </li> <li> <p>Execute the following command to get the results of suspend process:</p> <pre><code>cat /var/log/pm-suspend.log | grep 'suspend suspend: '\n</code></pre> </li> <li> <p>Execute the following command to get the results of resume process:</p> <pre><code>cat /var/log/pm-suspend.log | grep 'resume suspend: '\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <ol> <li>After entering the first command the DUT should enter sleep mode.</li> <li> <p>The output of the second and third commands should contain information about     suspend and resume procedure hooks' status. For none of them, an error     message should be returned.</p> <p>Example output for the suspend process:</p> <pre><code>/usr/lib/pm-utils/sleep.d/000kernel-change suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/000record-status suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/00logging suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/00powersave suspend suspend: success.\n/etc/pm/sleep.d/10_grub-common suspend suspend: success.\n/etc/pm/sleep.d/10_unattended-upgrades-hibernate suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/40inputattach suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/50unload_alx suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/60_wpa_supplicant suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/75modules suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/90clock suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/94cpufreq suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/95hdparm-apm suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/95led suspend suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/98video-quirk-db-handler suspend suspend: success.\n/usr/lib/pm-utils/sleep.d/99video suspend suspend: success.\n</code></pre> <p>Example output for the resume process:</p> <pre><code>/usr/lib/pm-utils/sleep.d/99video resume suspend: success.\n/usr/lib/pm-utils/sleep.d/98video-quirk-db-handler resume suspend: success.\n/usr/lib/pm-utils/sleep.d/95led resume suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/95hdparm-apm resume suspend: success.\n/usr/lib/pm-utils/sleep.d/94cpufreq resume suspend: success.\n/usr/lib/pm-utils/sleep.d/90clock resume suspend: not applicable.\n/usr/lib/pm-utils/sleep.d/75modules resume suspend: success.\n/usr/lib/pm-utils/sleep.d/60_wpa_supplicant resume suspend: success.\n/usr/lib/pm-utils/sleep.d/50unload_alx resume suspend: success.\n/usr/lib/pm-utils/sleep.d/40inputattach resume suspend: success.\n/etc/pm/sleep.d/10_unattended-upgrades-hibernate resume suspend: success.\n/etc/pm/sleep.d/10_grub-common resume suspend: success.\n/usr/lib/pm-utils/sleep.d/00powersave resume suspend: success.\n/usr/lib/pm-utils/sleep.d/00logging resume suspend: success.\n/usr/lib/pm-utils/sleep.d/000record-status resume suspend: success.\n/usr/lib/pm-utils/sleep.d/000kernel-change resume suspend: success.\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31M-platform-suspend-and-resume/#susp005001-cyclic-platform-suspend-and-resume-ubuntu-2204","title":"SUSP005.001 Cyclic platform suspend and resume (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the DUT platform suspend and resume procedure performed cyclically works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the Firmware test suite     package.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>sudo fwts s3 --results-output=stderr\n</code></pre> <p>Note: suspend test duration is set defaultly to 30 seconds. After that time the device should be woken up automatically.</p> </li> <li> <p>Log into the system again.</p> </li> <li>Note the results.</li> <li>Repeat steps 4-6 to determine the stability of suspend and resume procedure.</li> </ol> <p>Expected result</p> <p>Each time, the suspend and resume procedure is performed, the output of the command should contain information about test results (section <code>Test Failure Summary</code>).</p> <p>The test case passes only if after every iteration of the suspend and resume procedure the summary section shows that all minor tests included in <code>s3</code> test have been passed.</p> <p>Example output for one iteration:</p> <pre><code>Test Failure Summary\n================================================================================\n\nCritical failures: NONE\n\nHigh failures: NONE\n\nMedium failures: NONE\n\nLow failures: NONE\n\nOther failures: NONE\n\nTest           |Pass |Fail |Abort|Warn |Skip |Info |\n---------------+-----+-----+-----+-----+-----+-----+\ns3             |    9|     |     |     |     |     |\n---------------+-----+-----+-----+-----+-----+-----+\nTotal:         |    9|    0|    0|    0|    0|    0|\n---------------+-----+-----+-----+-----+-----+-----+\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31N-usb-boot/","title":"Dasharo Compatibility: USB Boot","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31N-usb-boot/#ubt001001-usb-detect-and-boot-after-coldboot","title":"UBT001.001 USB detect and boot after coldboot","text":"<p>Test description</p> <p>This test aims to verify that the DUT properly detects USB device and boots into the operating system after coldboot (reboot realized by power supply cutting off then restoring back). This test case may be re-done several times to specify the platform and connection stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Debian 11.0</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off.</li> <li>Restore power to the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Check if <code>USB_STICK</code> entry is available.</li> <li>Select the proper number for <code>USB_STICK</code> option.</li> <li>Wait for <code>Debian GNU/Linux</code>.</li> </ol> <p>Expected result</p> <p>The <code>Debian GNU/Linux</code> is visible and confirms successful boot into OS after coldboot.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31N-usb-boot/#ubt002001-usb-detect-and-boot-after-warmboot","title":"UBT002.001 USB detect and boot after warmboot","text":"<p>Test description</p> <p>This test aims to verify that the DUT properly detects USB device and boots into the operating system after warmboot (reboot realized by device turning off then turning on). This test case may be re-done several times to specify the platform and connection stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Debian 11.0</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Check if <code>USB_STICK</code> entry is available.</li> <li>Select the proper number for <code>USB_STICK</code> option.</li> <li>Wait for <code>Debian GNU/Linux</code>.</li> </ol> <p>Expected result</p> <p>The <code>Debian GNU/Linux</code> is visible and confirms successful boot into OS after warmboot.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31N-usb-boot/#ubt003001-usb-detect-and-boot-after-system-reboot","title":"UBT003.001 USB detect and boot after system reboot","text":"<p>Test description</p> <p>This test aims to verify that the DUT properly detects USB device and boots into the operating system after system reboot (reboot performed by relevant command). This test case may be re-done several times to specify the platform and connection stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Debian 11.0</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Check if <code>USB_STICK</code> entry is available.</li> <li>Select the proper number for <code>USB_STICK</code> option.</li> <li>Wait for <code>Debian GNU/Linux</code>.</li> <li>Wait for <code>debian login:</code>.</li> <li>Type the <code>root</code> login.</li> <li>Wait for <code>Password:</code>.</li> <li>Type the proper password.</li> <li>Wait for <code>root@debian:~#</code>.</li> <li>Execute <code>reboot</code> command.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Check if <code>USB_STICK</code> entry is available.</li> <li>Select the proper number for <code>USB_STICK</code> option.</li> <li>Wait for <code>Debian GNU/Linux</code>.</li> </ol> <p>Expected result</p> <p>The <code>Debian GNU/Linux</code> is visible and confirms successful boot into OS after system reboot.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31O-usb-detect/","title":"Dasharo Compatibility: USB Detection","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31O-usb-detect/#udt001001-usb-detection-after-coldboot","title":"UDT001.001 USB detection after coldboot","text":"<p>Test description</p> <p>This test aims to verify that the DUT properly detects USB device after coldboot (reboot realized by power supply cutting off then restoring back). This test case may be re-done several times to specify the platform and connection stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Debian 11.0</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off.</li> <li>Restore power to the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Check if <code>USB_STICK</code> entry is available.</li> </ol> <p>Expected result</p> <p>The <code>USB_STICK</code> entry is visible which confirms successful detection after coldboot.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31O-usb-detect/#udt002001-usb-detection-after-warmboot","title":"UDT002.001 USB detection after warmboot","text":"<p>Test description</p> <p>This test aims to verify that the DUT properly detects USB device after warmboot (reboot realized by device turning off then turning on). This test case may be re-done several times to specify the platform and connection stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Debian 11.0</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Check if <code>USB_STICK</code> entry is available.</li> </ol> <p>Expected result</p> <p>The <code>USB_STICK</code> entry is visible which confirms successful detection after warmboot.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31O-usb-detect/#udt003001-usb-detection-after-system-reboot","title":"UDT003.001 USB detection after system reboot","text":"<p>Test description</p> <p>This test aims to verify that the DUT properly detects USB device after system reboot (reboot performed by relevant command). This test case may be re-done several times to specify the platform and connection stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Debian 11.0</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Check if <code>USB_STICK</code> entry is available.</li> <li>Select the key with a proper number for <code>iPXE</code>.</li> <li>Press <code>Ctrl+B</code> when prompted to stop iPXE from booting automatically.</li> <li>Wait until <code>iPXE&gt;</code> prompt appears.</li> <li>Type in <code>dhcp</code> to obtain an IP address.</li> <li>Type in <code>chain</code> and local iPXE address after a single space to load a network boot menu.</li> <li>Select <code>Debian stable netboot 4.14.y</code> option below <code>iPXE boot menu</code> header.</li> <li>Wait for <code>debian login:</code>.</li> <li>Type the <code>root</code> login.</li> <li>Wait for <code>Password:</code>.</li> <li>Type the proper password.</li> <li>Wait for <code>root@debian:~#</code>.</li> <li>Execute <code>reboot</code> command.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Check if <code>USB_STICK</code> entry is available.</li> </ol> <p>Expected result</p> <p>The <code>USB_STICK</code> entry is visible which confirms successful detection after system reboot.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31P-flash-write-protection/","title":"Dasharo Security: Flash write protection","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31P-flash-write-protection/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Make yourself familiar with     SPI hardware write protection.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31P-flash-write-protection/#hwp001001-hardware-flash-write-protection-support","title":"HWP001.001 Hardware flash write protection support","text":"<p>Test description</p> <p>This test aims to verify whether the DUT supports hardware write protection mechanism.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Debian 11.0</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>sudo ./flashrom -p internal --wp-list\n</code></pre> <p>Expected result</p> <p>The output of the command should contain the information about lst of available write protection ranges, example has been shown below:</p> <pre><code>Available write protection ranges:\n    start=0x00000000 length=0x00000000 (none)\nstart=0x00000000 length=0x00001000 (lower 1/2048)\nstart=0x007ff000 length=0x00001000 (upper 1/2048)\nstart=0x00000000 length=0x00002000 (lower 1/1024)\nstart=0x007fe000 length=0x00002000 (upper 1/1024)\nstart=0x00000000 length=0x00004000 (lower 1/512)\nstart=0x007fc000 length=0x00004000 (upper 1/512)\nstart=0x00000000 length=0x00008000 (lower 1/256)\nstart=0x007f8000 length=0x00008000 (upper 1/256)\nstart=0x00000000 length=0x00020000 (lower 1/64)\nstart=0x007e0000 length=0x00020000 (upper 1/64)\nstart=0x00000000 length=0x00040000 (lower 1/32)\nstart=0x007c0000 length=0x00040000 (upper 1/32)\nstart=0x00000000 length=0x00080000 (lower 1/16)\nstart=0x00780000 length=0x00080000 (upper 1/16)\nstart=0x00000000 length=0x00100000 (lower 1/8)\nstart=0x00700000 length=0x00100000 (upper 1/8)\nstart=0x00000000 length=0x00200000 (lower 1/4)\nstart=0x00600000 length=0x00200000 (upper 1/4)\nstart=0x00000000 length=0x00400000 (lower 1/2)\nstart=0x00400000 length=0x00400000 (upper 1/2)\nstart=0x00000000 length=0x00600000 (lower 3/4)\nstart=0x00200000 length=0x00600000 (upper 3/4)\nstart=0x00000000 length=0x00700000 (lower 7/8)\nstart=0x00100000 length=0x00700000 (upper 7/8)\nstart=0x00000000 length=0x00780000 (lower 15/16)\nstart=0x00080000 length=0x00780000 (upper 15/16)\nstart=0x00000000 length=0x007c0000 (lower 31/32)\nstart=0x00040000 length=0x007c0000 (upper 31/32)\nstart=0x00000000 length=0x007e0000 (lower 63/64)\nstart=0x00020000 length=0x007e0000 (upper 63/64)\nstart=0x00000000 length=0x007f8000 (lower 255/256)\nstart=0x00008000 length=0x007f8000 (upper 255/256)\nstart=0x00000000 length=0x007fc000 (lower 511/512)\nstart=0x00004000 length=0x007fc000 (upper 511/512)\nstart=0x00000000 length=0x007fe000 (lower 1023/1024)\nstart=0x00002000 length=0x007fe000 (upper 1023/1024)\nstart=0x00000000 length=0x007ff000 (lower 2047/2048)\nstart=0x00001000 length=0x007ff000 (upper 2047/2048)\nstart=0x00000000 length=0x00800000 (all)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31P-flash-write-protection/#hwp002001-hardware-flash-write-protection-enable-disable","title":"HWP002.001 Hardware flash write protection enable / disable","text":"<p>Test description</p> <p>This test aims to verify whether there is a possibility to set and erase hardware write protection on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Debian 11.0</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Based on the documentation     erase current write protection.</li> <li>Based on the documentation     set write protection for a specific range.</li> <li> <p>Execute the following command in the terminal to check the status and the     range of write protection:</p> <pre><code>sudo ./flashrom -p internal --wp-status\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li> <p>The output of the command should contain the information about protection     mode:</p> <pre><code>Protection mode: hardware\n</code></pre> </li> <li> <p>Protection range: read from the command output and set before should be the     same.</p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31R-pcie-ports/","title":"Dasharo Compatibility: PCI Express ports support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31R-pcie-ports/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31R-pcie-ports/#pex001001-pci-express-card-detection-ubuntu-2204","title":"PEX001.001 PCI Express card detection (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the PCI Express extension card is enumerated correctly and can be detected from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Plug the PCI Express extension card to the tested slot.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>lspci\n</code></pre> <p>Expected result</p> <p>The output of the command should contain the plugged device name:</p> <pre><code>01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Turks PRO [Radeon HD 7570]\n</code></pre> <p>The exact name and revision may be different depending on hardware configuration.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31R-pcie-ports/#pex001002-pci-express-card-detection-windows-11","title":"PEX001.002 PCI Express card detection (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi/Bluetooth card is enumerated correctly and can be detected from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Plug the PCI Express extension card to the tested slot.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open Device Manager and find the plugged device</li> <li>Note the device status.</li> </ol> <p>Expected result</p> <p>The device status in the Device Manager should indicate that the device is working properly and has no problems.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31S-sata-led-and-pc-speaker-error-indication/","title":"Dasharo Compatibility: SATA LED and PC speaker error indication","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31S-sata-led-and-pc-speaker-error-indication/#err001001-sata-led-and-pc-speaker-error-indication-support-firmware","title":"ERR001.001 SATA LED and PC speaker error indication support (firmware)","text":"<p>Test description</p> <p>This test aims to verify if SATA LED blink and PC speaker beeps on critical firmware errors.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li>DUT with PC speaker</li> <li>DUT with SATA LED</li> <li>DUT with removable RAM modules.</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Remove power from DUT.</li> <li>Remove all RAM memory modules from the DUT.</li> <li>Connect power supply and power on the DUT.</li> <li>Observe the DUT starts blinking the SATA LED and beeps with PC speaker.</li> </ol> <p>Expected result</p> <p>When no memory modules are connected, this is considered a critical firmware error and the platform can not proceed with booting. Error indication path will be triggered causing the platform to beep and blink the SATA LED. There should be only 12 beeps, but the SATA LED should blink endlessly (until DUT is powered off or reset).</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31T-cpu-status/","title":"Dasharo Compatibility: CPU Status","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31T-cpu-status/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31T-cpu-status/#cpu001001-cpu-works-ubuntu-2204","title":"CPU001.001 CPU works (Ubuntu 22.04)","text":"<p>Test description</p> <p>Check whether the mounted on the DUT CPU works.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31T-cpu-status/#cpu001002-cpu-works-windows-11","title":"CPU001.002 CPU works (Windows 11)","text":"<p>Test description</p> <p>Check whether the mounted on the DUT CPU works.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31T-cpu-status/#cpu002001-cpu-cache-enabled-ubuntu-2204","title":"CPU002.001 CPU cache enabled (Ubuntu 22.04)","text":"<p>Test description</p> <p>Check whether all declared for the DUT cache levels are enabled.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot.</li> <li> <p>Execute below command in terminal:</p> <pre><code>getconf -a | grep CACHE\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain information about all cache levels, their size and association. Example output:</p> <pre><code>LEVEL1_ICACHE_SIZE                 32768\nLEVEL1_ICACHE_ASSOC                32\nLEVEL1_ICACHE_LINESIZE             128\nLEVEL1_DCACHE_SIZE                 32768\nLEVEL1_DCACHE_ASSOC                32\nLEVEL1_DCACHE_LINESIZE             128\nLEVEL2_CACHE_SIZE                  524288\nLEVEL2_CACHE_ASSOC                 2048\nLEVEL2_CACHE_LINESIZE              32\nLEVEL3_CACHE_SIZE                  10485760\nLEVEL3_CACHE_ASSOC                 40960\nLEVEL3_CACHE_LINESIZE              32\nLEVEL4_CACHE_SIZE                  0\nLEVEL4_CACHE_ASSOC                 0\nLEVEL4_CACHE_LINESIZE              0\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31T-cpu-status/#cpu002002-cpu-cache-enabled-windows-11","title":"CPU002.002 CPU cache enabled (Windows 11)","text":"<p>Test description</p> <p>Check whether all declared for the DUT cache levels are enabled.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot.</li> <li> <p>Run PowerShell as an administrator and execute command:</p> <pre><code>Get-Wmiobject -class win32_cachememory | fl Purpose, CacheType, InstalledSize\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain information about all cache levels, their size and association. Example output:</p> <pre><code>Purpose       : CACHE1\nCacheType     : 4\nInstalledSize : 192\n\nPurpose       : CACHE1\nCacheType     : 3\nInstalledSize : 128\n\nPurpose       : CACHE2\nCacheType     : 5\nInstalledSize : 5120\n\nPurpose       : CACHE3\nCacheType     : 5\nInstalledSize : 8192\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31T-cpu-status/#cpu003001-multiple-cpu-support-ubuntu-2204","title":"CPU003.001 Multiple CPU support (Ubuntu 22.04)","text":"<p>Test description</p> <p>Check whether the DUT has multiple CPU support.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot.</li> <li> <p>Execute below command in terminal:</p> <pre><code>lscpu\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain basic information about the CPU, including the number of the <code>CPU (s)</code>. If <code>CPU(s)</code> are more than 1, the DUT has multiple CPU support. Example results:</p> <pre><code>Architecture:                    ppc64le\nByte Order:                      Little Endian\nCPU(s):                          32\nOn-line CPU(s) list:             0-31\nThread(s) per core:              4\nCore(s) per socket:              4\nSocket(s):                       2\nNUMA node(s):                    2\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31T-cpu-status/#cpu003002-multiple-cpu-support-windows-11","title":"CPU003.002 Multiple CPU support (Windows 11)","text":"<p>Test description</p> <p>Check whether the DUT has multiple CPU support.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot.</li> <li> <p>Run PowerShell as an administrator and execute command:</p> <pre><code>WMIC CPU Get NumberOfCores\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain information about the CPUs. Example results:</p> <pre><code>NumberOfCores\n4\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31T-cpu-status/#cpu004001-multiple-core-support-ubuntu-2204","title":"CPU004.001 Multiple-core support (Ubuntu 22.04)","text":"<p>Test description</p> <p>Check whether the DUT has multi-core support.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot.</li> <li> <p>Execute below command in terminal:</p> <pre><code>lscpu\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain basic information about the CPU, including the number of the <code>Core(s) per socket</code>. If <code>Core(s) per socket</code> are more than 1, the DUT has multi-core support. Example results:</p> <pre><code>Architecture:                    ppc64le\nByte Order:                      Little Endian\nCPU(s):                          32\nOn-line CPU(s) list:             0-31\nThread(s) per core:              4\nCore(s) per socket:              4\nSocket(s):                       2\nNUMA node(s):                    2\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31T-cpu-status/#cpu004002-multiple-core-support-windows-11","title":"CPU004.002 Multiple-core support (Windows 11)","text":"<p>Test description</p> <p>Check whether the DUT has multi-core support.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot.</li> <li> <p>Run PowerShell as an administrator and check total CPU cores by executing command:</p> <pre><code>WMIC CPU Get NumberOfCores\n</code></pre> </li> <li> <p>Note the result.</p> </li> <li> <p>Check total CPU socket number by executing command:</p> <pre><code>(Get-CimInstance -ClassName Win32_ComputerSystem).NumberOfProcessors\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <ol> <li> <p>If number of cores is higher than number of sockets then DUT has multi-core support. Example outputs:</p> </li> <li> <p>1st command:</p> </li> </ol> <pre><code>NumberOfCores\n4\n</code></pre> <ul> <li>2nd command:</li> </ul> <pre><code>1\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/","title":"Dasharo Compatibility: Heads bootloader support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds001001-heads-installation","title":"HDS001.001 Heads installation","text":"<p>Test description</p> <p>This test aims to verify that Heads could be installed on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Flash bootkernel partition with Heads in accordance with the     documentation.</li> </ol> <p>Expected result</p> <p>The output of the <code>pflash</code> command should contain information, that flashing procedure has been ended without any errors.</p> <p>Example output:</p> <pre><code>Programming &amp; Verifying...\n[==================================================] 100% ETA:0s\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds002001-boot-into-heads","title":"HDS002.001 Boot into Heads","text":"<p>Test description</p> <p>This test aims to verify that the DUT during the booting procedure reaches Heads bootloader.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Heads</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>Heads</code> bootloader screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds003001-boot-from-usb-option-is-available-and-works-correctly","title":"HDS003.001 Boot from USB option is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>Boot from USB</code> option in the <code>Default boot menu</code> is available (if there is no option to boot OS from the Hard Disk) and allows to boot system mounted on the USB.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li><code>USB storage</code> with the installed OS.</li> </ol> <p>Test steps</p> <ol> <li>Plug the <code>USB storage</code> into DUT.</li> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select <code>Boot from USB</code> option using the arrow keys and Enter.</li> <li>Select a partition from the <code>USB storage</code> from which the system will be     booted.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The operating system from <code>USB storage</code> should boot properly.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds004001-continue-to-the-main-menu-option-is-available-and-works-correctly","title":"HDS004.001 Continue to the main menu option is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>Continue to the main menu</code> option in the <code>Default boot menu</code> is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>After selecting <code>Continue to the main menu</code>, the <code>Heads Boot Menu</code> should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds005001-exit-to-recovery-shell-option-is-available-and-works-correctly","title":"HDS005.001 Exit to recovery shell option is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>Exit to recovery shell</code> option in the <code>Default boot menu</code> is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Exit to recovery shell</code> option using the arrow keys and Enter.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>After selecting <code>Exit to recovery shell</code>, the recovery shell should be shown.</p> <p>Example output:</p> <pre><code>!!!!! User requested recovery shell\n!!!!! Starting recovery shell\n~ #\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds006001-default-boot-option-is-available-and-works-correctly","title":"HDS006.001 Default boot option is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>Default boot</code> option in the <code>Heads boot menu</code> is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Default boot</code> option in the <code>Heads boot menu</code>.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>After selecting <code>Default boot</code>, the <code>Default boot menu</code> should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds007001-options-submenu-is-available-and-works-correctly","title":"HDS007.001 Options submenu is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>Options --&gt;</code> option in the <code>Heads boot menu</code> is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>After selecting <code>Options --&gt;</code>, the <code>HEADS Options</code> menu should be displayed.</p> <p>Example view of <code>HEADS Options</code>:</p> <pre><code>b  Boot Options --&gt;\nt  TPM/TOTP/HOTP Options --&gt;\nu  Update checksums and sign all files in /boot\nc  Change configuration settings --&gt;\nf  Flash/Update the BIOS --&gt;\ng  GPG Options --&gt;\nF  OEM Factory Reset --&gt;\nx  Exit to recovery shell\nr  &lt;-- Return to main menu\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds008001-system-info-option-is-available-and-works-correctly","title":"HDS008.001 System info option is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>System Info</code> option in the <code>Heads boot menu</code> allows displaying all basic system information.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>System Info</code> option in the <code>Heads boot menu</code>.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>After selecting <code>System Info</code>, the basic system information should be displayed.</p> <p>Example output:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 System Info \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                          \u2502\n\u2502 Talos 2 Server                                           \u2502\n\u2502                                                          \u2502\n\u2502 FW_VER: v0.5.0                                           \u2502\n\u2502 Kernel: Linux 5.5.0-openpower1                           \u2502\n\u2502                                                          \u2502\n\u2502 CPU: IBM POWER9 \u201cSforza\u201d                                 \u2502\n\u2502 RAM: 8 GB                                                \u2502\n\u2502                                                          \u2502\n\u2502 Disk /dev/nvme0n1: 477 GB                                \u2502\n\u2502                                                          \u2502\n\u2502                                                          \u2502\n\u2502                          &lt;Ok&gt;                            \u2502\n\u2502                                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds009001-power-off-option-is-available-and-works-correctly","title":"HDS009.001 Power off option is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>Power Off</code> option in the <code>Heads boot menu</code> allows turning off the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Power Off</code> option in the <code>Heads boot menu</code>.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>After selecting <code>Power Off</code>, the DUT should be turned off without any complications.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds010001-oem-factory-reset-option-is-available-and-works-correctly","title":"HDS010.001 OEM Factory Reset option is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>OEM Factory Reset / Re-Ownership --&gt;</code> option in the <code>HEADS Options</code> submenu is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>USB Security Dongle</code></li> <li>Previously installed OS</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the <code>USB Security Dongle</code> into DUT.</li> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>OEM Factory Reset / Re-Ownership --&gt;</code> option in the    <code>HEADS Options</code> submenu.</li> <li>Choose <code>&lt;Continue&gt;</code> in the displayed <code>OEM Factory Reset / Re-Ownership</code>    window using the arrow keys and Enter.</li> <li>Go through the installation process by answering the questions.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <ol> <li>The <code>Provisioned Security Components Secrets</code> should be displayed at the end    of the installation.</li> <li>The new GPG keys should be placed on the <code>USB Security Dongle</code>.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds011001-add-gpg-key-to-running-bios-and-reflash","title":"HDS011.001 Add GPG key to running BIOS and reflash","text":"<p>Test description</p> <p>This test aims to verify that the <code>Add GPG key to running BIOS and reflash</code> option in the <code>GPG Management Menu</code> is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li>Additional <code>USB storage</code> - at least 1GB, with GPG public key</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the <code>USB storage</code> into DUT.</li> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>GPG Options --&gt;</code> option in the <code>HEADS Options</code> submenu.</li> <li>Select the <code>Add GPG key to running BIOS and reflash</code> option in the    <code>GPG Management Menu</code>.</li> <li>Choose <code>&lt;Yes&gt;</code> in the displayed <code>GPG public key required</code> window using the    arrow keys and Enter.</li> <li>Choose GPG public key from the <code>USB storage</code> and press Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>GPG Options --&gt;</code> option in the <code>HEADS Options</code> submenu.</li> <li>Select the <code>List GPG keys in your keyring</code> option in the    <code>GPG Management Menu</code>.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The <code>GPG Keyring</code> window should contain information about the given GPG key.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds012001-add-gpg-key-to-standalone-bios-image-and-flash","title":"HDS012.001 Add GPG key to standalone BIOS image and flash","text":"<p>Test description</p> <p>This test aims to verify that the <code>Add GPG key to standalone BIOS image and flash</code> option in the <code>GPG Management Menu</code> is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li>Additional <code>USB storage</code> - at least 1GB, with GPG public key and BIOS image</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the <code>USB storage</code> into DUT.</li> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>GPG Options --&gt;</code> option in the <code>HEADS Options</code> submenu.</li> <li>Select the <code>Add GPG key to standalone BIOS image and flash</code> option in the    <code>GPG Management Menu</code>.</li> <li>Choose <code>&lt;Yes&gt;</code> in the displayed <code>GPG public key required</code> window using the    arrow keys and Enter.</li> <li>Choose GPG public key from the <code>USB storage</code> and press Enter.</li> <li>Choose BIOS image(*.rom) from the <code>USB storage</code> and press Enter.</li> <li>Choose <code>&lt;Yes&gt;</code> in the displayed <code>Flash ROM?</code> window using the arrow keys and    Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>GPG Options --&gt;</code> option in the <code>HEADS Options</code> submenu.</li> <li>Select the <code>List GPG keys in your keyring</code> option in the    <code>GPG Management Menu</code>.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The <code>GPG Keyring</code> window should contain information about the given GPG key.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds013001-replace-gpg-keys-in-the-current-rom-and-reflash","title":"HDS013.001 Replace GPG key(s) in the current ROM and reflash","text":"<p>Test description</p> <p>This test aims to verify that the <code>Replace GPG key(s) in the current ROM and reflash</code> option in the <code>GPG Management Menu</code> is available and replaces GPG keys correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li>Additional <code>USB storage</code> - at least 1GB, with GPG public key</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the <code>USB storage</code> into DUT.</li> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>GPG Options --&gt;</code> option in the <code>HEADS Options</code> submenu.</li> <li>Select the <code>Replace GPG key(s) in the current ROM and reflash</code> option in the    <code>GPG Management Menu</code>.</li> <li>Choose <code>&lt;Yes&gt;</code> in the displayed <code>GPG public key required</code> window using the    arrow keys and Enter.</li> <li>Choose GPG public key from the <code>USB storage</code> and press Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>GPG Options --&gt;</code> option in the <code>HEADS Options</code> submenu.</li> <li>Select the <code>List GPG keys in your keyring</code> option in the    <code>GPG Management Menu</code>.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The <code>GPG Keyring</code> window should contain information about the given GPG key.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds014001-list-gpg-keys-in-your-keyring","title":"HDS014.001 List GPG keys in your keyring","text":"<p>Test description</p> <p>This test aims to verify that the <code>List GPG keys in your keyring</code> option in the <code>GPG Management Menu</code> is available and listed GPG keys correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>GPG Options --&gt;</code> option in the <code>HEADS Options</code> submenu.</li> <li>Select the <code>List GPG keys in your keyring</code> option in the    <code>GPG Management Menu</code>.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <ol> <li> <p>The <code>GPG Keyring</code> window should contain information about the GPG key if any    was added.</p> <p>Example information in the <code>GPG Keyring</code> window:</p> <pre><code>//.gnupg/pubring.kbx\n--------------------\npub   rsa3072 2022-11-22 [SC]\nAFA824E4660A265253BA1571B640E02380808C34\nuid          [ultimate] OEM Key (OEM-generated key) &lt;oem-20221122083831@example.co\nsub   rsa3072 2022-11-22 [A]\nsub   rsa3072 2022-11-22 [E]\n</code></pre> </li> <li> <p>The <code>GPG Keyring</code> window should be empty if no key has been added.</p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds015001-export-public-gpg-key-to-usb-drive","title":"HDS015.001 Export public GPG key to USB drive","text":"<p>Test description</p> <p>This test aims to verify that the <code>Export public GPG key to USB drive</code> option in the <code>GPG Management Menu</code> is available and exports GPG keys correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li>Additional <code>USB storage</code> - at least 1GB</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>GPG Options --&gt;</code> option in the <code>HEADS Options</code> submenu.</li> <li>Select the <code>Export public GPG key to USB drive</code> option in the    <code>GPG Management Menu</code>.</li> <li>Choose <code>&lt;Yes&gt;</code> in the displayed <code>Export Public Key(s) to USB drive?</code> window    using the arrow keys and Enter.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <ol> <li><code>The GPG Key Copied Successfully</code> window should be displayed.</li> <li>The <code>public-key.asc</code> file should be on <code>USB storage</code>.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds016001-generate-gpg-keys-manually-on-a-usb-security-token","title":"HDS016.001 Generate GPG keys manually on a USB security token","text":"<p>Test description</p> <p>This test aims to verify that the <code>Generate GPG keys manually on a USB security token</code> option in the <code>GPG Management Menu</code> is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>USB Security Dongle</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the <code>USB Security Dongle</code> into DUT.</li> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>GPG Options --&gt;</code> option in the <code>HEADS Options</code> submenu.</li> <li>Select the <code>Generate GPG keys manually on a USB security token</code> option in the    <code>GPG Management Menu</code>.</li> <li>Confirm that the <code>USB Security Dongle</code> is inserted, type <code>Y</code> and press Enter.</li> <li>Wait for <code>gpg/card&gt;</code> prompt is appeared.</li> <li>Type <code>admin</code> and press Enter.</li> <li>Type <code>generate</code> and press Enter.</li> <li>Answer <code>y</code> to question <code>Replace existing keys?</code>.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <ol> <li>Information about the successful generation of GPG keys should be displayed.</li> <li>The new GPG keys are on the <code>USB Security Dongle</code>.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds017001-clear-gpg-keys-and-reset-all-user-settings","title":"HDS017.001 Clear GPG key(s) and reset all user settings","text":"<p>Test description</p> <p>This test aims to verify that the <code>Clear GPG key(s) and reset all user settings</code> option in the <code>Config Management Menu</code> is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>Change configuration settings --&gt;</code> option in the <code>HEADS Options</code>    submenu.</li> <li>Select the <code>Clear GPG key(s) and reset all user settings</code> option in the    <code>Config Management Menu</code>.</li> <li>Choose <code>&lt;Yes&gt;</code> in the displayed <code>Reset Configuration?</code> window using the    arrow keys and Enter.</li> <li>Reboot the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>GPG Options --&gt;</code> option in the <code>HEADS Options</code> submenu.</li> <li>Select the <code>List GPG keys in your keyring</code> option in the    <code>GPG Management Menu</code>.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The <code>GPG Keyring</code> window should be empty.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds018001-reset-tpm-option-is-available-and-works-correctly","title":"HDS018.001 Reset TPM option is available and works correctly","text":"<p>Test description</p> <p>This test aims to verify that the <code>Reset TPM</code> option in the <code>TPM/TOTP/HOTP Options</code> submenu is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>TPM/TOTP/HOTP Options --&gt;</code> option in the <code>HEADS Options</code> submenu.</li> <li>Select the <code>Reset the TPM</code> option in the <code>TPM/TOTP/HOTP Options</code> submenu.</li> <li>Choose <code>&lt;Yes&gt;</code> in the displayed <code>Reset the TPM</code> window using the arrow keys    and Enter.</li> <li>Set the TPM owner password.</li> <li>Scan the QR code using a mobile application to add the new TOTP secret and    press Enter.</li> <li>Reboot the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> </ol> <p>Expected result</p> <p>After selecting the <code>Continue to the main menu</code> option, should be prompted for the TPM owner password.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31U-heads-bootloader-support/#hds019001-generate-new-totphotp-secret","title":"HDS019.001 Generate new TOTP/HOTP secret","text":"<p>Test description</p> <p>This test aims to verify that the <code>Generate new TOTP/HOTP secret</code> option in the <code>TPM/TOTP/HOTP Options</code> submenu is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> <li>Select the <code>Options --&gt;</code> option in the <code>Heads boot menu</code>.</li> <li>Select the <code>TPM/TOTP/HOTP Options --&gt;</code> option in the <code>HEADS Options</code> submenu.</li> <li>Select the <code>Generate new TOTP/HOTP secret</code> option in the    <code>TPM/TOTP/HOTP Options</code> submenu.</li> <li>Scan the QR code using a mobile application to add the new TOTP secret and    press Enter.</li> <li>Reboot the DUT.</li> <li>Wait for the <code>Default boot menu</code> appears.</li> <li>Select the <code>Continue to the main menu</code> option using the arrow keys and Enter.</li> </ol> <p>Expected result</p> <p>After selecting the <code>Continue to the main menu</code> option, should be prompted for the TOTP password.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31V-petitboot-payload-support/","title":"Dasharo Compatibility: Petitboot payload support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31V-petitboot-payload-support/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31V-petitboot-payload-support/#pbt001001-boot-into-petitboot","title":"PBT001.001 Boot into Petitboot","text":"<p>Test description</p> <p>This test verifies that the DUT during booting procedure reaches Petitboot menu.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Petitboot</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>Petitbooot</code> menu screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31V-petitboot-payload-support/#pbt002001-read-system-information-from-petitboot","title":"PBT002.001 Read System Information from Petitboot","text":"<p>Test description</p> <p>This test verifies that Petitboot System Information option is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Petitboot</code> to boot.</li> <li>Select the <code>System Information</code> option using the arrow keys and press     <code>Enter</code>.</li> <li>Note the result.</li> </ol> <p>Expected result</p> <p>After select <code>System Information</code> option, device information tree should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31V-petitboot-payload-support/#pbt003001-rescan-devices-by-petitboot","title":"PBT003.001 Rescan Devices by Petitboot","text":"<p>Test description</p> <p>This test verifies that Petitboot Rescan Device option is available and works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the <code>Petitboot</code> to boot.</li> <li>Select the <code>Rescan Devices</code> option using the arrow keys and press <code>Enter</code>.</li> <li>Note the results.</li> <li>Attach <code>USB Stick</code> with bootable system to USB port in DUT.</li> <li>Select the <code>Rescan Devices</code> again and note the results.</li> </ol> <p>Expected result</p> <p>Information about the attached <code>USB Stick</code> should be displayed after the second use of the <code>Rescan Devices</code> option.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/31W-device-tree/","title":"Dasharo compatibility: Device tree","text":""},{"location":"unified-test-documentation/dasharo-compatibility/31W-device-tree/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/31W-device-tree/#dvt001001-node-with-coreboot-exists","title":"DVT001.001 Node with coreboot exists","text":"<p>Test description</p> <p>This test aims to verify whether the node with the coreboot exists in the Device Tree.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Debian 11.0</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>xxd /sys/firmware/devicetree/base/firmware/coreboot/compatible\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain information about memory sectors dedicated for coreboot. Example output:</p> <pre><code>00000000: 636f 7265 626f 6f74 00                   coreboot\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/31W-device-tree/#dvt002001-memory-for-coreboot-is-reserved-ubuntu-2204","title":"DVT002.001 Memory for coreboot is reserved (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that in the system exists reserved memory for coreboot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Debian 11.0</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>xxd /sys/firmware/devicetree/base/firmware/coreboot/reg\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li> <p>Run the following command in the terminal:</p> <pre><code> xxd /sys/firmware/devicetree/base/reserved-memory/ranges\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li>Output of the first command should contain information about memory ranges     for corebotot.</li> <li>Output of the second command should contain information about reserved     ranges.</li> <li>All memory range for coreboot (output from command 1) should be reserved     (output from command 2).</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/320-fwupd-firmware-update/","title":"Dasharo Compatibility: Firmware update using fwupd","text":""},{"location":"unified-test-documentation/dasharo-compatibility/320-fwupd-firmware-update/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> <li>Install the <code>dmidecode</code> package: <code>sudo apt install dmidecode</code>.</li> <li>Make yourself familiar with     Updating firmware using fwupd</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/320-fwupd-firmware-update/#ffw001001-firmware-update-by-using-fwupd","title":"FFW001.001 Firmware update by using fwupd","text":"<p>Test description</p> <p>This test verify whether it is possible to update the firmware on the DUT by using fwupd demon.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Disable Secure Boot.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the  system by using the proper login and password.</li> <li>Configure environment in accordance with the     documentation</li> <li> <p>Start firmware updating procedure by executing the following command in     the terminal:</p> <pre><code>    sudo fwupdmgr update\n</code></pre> </li> <li> <p>Reboot the DUT.</p> </li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command to verify results:</p> <pre><code>sudo dmidecode -t bios\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output of <code>dmidecode</code> command should contain information about current firmware. The current firmware version should be equal to the latest released firmware version.</p> <p>Example output:</p> <pre><code>BIOS Information\n        Vendor: 3mdeb\n        Version: Dasharo (coreboot+UEFI) v1.1.0\n        Release Date: 03/24/2022\n        ROM Size: 16 MB\n        Characteristics:\n            PCI is supported\n            PC Card (PCMCIA) is supported\n            BIOS is upgradeable\n            BIOS shadowing is allowed\n            Selectable boot is supported\n            ACPI is supported\n            USB legacy is supported\n            Targeted content distribution is supported\n            UEFI is supported\n        BIOS Revision: 1.1\n        Firmware Revision: 0.0\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/325-custom-boot-order/","title":"Dasharo Compatibility: Custom Boot Order","text":""},{"location":"unified-test-documentation/dasharo-compatibility/325-custom-boot-order/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/325-custom-boot-order/#cbo001001-custom-boot-order-seabios","title":"CBO001.001 Custom boot order (SeaBIOS)","text":"<p>Test description</p> <p>This test aims to verify that the DUT boot from the suitable source, with the possibility to boot from other sources.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT</li> <li>Press <code>BOOT_MENU_KEY</code> key to display boot menu.</li> <li>Compare the listed devices with the desired boot order.</li> </ol> <p>Expected result</p> <p>When there is a possibility for the platform to boot from different sources:</p> <ol> <li>Priority will be given to the system booted from SSD connected by mSATA.</li> <li>If above-mentioned SSD does not include system, it will be booted from USB.</li> <li>If it either not include system, it will be booted from SSD connected by SATA 2.5</li> </ol> <p>If there is only one bootable medium the platform shall boot from it.</p> <p>Example boot menu:</p> <pre><code>Select boot device:\n\n1. AHCI/0: SATA SSD ATA-11 Hard-Disk (15272 MiBytes)\n2. USB MSC Drive  USB Flash Memory PMAP\n3. USB MSC Drive SanDisk Ultra 1.00\n4. USB MSC Drive Generic Flash Disk 8.07\n5. AHCI/1: TOSHIBA MK2561GSYN ATA-8 Hard-Disk (232 GiBytes)\n6. iPXE\n7. Payload [memtest]\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/325-custom-boot-order/#cbo001002-custom-boot-order-edk2","title":"CBO001.002 Custom boot order (edk2)","text":"<p>Test description</p> <p>This test aims to verify that the DUT boot from the suitable source, with the possibility to boot from other sources.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT</li> <li>Press <code>SETUP MENU</code> key to display boot menu.</li> <li>Select <code>Boot Maintenance Manager</code> and press <code>ENTER</code>.</li> <li>In <code>Boot Maintenance Manager</code> menu select <code>Boot Options</code> and press <code>ENTER</code>.</li> <li>In <code>Change Boot Order</code> menu select <code>Change the order</code> option and press     <code>ENTER</code>.</li> <li>Set the desired boot order.</li> <li>Reboot the device.</li> <li>Press <code>BOOT_MENU_KEY</code> key to display boot menu.</li> <li>Compare the listed devices with the desired boot order.</li> </ol> <p>Expected result</p> <p>Current boot order option list should correspond to the desired boot order.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/326-dasharo-tools-suite/","title":"Dasharo Compatibility: Dasharo Tools Suite","text":""},{"location":"unified-test-documentation/dasharo-compatibility/326-dasharo-tools-suite/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Wired network connection.</li> <li>Disable Secure Boot.</li> <li>Prepare the bootable USB stick</li> <li>Make yourself familiar with     Dasharo Tools Suite.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/326-dasharo-tools-suite/#dts001001-booting-dts-from-usb-works-correctly","title":"DTS001.001 Booting DTS from USB works correctly","text":"<p>Test description</p> <p>This test aims to verify that DTS is properly booting from USB.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the USB stick with DTS into the USB slot on the DUT.</li> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the USB stick with DTS using the arrow keys and press <code>Enter</code>.</li> </ol> <p>Expected result</p> <p>After a while, the DTS menu should appear.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/326-dasharo-tools-suite/#dts002001-dts-option-creating-dasharo-hcl-report-works-correctly","title":"DTS002.001 DTS option Creating Dasharo HCL report works correctly","text":"<p>Test description</p> <p>This test aims to verify that the option <code>Dasharo HCL report</code> in the DTS menu properly creates the report.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the USB stick with DTS into the USB slot on the DUT.</li> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the USB stick with DTS using the arrow keys and press <code>Enter</code>.</li> <li>Wait for <code>Enter an option:</code>.</li> <li>Type in <code>1</code> and press <code>Enter</code>.</li> <li>Wait for the question: <code>Do you want to support Dasharo development by</code> <code>sending us logs with hardware configuration</code>?</li> <li>Type in <code>y</code> and press Enter.</li> </ol> <p>Expected result</p> <p>The whole process may take a few minutes.</p> <ol> <li>The report should be generated.</li> <li>The report should be sent to the cloud.</li> <li>In the summary should be displayed information that all calls exited without     errors.</li> </ol> <p>Example summary output:</p> <pre><code>SUMMARY\n========\n\n&gt; All Curl calls exited without errors\n &gt; Attempt to send completed &gt; &lt;report_name&gt;.tar.gz\nThanks you for supporting Dasharo!\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/326-dasharo-tools-suite/#dts003001-dts-option-power-off-dut-works-correctly","title":"DTS003.001 DTS option power-off DUT works correctly","text":"<p>Test description</p> <p>This test aims to verify that the option <code>Power off system</code> in the DTS menu turns off the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the USB stick with DTS into the USB slot on the DUT.</li> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the USB stick with DTS using the arrow keys and press <code>Enter</code>.</li> <li>Wait for <code>Enter an option:</code>.</li> <li>Type in <code>10</code> and press <code>Enter</code>.</li> </ol> <p>Expected result</p> <p>The DUT should be turned off without any complications.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/326-dasharo-tools-suite/#dts004001-dts-option-reboot-dut-works-correctly","title":"DTS004.001 DTS option reboot DUT works correctly","text":"<p>Test description</p> <p>This test aims to verify that the option <code>Reboot system</code> in the DTS menu reboots the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the USB stick with DTS into the USB slot on the DUT.</li> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the USB stick with DTS using the arrow keys and press <code>Enter</code>.</li> <li>Wait for <code>Enter an option:</code>.</li> <li>Type in <code>11</code> and press <code>Enter</code>.</li> </ol> <p>Expected result</p> <p>The DUT should be rebooted without any complications.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/326-dasharo-tools-suite/#dts005001-dts-drop-to-shell-option-works-correctly","title":"DTS005.001 DTS drop-to-shell option works correctly","text":"<p>Test description</p> <p>This test aims to verify that the option <code>Shell</code> in the DTS menu opens Shell.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the USB stick with DTS into the USB slot on the DUT.</li> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the USB stick with DTS using the arrow keys and press <code>Enter</code>.</li> <li>Wait for <code>Enter an option:</code>.</li> <li>Type in <code>9</code> and press <code>Enter</code>.</li> </ol> <p>Expected result</p> <ol> <li>Information about entering the shell and how to exit should be displayed.</li> <li>Shell command input should be activated.</li> </ol> <p>Example output:</p> <pre><code>Entering shell, to leave type exit and press Enter or press LCtrl+D\n\nbash-5.1#\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/326-dasharo-tools-suite/#dts006001-flash-device-from-dts-shell-by-using-flashrom-works-correctly","title":"DTS006.001 Flash device from DTS shell by using flashrom works correctly","text":"<p>Test description</p> <p>This test aims to verify whether is the possibility to flash the DUT firmware by using flashrom in <code>DTS Shell</code>.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li><code>{PATH}</code> = individual path to a specific binary.</li> </ol> <p>Test steps</p> <ol> <li>Plug the USB stick with DTS into the USB slot on the DUT.</li> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the USB stick with DTS using the arrow keys and press <code>Enter</code>.</li> <li>Wait for <code>Enter an option:</code>.</li> <li>Type 9 and click <code>Enter</code> to launch Shell.</li> <li> <p>Run the following command to obtain <code>coreboot.rom</code> binary:</p> <pre><code>wget https://3mdeb.com/open-source-firmware/{PATH} -O /tmp/coreboot.rom\n</code></pre> <p>The above-described command is not the only way to obtain binary. For example, <code>scp</code> command might be used, too.</p> </li> <li> <p>Run the following command to flash the firmware:</p> <pre><code>flashrom -p internal -w /tmp/coreboot.rom\n</code></pre> <p>Additional parameters may be needed for the <code>flashrom</code> command depending on the DUT. Documentation describing the exact command to flash the specific platform is always available in localization: <code>Supported hardware</code> -&gt; <code>Platform name</code> -&gt; <code>Initial Deployment</code>.</p> </li> <li> <p>Power off the DUT.</p> </li> <li>Repeat steps 2-6.</li> <li> <p>Run the following command to check the firmware version:</p> <pre><code>dmidecode -t 0\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of <code>dmidecode</code> command should contain information about the current firmware. The current firmware version should be equal to the binary version, which you were flashing.</p> <p>Example output:</p> <pre><code>Version: Dasharo (coreboot+UEFI) v1.1.0\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/326-dasharo-tools-suite/#dts007001-update-device-firmware-from-dts-shell-by-using-fwupd-works-correctly","title":"DTS007.001 Update device firmware from DTS Shell by using fwupd works correctly","text":"<p>Test description</p> <p>This test aims to verify whether there is the possibility to update the DUT firmware by using fwupd in DTS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the USB stick with DTS into the USB slot on the DUT.</li> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the USB stick with DTS using the arrow keys and press <code>Enter</code>.</li> <li>Wait for <code>Enter an option:</code>.</li> <li>Type in <code>9</code> and press <code>Enter</code>.</li> <li> <p>Run the following commands to update the firmware to the latest version:</p> <pre><code>fwupdmgr refresh\nfwupdmgr update\n</code></pre> </li> <li> <p>Power off the DUT.</p> </li> <li>Repeat steps 2-6.</li> <li> <p>Run the following command to check the firmware version:</p> <pre><code>dmidecode -t 0\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of <code>dmidecode</code> command should contain information about the current firmware. The current firmware version should be equal to the binary version, which you were flashing.</p> <p>Example output:</p> <pre><code>Version: Dasharo (coreboot+UEFI) v1.1.0\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/326-dasharo-tools-suite/#dts008001-flash-device-ec-firmware-by-using-dts-built-in-script-works-correctly","title":"DTS008.001 Flash device EC firmware by using DTS built-in script works correctly","text":"<p>Test description</p> <p>This test aims to verify whether there is the possibility to flash the DUT EC firmware by using the built-in script in DTS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the USB stick with DTS into the USB slot on the DUT.</li> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the USB stick with DTS using the arrow keys and press <code>Enter</code>.</li> <li>Wait for <code>Enter an option:</code>.</li> <li>Proceed with     Dasharo EC Transition.</li> </ol> <p>Expected result</p> <ol> <li>After the flashing procedure itself, the DUT should be able to boot.</li> <li>The EC firmware version, after checking the method described in the     above-mentioned documentation,     should correspond to the latest version.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/326-dasharo-tools-suite/#dts009001-update-device-ec-firmware-by-using-dts-works-correctly","title":"DTS009.001 Update device EC firmware by using DTS works correctly","text":"<p>Test description</p> <p>This test aims to verify whether there is the possibility to update the DUT EC firmware by using system76_ectool in DTS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug the USB stick with DTS into the USB slot on the DUT.</li> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the USB stick with DTS using the arrow keys and press <code>Enter</code>.</li> <li>Wait for <code>Enter an option:</code>.</li> <li>Type in <code>9</code> and press <code>Enter</code>.</li> <li>Proceed with     Dasharo EC Update.</li> </ol> <p>Expected result</p> <ol> <li>After the updating firmware procedure itself, the DUT should be able to boot.</li> <li>The EC firmware version, after checking the method described in the     above-mentioned documentation,     should correspond to the binary version used.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/326b-firmware-building-locally/","title":"Dasharo Compatibility: Firmware locally building and flashing","text":""},{"location":"unified-test-documentation/dasharo-compatibility/326b-firmware-building-locally/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Make yourself familiar with Building manual procedure dedicated for     the relevant platform:<ul> <li>NovaCustom laptops</li> </ul> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/326b-firmware-building-locally/#flb001001-firmware-locally-build","title":"FLB001.001 Firmware locally build","text":"<p>Test description</p> <p>This test aims to verify whether there is a possibility to build firmware on the local machine, based on <code>Build manual</code> procedure dedicated to the platform.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Based on the dedicated documentation build firmware.</li> <li>Check if the binary file, after finishing the building process, is available     in the <code>build</code> location.</li> </ol> <p>Expected result</p> <p>The <code>build</code> location should contain the binary file, which size is equal to the flash chip size.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/326b-firmware-building-locally/#flb002001-flash-locally-built-firmware","title":"FLB002.001 Flash locally built firmware","text":"<p>Test description</p> <p>This test aims to verify whether there is a possibility to flash the locally built firmware to the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Localize the firmware, which was built in the <code>FLB001.001</code> test case.</li> <li> <p>Flash the firmware by using the internal programmer and <code>flashrom</code> tool. If     DUT is already flashed with the Dasharo firmware, the following command     should be used:</p> <pre><code>flashrom -p internal -w [path-to-binary] --fmap -i RW_SECTION_A\n</code></pre> <p>Otherwise, the following command should be used:</p> <pre><code>flashrom -p internal -w [path-to-binary] --ifd -i bios\n</code></pre> </li> <li> <p>Reboot the DUT.</p> </li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command to verify the results:</p> <pre><code>sudo dmidecode -t bios | grep Version\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output of <code>dmidecode</code> command should contain information about the current firmware. The current firmware version should be equal to the latest released firmware version.</p> <p>Example output:</p> <pre><code>Version: Dasharo (coreboot+UEFI) v1.1.0\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/327-embedded_controller_flashing/","title":"Dasharo Compatibility: Embedded controller flashing","text":""},{"location":"unified-test-documentation/dasharo-compatibility/327-embedded_controller_flashing/#ecf001001-ec-firmware-external-flashing","title":"ECF001.001 EC firmware external flashing","text":"<p>Test description</p> <p>This test aims to verify whether there is the possibility to flash the DUT EC firmware externally using Arduino.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Make yourself familiar with     EC recovery documentation.</li> </ol> <p>Test steps</p> <ol> <li>Prepare the hardware for flashing in accordance with the     Prerequisites section.</li> <li>Prepare the firmware in accordance with the     Preparation section.</li> <li>Flash the EC firmware in accordance with the     Flashing section.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The output of the last command should contain information about the correctly performed procedure:</p> <pre><code>Successfully programmed SPI ROM\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/328-logo-customization-functionality/","title":"Dasharo Compatibility: Logo customization functionality","text":""},{"location":"unified-test-documentation/dasharo-compatibility/328-logo-customization-functionality/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Get familiar with    Logo customization procedure</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/328-logo-customization-functionality/#lcm001001-replace-logo-in-existing-image-and-flashing-firmware","title":"LCM001.001 Replace logo in existing image and flashing firmware","text":"<p>Test description</p> <p>The test aims to verify whether replacing the logo in the existing image is possible and, whether after flashing the DUT with the new image, the new logo will be shown properly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>Current Dasharo firmware dedicated for the platform.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the <code>iPXE Network boot</code> option using the arrow keys and press <code>Enter</code>.</li> <li>Select the <code>iPXE Shell</code> option using the arrow keys and press <code>Enter</code>.</li> <li> <p>Configure communication interface by using the following command:</p> <pre><code>dhcp\n</code></pre> </li> <li> <p>Connect to the DTS ipxe menu by using the following command:</p> <pre><code>chain http://boot.3mdeb.com/dts.ipxe\n</code></pre> </li> <li> <p>Wait for <code>Enter an option:</code>.</p> </li> <li>Type in <code>9</code> and press <code>Enter</code>.</li> <li>Based on the    dedicated documentation    replace the logo in an existing image.</li> <li>Reboot the DUT and observe the boot logo.</li> </ol> <p>Expected result</p> <p>During the DUT booting process, custom logo should appear on the screen.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/328-logo-customization-functionality/#lcm002001-build-image-with-custom-logo-and-flashing-firmware","title":"LCM002.001 Build image with custom logo and flashing firmware","text":"<p>Test description</p> <p>This test aims to verify whether building an image with the custom logo is possible and, whether after flashing the DUT with the new image, the new logo will be shown properly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Based on the     dedicated documentation     build firmware with the custom logo.</li> <li> <p>Flash the firmware by using the internal programmer and <code>flashrom</code> tool. If     DUT is already flashed with the Dasharo firmware and only the logo should     be replaced, the following command should be used:</p> <pre><code>sudo flashrom -p internal --fmap -i BOOTSPLASH -w [path]\n</code></pre> <p>If also the procedure of Dasharo firmware updating should be performed, the following command should be used:</p> <pre><code>flashrom -p internal -w [path-to-binary] --fmap -i RW_SECTION_A\n</code></pre> <p>In any other cases, the following command should be used:</p> <pre><code>flashrom -p internal -w [path-to-binary] --ifd -i bios\n</code></pre> </li> <li> <p>Reboot DUT.</p> </li> </ol> <p>Expected result</p> <p>During the DUT booting process, custom logo should appear on the screen.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/328-logo-customization-functionality/#lcm003001-attempt-to-flash-firmware-with-improper-image","title":"LCM003.001 Attempt to flash firmware with improper image","text":"<p>Test description</p> <p>This test aims to verify whether the attempt to flash the DUT with firmware with an improper logo is possible but will result in a fallback to the default logo.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Based on the     dedicated documentation     build firmware with the logo, that that does not meet the     Quality criteria.</li> <li> <p>Flash the firmware by using the internal programmer and <code>flashrom</code> tool. If     DUT is already flashed with the Dasharo firmware and only the logo should     be replaced, the following command should be used:</p> <pre><code>sudo flashrom -p internal --fmap -i BOOTSPLASH -w [path]\n</code></pre> <p>If also the procedure of Dasharo firmware updating should be performed, the following command should be used:</p> <pre><code>flashrom -p internal -w [path-to-binary] --fmap -i RW_SECTION_A\n</code></pre> <p>In any other cases, the following command should be used:</p> <pre><code>flashrom -p internal -w [path-to-binary] --ifd -i bios\n</code></pre> </li> <li> <p>Reboot DUT.</p> </li> </ol> <p>Expected result</p> <p>During the DUT booting process, the default logo should appear on the screen.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/341-pfSense-support/","title":"Dasharo Compatibility: pfSense support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/341-pfSense-support/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/341-pfSense-support/#pfs001001-pfsense-stable-serial-output-installation-on-hard-disk","title":"PFS001.001 pfSense stable (serial output) installation on Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that PfSense stable (serial output) could be installed on the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = pfSense stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>According to the Documentation    perform the OS installation process.</li> </ol> <p>Expected result</p> <p>The information about successful installation should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/341-pfSense-support/#pfs001002-boot-pfsense-stable-serial-output-from-hard-disk","title":"PFS001.002 Boot pfSense stable (serial output) from Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that pfSense stable (serial output) could be booted from the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = pfSense stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the device on which the system was previously    installed.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/341-pfSense-support/#pfs002001-pfsense-stable-vga-output-installation-on-hard-disk","title":"PFS002.001 pfSense stable (VGA output) installation on Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that pfSense stable (VGA output) could be installed on the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = pfSense stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>According to the Documentation     perform the OS installation process.</li> </ol> <p>Expected result</p> <p>The information about successful installation should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/341-pfSense-support/#pfs002002-boot-pfsense-stable-vga-output-from-hard-disk","title":"PFS002.002 Boot pfSense stable (VGA output) from Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that pfSense stable (VGA output) could be booted from the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = pfSense stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the device on which the system was previously    installed.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/342-OPNsense-support/","title":"Dasharo Compatibility: OPNsense support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/342-OPNsense-support/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/342-OPNsense-support/#opn001001-opnsense-stable-serial-output-installation-on-hard-disk","title":"OPN001.001 OPNsense stable (serial output) installation on Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that OPNsense stable (serial output) could be installed on the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = OPNsense stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>According to the Documentation    perform the OS installation process.</li> </ol> <p>Expected result</p> <p>The information about successful installation should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/342-OPNsense-support/#opn001002-boot-opnsense-stable-serial-output-from-hard-disk","title":"OPN001.002 Boot OPNsense stable (serial output) from Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that OPNsense stable serial could be booted from the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = OPNsense stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the device on which the system was previously    installed.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/342-OPNsense-support/#opn002001-opnsense-stable-vga-output-installation-on-hard-disk","title":"OPN002.001 OPNsense stable (VGA output) installation on Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that OPNsense stable (VGA output) could be installed on the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = OPNsense stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>According to the Documentation    perform the OS installation process.</li> </ol> <p>Expected result</p> <p>The information about successful installation should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/342-OPNsense-support/#opn002002-boot-opnsense-stable-vga-output-from-hard-disk","title":"OPN002.002 Boot OPNsense stable (VGA output) from Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that OPNsense stable (VGA output) could be booted from the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = OPNsense stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the device on which the system was previously    installed.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/343-super-I-O-initialization-on-QubesOS/","title":"Dasharo compatibility: Super I/O initialization - QubesOS","text":""},{"location":"unified-test-documentation/dasharo-compatibility/343-super-I-O-initialization-on-QubesOS/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/343-super-I-O-initialization-on-QubesOS/#pps001001-ps2-keyboard-detection","title":"PPS001.001 PS/2 keyboard detection","text":"<p>Test description</p> <p>This test aims to verify that the external PS/2 keyboard is detected correctly by the <code>OPERATING_SYSTEM</code> and that all basic keys work according to their labels.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = QubesOS stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>Install <code>libinput-tools</code> in <code>dom0</code> on the DUT.</li> <li>Connect the external PS/2 keyboard to the PS/2 port.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window in <code>dom0</code> and run the following command:</p> <pre><code>sudo dmesg | grep -i PS/2\n</code></pre> </li> <li> <p>Run the following command in the terminal:</p> <pre><code>libinput debug-events --show-keycodes\n</code></pre> </li> <li> <p>Test the alphanumeric keys and note the generated keycodes.</p> </li> <li>Test non-alphanumeric keys and verify that they generate the correct    keycodes.</li> <li>Test key combinations with the <code>Shift</code>, <code>Ctrl</code> and <code>Alt</code> modifier keys    (this tests 2-key rollover).</li> </ol> <p>Expected result</p> <ol> <li>The external PS/2 keyboard is detected in OS.</li> <li>All standard keyboard keys generate the correct keycodes and events as per    their labels.</li> <li>Key combinations are detected correctly.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/344-power-operations/","title":"Dasharo compatibility: Device power control operations","text":""},{"location":"unified-test-documentation/dasharo-compatibility/344-power-operations/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/344-power-operations/#dpc001001-reset-button-qubesos","title":"DPC001.001 Reset button (QubesOS)","text":"<p>Test description</p> <p>This test aims to verify that the reset button works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = QubesOS stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Observe the power LED and use the reset button.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <ol> <li>The DUT should perform a reset, the power LED should be on all the time.</li> <li>The DUT shouldn't perform a power cycle, the power LED shouldn't be off even    for a moment.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/345-display-resolution/","title":"Dasharo compatibility: Display resolution - QubesOS","text":""},{"location":"unified-test-documentation/dasharo-compatibility/345-display-resolution/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/345-display-resolution/#dsr001001-changing-the-display-resolution","title":"DSR001.001 Changing the display resolution","text":"<p>Test description</p> <p>This test aims to verify that the display resolution could be changed in the <code>OPERATING_SYSTEM</code> and that the GUI is displayed correctly after this change.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = QubesOS stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>Connect any display.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window in <code>dom0</code> and run the following command:</p> <pre><code>xrandr -s &lt;display_resolution&gt;\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <ol> <li>Changing the display resolution is possible.</li> <li>After changing the resolution, all icons and subtitles should be displayed    correctly.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/346-SATA-hotplug-detection/","title":"Dasharo compatibility: SATA hot plug","text":""},{"location":"unified-test-documentation/dasharo-compatibility/346-SATA-hotplug-detection/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/346-SATA-hotplug-detection/#sht001001-sata-hot-plug-firmware","title":"SHT001.001 SATA hot plug (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the disk connected to the SATA port could be detected after hot-plug.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>Any operating system should be installed on the SATA disk.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot Menu.</li> <li>Select the <code>UEFI Shell</code> option using the arrow keys and press <code>Enter</code>.</li> <li> <p>Execute the following command in the shell:</p> <pre><code>map -t hd\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li>Connect the disk to the SATA port.</li> <li> <p>Execute the following command in the shell:</p> <pre><code>map -t hd -r\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li>The output of the first command should contain mapping table for all hard     disks connected to the device.</li> <li>The output of the second command should contain refreshed mapping table for     all hard disks connected to the device.</li> <li>The refreshed list should contain additional item - mounted SATA disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/346-SATA-hotplug-detection/#sht001002-sata-hot-plug-ubuntu-2204","title":"SHT001.002 SATA hot plug (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the disk connected to the SATA port could be detected after hot-plug.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Connect the disk to the SATA port.</li> <li> <p>Check that the connected disk is detected by running the following command:</p> <pre><code>sudo parted -l\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The SATA disk should be detected in OS, example output:</p> <pre><code>(...)\nModel: ATA SSDPR-CL100-240- (scsi)\nDisk /dev/sda: 240GB\nSector size (logical/physical): 512B/512B\nPartition Table: gpt\nDisk Flags:\n\nNumber  Start   End     Size    File system  Name                  Flags\n 1      1049kB  538MB   537MB   fat32        EFI System Partition  boot, esp\n 2      538MB   240GB   240GB   ext4\n(...)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/346-SATA-hotplug-detection/#sht001003-sata-hot-plug-windows-11","title":"SHT001.003 SATA hot plug (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the disk connected to the SATA port could be detected after hot-plug.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Connect the disk to the SATA port.</li> <li> <p>Check that the connected disk is detected by running the following command:</p> <pre><code>Get-WMIObject -Class Win32_DiskDrive\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The SATA disk should be detected in OS, example output:</p> <pre><code>(...)\nPartitions : 4\nDeviceID   : \\\\.\\PHYSICALDRIVE0\nModel      : SSDPR-CL100-240-G2\nSize       : 240054796800\nCaption    : SSDPR-CL100-240-G2\n(...)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/347-sign-of-life/","title":"Dasharo compatibility: Sign of life","text":""},{"location":"unified-test-documentation/dasharo-compatibility/347-sign-of-life/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/347-sign-of-life/#sol001001-sol-string-shows-dasharo-firmware-and-ec-version","title":"SOL001.001 SOL string shows Dasharo firmware and EC version","text":"<p>Test description</p> <p>This test aims to verify that the information about the version of Dasharo firmware and Dasharo EC firmware is recognized correctly and displayed during the boot phase.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>EC firmware</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the Sign of life string.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>During the boot phase, the information about the version of Dasharo firmware and Dasharo EC firmware should be displayed.</p> <p>Example output:</p> <pre><code>Firmware version: Dasahro (coreboot+UEFI) v1.5.0\nEC firmware version: 2023-03-20_c398446\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/347-sign-of-life/#sol002001-sol-string-shows-information-about-proprietary-ec","title":"SOL002.001 SOL string shows information about proprietary EC","text":"<p>Test description</p> <p>This test aims to verify that the information about the version of Dasharo firmware and proprietary EC firmware is recognized correctly and displayed during the boot phase.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>EC firmware</code> = Proprietary</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for the Sign of life string.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>During the boot phase, the information about the version of Dasharo firmware and proprietary EC firmware should be displayed. In addition, the prompt asking for updated EC firmware should be displayed also.</p> <p>Example output:</p> <pre><code>Firmware version: Dasahro (coreboot+UEFI) v1.5.0\nEC firmware version: 1.07.02\nProprietary EC firmware detected!\nPlease update your EC firmware per docs.dasharo.com instructions!\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/348-proxmox-support/","title":"Dasharo Compatibility: Proxmox support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/348-proxmox-support/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/348-proxmox-support/#pve001001-proxmox-virtual-environment-stable-installation-on-hard-disk","title":"PVE001.001 Proxmox Virtual Environment stable installation on Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that Proxmox VE stable could be installed on the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Proxmox VE stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>According to the Documentation    perform the OS installation process.</li> </ol> <p>Expected result</p> <p>The information about successful installation should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/348-proxmox-support/#pve001002-boot-proxmox-virtual-environment-stable-from-hard-disk","title":"PVE001.002 Boot Proxmox Virtual Environment stable from Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that Proxmox VE stable could be booted from the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Proxmox VE stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the device on which the system was previously    installed.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/349-ubuntu-server-support/","title":"Dasharo Compatibility: Ubuntu Server support","text":""},{"location":"unified-test-documentation/dasharo-compatibility/349-ubuntu-server-support/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/349-ubuntu-server-support/#uss001001-ubuntu-server-stable-installation-on-hard-disk","title":"USS001.001 Ubuntu Server stable installation on Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that Ubuntu Server stable could be installed on the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu Server stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>According to the Documentation    perform the OS installation process.</li> </ol> <p>Expected result</p> <p>The information about successful installation should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/349-ubuntu-server-support/#uss001002-boot-ubuntu-server-stable-from-hard-disk","title":"USS001.002 Boot Ubuntu Server stable from Hard Disk","text":"<p>Test description</p> <p>This test aims to verify that Ubuntu Server stable could be booted from the hard disk on the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu Server stable</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the device on which the system was previously    installed.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/357-bios-menu-function-keys/","title":"Dasharo Compatibility: BIOS menu function keys","text":""},{"location":"unified-test-documentation/dasharo-compatibility/357-bios-menu-function-keys/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/357-bios-menu-function-keys/#bmf001001-reset-to-defaults-option","title":"BMF001.001 Reset to Defaults option","text":"<p>Test description</p> <p>This test aims to verify that the <code>F9</code> key feature properly reset to Defaults all Dasharo System Features settings.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While booting, press the <code>SETUP_MENU_KEY</code> to enter Setup Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu option.</li> <li>Enter the any of submenus eg. <code>Power Management Options</code>.</li> <li>Verify that the <code>F9=Reset to Defaults</code> entry is displayed at the bottom of    the screen.</li> <li>Press <code>F9</code> to reset options to defaults.</li> <li>Press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key. If necessary - press <code>Y</code> to    confirm saving the changes again.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>While booting, press the <code>SETUP_MENU_KEY</code> to enter Setup Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu option.</li> <li>Check the state of each option in each submenu.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <ol> <li>The <code>F9=Reset to Defaults</code> entry is displayed in each submenu of Dasharo    System Features.</li> <li>After using the <code>F9</code> key, all <code>Dasharo System Features</code> options should be set    to default. All options covered by this functionality can be found    here.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/358-suspend-mechanism-switching-S0ix-S3/","title":"Dasharo Compatibility: Suspend mechanism switching (S0ix/S3)","text":""},{"location":"unified-test-documentation/dasharo-compatibility/358-suspend-mechanism-switching-S0ix-S3/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/358-suspend-mechanism-switching-S0ix-S3/#sms001001-suspend-to-idle-s0ix-check-ubuntu-2204","title":"SMS001.001 Suspend to Idle (S0ix) check (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the Suspend to Idle (S0ix) option selected in the BIOS firmware is correctly recognised in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Enter the BIOS setup using <code>BIOS_SETUP_KEY</code>.</li> <li>Inside the BIOS setup, navigate to <code>Dasharo System Features</code> -&gt;     <code>Power Management Options</code> -&gt; <code>Platform Sleep Type</code> and choose the option     <code>Suspend to Idle (S0ix)</code>.</li> <li>Press <code>F10</code> and confirm with <code>y</code> key to save selected settings.</li> <li>Select <code>reset</code> option to reboot the system.</li> <li>After the system reboots, log into the system by using the proper login and     password.</li> <li> <p>Open a terminal window and execute the following command to confirm that     Suspend to Idle (S0ix) mode is enabled and properly recognised in the OS:</p> <pre><code>sudo cat /sys/power/mem_sleep\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output from the command above should contain the phrase <code>s2idle</code> enclosed in square brackets, indicating that the Suspend to Idle (S0ix) mode is enabled.</p> <p>Example output:</p> <pre><code>[s2idle] shallow\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/358-suspend-mechanism-switching-S0ix-S3/#sms001002-suspend-to-ram-s3-check-ubuntu-2204","title":"SMS001.002 Suspend to RAM (S3) check (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the Suspend to RAM (S3) option selected in the BIOS firmware is correctly recognised in the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Enter the BIOS setup using <code>BIOS_SETUP_KEY</code>.</li> <li>Inside the BIOS setup, navigate to <code>Dasharo System Features</code> -&gt;     <code>Power Management Options</code> -&gt; <code>Platform Sleep Type</code> and choose the option     <code>Suspend to RAM (S3)</code>.</li> <li>Press <code>F10</code> and confirm with <code>y</code> key to save selected settings.</li> <li>Select <code>reset</code> option to reboot the system.</li> <li>After the system reboots, log into the system by using the proper login and     password.</li> <li> <p>Open a terminal window and execute the following command to confirm that     Suspend to RAM (S3) mode is enabled and properly recognised in the OS:</p> <pre><code>sudo cat /sys/power/mem_sleep\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output from the command above should contain the phrase <code>deep</code> enclosed in square brackets, indicating that the Suspend to RAM (S3) mode is enabled.</p> <p>Example output:</p> <pre><code>s2idle [deep]\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/359-boot-blocking/","title":"Dasharo Compatibility: Battery boot block","text":""},{"location":"unified-test-documentation/dasharo-compatibility/359-boot-blocking/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/359-boot-blocking/#bbb001001-boot-blocking-charger-disconnected-ubuntu-2204","title":"BBB001.001 Boot blocking (charger disconnected) (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that booting is blocked when the battery level is below 5% with charger disconnected from the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Make sure the charger is not plugged into the DUT.</li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and install <code>stress-ng</code> package by executing following     command:</li> </ol> <pre><code>sudo apt install stress-ng\n</code></pre> <ol> <li>Open a terminal window and run following bash script:</li> </ol> <pre><code>get_battery_level() {\nbattery_level=$(cat /sys/class/power_supply/BAT0/capacity)\necho \"$battery_level\"\n}\ntarget_battery_level=3\nwhile true; do\ncurrent_battery_level=$(get_battery_level)\necho \"Current battery level: $current_battery_level%\"\nif [ \"$current_battery_level\" -le \"$target_battery_level\" ]; then\necho \"Battery level reached 3%. Stopping stress-ng.\"\nbreak\nfi\nstress-ng --cpu 0 --timeout 10s\ndone\n</code></pre> <ol> <li>After the script finished working, reboot the DUT.</li> </ol> <p>Expected result</p> <ol> <li>The bash script reads current battery charge level and stresses the CPU until     the battery charge level reaches below 5%. Example output:</li> </ol> <pre><code>Current battery level: 92%\nstress-ng: info:  [25309] setting to a 10 secs run per stressor\nstress-ng: info:  [25309] dispatching hogs: 16 cpu\n</code></pre> <ol> <li> <p>After reboot, booting into the OS should be blocked and following warning     message should appear:</p> <p></p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/359-boot-blocking/#bbb001002-boot-blocking-charger-connected-ubuntu-2204","title":"BBB001.002 Boot blocking (charger connected) (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that booting is not blocked when the battery level is below 5% with charger connected to the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Make sure the charger is not plugged into the DUT.</li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and install <code>stress-ng</code> package by executing following     command:</li> </ol> <pre><code>sudo apt install stress-ng\n</code></pre> <ol> <li>Open a terminal window and run following bash script:</li> </ol> <pre><code>get_battery_level() {\nbattery_level=$(cat /sys/class/power_supply/BAT0/capacity)\necho \"$battery_level\"\n}\ntarget_battery_level=3\nwhile true; do\ncurrent_battery_level=$(get_battery_level)\necho \"Current battery level: $current_battery_level%\"\nif [ \"$current_battery_level\" -le \"$target_battery_level\" ]; then\necho \"Battery level reached 3%. Stopping stress-ng.\"\nbreak\nfi\nstress-ng --cpu 0 --timeout 10s\ndone\n</code></pre> <ol> <li>After the script finished working, plug the charger into the DUT.</li> <li>Reboot the DUT.</li> </ol> <p>Expected Result</p> <ol> <li>After reboot, the warning message should not appear and the DUT should boot     normally.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/359-boot-blocking/#bbb002001-battery-not-connected-warning-firmware","title":"BBB002.001 Battery not connected warning (Firmware)","text":"<p>Test description</p> <p>This test aims to verify whether a warning message appears when the battery is disconnected from the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li> <p>Unscrew the bottom cover from the DUT.</p> <p></p> </li> <li> <p>Disconnect the battery (1)</p> <p></p> </li> <li> <p>Reattach the bottom cover and flip the DUT over.</p> </li> <li>Plug the charger into the DUT.</li> <li>Power on the DUT.</li> </ol> <p>Expected result</p> <ol> <li> <p>After powering on the DUT, following warning message should appear:</p> <p></p> </li> <li> <p>After pressing enter or passing the timeout, the DUT should continue booting.</p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/360-power-after-fail/","title":"Dasharo Compatibility: Power State After Power Failure","text":""},{"location":"unified-test-documentation/dasharo-compatibility/360-power-after-fail/#psf001001-check-power-state-after-power-failure-default-state-firmware","title":"PSF001.001 Check Power State After Power Failure default state (firmware)","text":"<p>Test description</p> <p>This BIOS setup feature allows users to determine the system's power state after a power failure. Users can choose between restoring the previous power state or always returning to a powered off state. This test ensures that the option is present, and the default state of this option after flashing is correct.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Power Management Options</code> submenu.</li> <li>Verify the <code>Power state after power failure</code> field.</li> </ol> <p>Expected result</p> <p>The <code>Power state after power failure</code> field should inform that the current Power state after power failure is <code>Powered Off</code>.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/360-power-after-fail/#psf002001-powered-off-state-restoration-test","title":"PSF002.001 Powered Off State Restoration Test","text":"<p>Test description</p> <p>This test verifies that the <code>Powered Off</code> setting works correctly. After we cut and restore power, the machine should not power on by itself.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Power Management Options</code> submenu.</li> <li>Set the <code>Power state after power failure</code> field to <code>Powered Off</code>.</li> <li>Simulate a power failure by cutting power to the system.</li> <li>Restore power and verify that the system does not attempt to start on its own.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The system should remain in the power off state upon power restoration.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/360-power-after-fail/#psf003001-powered-on-state-restoration-test","title":"PSF003.001 Powered On State Restoration Test","text":"<p>Test description</p> <p>This test verifies that the <code>Powered On</code> setting works correctly. After we cut and restore power, the machine should not power on by itself.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Power Management Options</code> submenu.</li> <li>Set the <code>Power state after power failure</code> field to <code>Powered On</code>.</li> <li>Simulate a power failure by cutting power to the system.</li> <li>Restore power and verify that the system attempts to power on without any external prompt.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The system should attempt to power on upon power restoration.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/360-power-after-fail/#psf004001-previous-power-state-restoration-test-powered-off","title":"PSF004.001 Previous Power State Restoration Test - Powered Off","text":"<p>Test description</p> <p>This test verifies that the <code>The state at the moment of power failure</code> setting works correctly if the machine was powered off prior to the failure. After we cut and restore power, the machine should remain powered off.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Power Management Options</code> submenu.</li> <li>Set the <code>Power state after power failure</code> field to <code>The state at the moment of power failure</code>.</li> <li>Power off the DUT.</li> <li>Simulate a power failure by cutting power to the system.</li> <li>Restore power and verify that the system does not attempt to start on its own.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The system should remain in the powered off state upon power restoration.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/360-power-after-fail/#psf004002-previous-power-state-restoration-test-powered-on","title":"PSF004.002 Previous Power State Restoration Test - Powered On","text":"<p>Test description</p> <p>This test verifies that the <code>The state at the moment of power failure</code> setting works correctly if the machine was powered on prior to the failure. After we cut and restore power, the machine should attempt to power on without any external prompt.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Power Management Options</code> submenu.</li> <li>Set the <code>Power state after power failure</code> field to <code>The state at the moment of power failure</code>.</li> <li>Do not power off the DUT.</li> <li>Simulate a power failure by cutting power to the system.</li> <li>Restore power and verify that the system attempts to power on without any external prompt.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The system should attempt to power on upon power restoration.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/361-esp-scanning/","title":"Dasharo Compatibility: ESP Partition Scanning","text":""},{"location":"unified-test-documentation/dasharo-compatibility/361-esp-scanning/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> </ol> <p>The purpose of this test is to verify that the EFI partition is scanned for any OS-specific folders and .efi files, and that corresponding boot menu entries are created for them. The list of supported .efi files and their boot menu entries is as follows:</p> <ul> <li>\\EFI\\Microsoft\\Boot\\bootmgfw.efi - Windows Boot Manager (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\Suse\\elilo.efi - Suse Boot Manager (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\Ubuntu\\grubx64.efi Ubuntu (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\Ubuntu\\shimx64.efi - Ubuntu (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\Redhat\\elilo.efi - RedHat Boot Manager (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\Redhat\\grubx64.efi - RedHat (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\Redhat\\shimx64.efi - RedHat (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\Fedora\\shimx64.efi - Fedora (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\Fedora\\grub64.efi - Fedora (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\Centos\\shimx64.efi - CentOS (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\Centos\\grubx64.efi - CentOS (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\opensuse\\grubx64.efi - OpenSuse (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\debian\\grubx64.efi - Debian (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\qubes\\shimx64.efi - Qubes OS (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\qubes\\grubx64.efi - Qubes OS (on <code>&lt;disk_name&gt;</code>)</li> <li>\\EFI\\DTS\\grubx64.efi\" - Dasharo Tools Suite (on <code>&lt;disk_name&gt;</code>) (populated  regardless of removable media state)</li> </ul>"},{"location":"unified-test-documentation/dasharo-compatibility/361-esp-scanning/#esp001001-esp-scan-with-os-specific-efi-files-added","title":"ESP001.001 ESP Scan with OS-specific .efi files added","text":"<p>Test description</p> <p>This test aims to verify that any properly added .efi files will have boot menu entries created for them.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Place some OS-specific folders and .efi files in /EFI/, as listed in common test documentation above</li> <li>Power on the DUT.</li> <li>Enter Boot Menu</li> <li>Note all the listed entries</li> </ol> <p>Expected result</p> <p>Systems corresponding with the newly added files should be listed in boot menu.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/361-esp-scanning/#esp002001-esp-scan-after-deleting-additional-efi-files","title":"ESP002.001 ESP Scan after deleting additional .efi files","text":"<p>Test description</p> <p>This test aims to verify that none of the systems linger on in the boot menu after we've deleted their files from /EFI/.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Delete any additional boot folders and files in the /EFI partition.</li> <li>Power on the DUT.</li> <li>Enter Boot Menu.</li> <li>Note all the listed entries.</li> </ol> <p>Expected result</p> <p>None of the formerly added and now removed entries should still be listed as available to boot.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/361-esp-scanning/#esp003001-esp-scan-ignores-oses-on-removable-media","title":"ESP003.001 ESP Scan ignores OSes on removable media","text":"<p>Test description</p> <p>This test aims to verify that the bootable /EFI partitions of removable media are ignored by the scan and aren't listed in boot menu.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug in a USB flash disk containing boot files in its /EFI partition</li> <li>Power on the DUT.</li> <li>Enter Boot Menu.</li> <li>Note all the listed entries.</li> </ol> <p>Expected result</p> <p>None of the listed boot entries should be related to the USB stick - except DTS.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/361-esp-scanning/#esp004001-esp-scan-does-not-create-duplicate-entries","title":"ESP004.001 ESP Scan does not create duplicate entries","text":"<p>Test description</p> <p>This test aims to verify that the firmware will not create duplicate entries, for example, if both shimx64 and grubx64 are present for a single OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Create a distro folder in /EFI/ and place both the shimx64 and grubx64 files there.</li> <li>Power on the DUT.</li> <li>Enter Boot Menu.</li> <li>Note all the listed entries.</li> </ol> <p>Expected result</p> <p>Despite there being two files for a single distribution, there shouldn't be any duplicate entries in the boot menu.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/361-esp-scanning/#esp005001-esp-scan-detects-dasharo-tools-suite","title":"ESP005.001 ESP Scan detects Dasharo Tools Suite","text":"<p>Test description</p> <p>This test aims to verify that the firmware detects Dasharo Tools Suite boot media and creates a corresponding boot menu entry</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Plug in a DTS flash stick to the DUT.</li> <li>Power on the DUT.</li> <li>Enter Boot Menu.</li> <li>Note all the listed entries.</li> </ol> <p>Expected result</p> <p>Dasharo Tools Suite should be listed in the boot menu.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/362-coreboot-customizer/","title":"Dasharo Compatibility: DMI editing tool","text":""},{"location":"unified-test-documentation/dasharo-compatibility/362-coreboot-customizer/#dmi001001-change-the-uuid","title":"DMI001.001 Change the UUID","text":"<p>Test description</p> <p>The Dasharo Configuration Utility tool is a part of the Dasharo Tools Suite. This test case verifies that the UUID encoded in the DMI table of an image can be changed using our utility.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Download Dasharo Configuration Utility</li> </ol> <p>Test steps</p> <ol> <li>Run <code>./dcu -u 96bcfa1a-42b4-6717-a44c-d8bbc18cbea4 coreboot.rom</code></li> <li>Flash the <code>coreboot.rom</code> file onto the platform.</li> <li>Power on the DUT.</li> <li>Examine the DMI tables with <code>dmidecode</code>.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The UUID of the platform should be <code>96bcfa1a-42b4-6717-a44c-d8bbc18cbea4</code>, just as we had set it.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/362-coreboot-customizer/#dmi002001-change-the-serial-number","title":"DMI002.001 Change the serial number","text":"<p>Test description</p> <p>This test case verifies that the serial number encoded in the DMI table of an image can be changed using our utility.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Download Dasharo Configuration Utility</li> </ol> <p>Test steps</p> <ol> <li>Run <code>./dcu -s D01234567 coreboot.rom</code></li> <li>Flash the <code>coreboot.rom</code> file onto the platform.</li> <li>Power on the DUT.</li> <li>Examine the DMI tables with <code>dmidecode</code>.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The serial number of the platform should be <code>D01234567</code>, just as we had set it.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/362-coreboot-customizer/#dmi003001-change-the-bootsplash-logo","title":"DMI003.001 Change the bootsplash logo","text":"<p>Test description</p> <p>This test case verifies that the bootsplash logo of an image can be changed using our utility.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Download Dasharo Configuration Utility</li> </ol> <p>Test steps</p> <ol> <li>Run <code>./dcu -l ./logo.svg</code></li> <li>Flash the <code>coreboot.rom</code> file onto the platform.</li> <li>Power on the DUT.</li> <li>Verify the bootsplash logo.</li> </ol> <p>Expected result</p> <p>The bootsplash logo should now be your image of choice placed under ./logo.svg.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/S30-fan-speed/","title":"Dasharo Compatibility: Fan speed measure","text":""},{"location":"unified-test-documentation/dasharo-compatibility/S30-fan-speed/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/S30-fan-speed/#fan001001-cpu-fan-speed-measure","title":"FAN001.001 CPU fan speed measure","text":"<p>Test description</p> <p>This test aims to verify that the CPU fan works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>Install <code>lm-sensors</code> on the DUT.</li> <li>If the command in the 4th step fails, make sure the <code>system76_acpi</code> driver is    available on your system. An appropriate kernel version could be installed    with the command <code>sudo apt install linux-oem-22.04a</code>, which version    definitely supports this driver.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>In the terminal window run the following command to get the RPM value of the    CPU fan:</p> <pre><code>sensors | grep \"CPU fan\"\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The CPU fan RPM value is displayed and isn't zero.</p> <p>Example output:</p> <pre><code>CPU fan:     4347 RPM\n</code></pre>"},{"location":"unified-test-documentation/dasharo-compatibility/S30-fan-speed/#fan002001-gpu-fan-speed-measure","title":"FAN002.001 GPU fan speed measure","text":"<p>Test description</p> <p>The fan has been configured to follow a custom curve. This test aims to verify that the fan curve is configured correctly and the fan spins up and down according to the defined values.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>Install <code>nvidia-smi</code> and <code>mesa-utils</code> on the DUT.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open the terminal window and execute the following command:</p> <pre><code>watch -n1 nvidia-smi\n</code></pre> </li> <li> <p>Verify using that the temperature is below 40\u00b0C.</p> </li> <li>If the temperature is above 40, enable the fan turbo mode (Fn + 1) until it    cools down.</li> <li>Flip the laptop over and check if the GPU fan (located under the Escape    key) is spinning.</li> <li> <p>In another terminal window, run the following command:</p> <pre><code>_NV_PRIME_RENDER_OFFLOAD=1 __GLX_VENDOR_LIBRARY_NAME=nvidia __GL_SYNC_TO_VBLANK=0 glxgears\n</code></pre> </li> <li> <p>Verify that the temperature increases above 40.</p> </li> <li>Flip the laptop over and check if the GPU fan is spinning.</li> </ol> <p>Expected result</p> <ol> <li>The fan should not be spinning while the temperature is below 40 degrees.</li> <li>The fan should be spinning while the temperature is above 40 degrees.</li> </ol>"},{"location":"unified-test-documentation/dasharo-compatibility/S31-coreboot-fan-control/","title":"Dasharo Compatibility: coreboot Fan Control","text":""},{"location":"unified-test-documentation/dasharo-compatibility/S31-coreboot-fan-control/#fan001001-check-cpu-entry-temperature-and-cpu-fan-speed","title":"FAN001.001 Check CPU entry temperature and CPU fan speed","text":"<p>Test description</p> <p>This test aims to verify that data for CPU temperature and CPU fan speed is available.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the proper number for <code>USB_STICK</code> option.</li> <li>Wait for <code>debian login:</code>.</li> <li>Type proper login.</li> <li>Wait for <code>Password:</code>.</li> <li>Type the proper password.</li> <li>Wait for <code>root@debian:~#</code>.</li> <li>Execute <code>watch -n 1 \"sensors w83795g-i2c-1-2f |grep fan1 -A 16\"</code>.</li> </ol> <p>Expected result</p> <p>There are visible data for <code>fan1</code> and <code>temp7</code> which represents CPU fan speed and CPU temperature.</p>"},{"location":"unified-test-documentation/dasharo-compatibility/S31-coreboot-fan-control/#fan001002-check-if-increasing-cpu-temperature-increases-cpu-fan-speed","title":"FAN001.002 Check if increasing CPU temperature increases CPU fan speed","text":"<p>Test description</p> <p>This test aims to verify that CPU fan speed responds properly to increasing CPU temperature.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Wait for boot until <code>BOOT_MENU_STRING</code> appears.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the proper number for <code>USB_STICK</code> option.</li> <li>Wait for <code>debian login:</code>.</li> <li>Type proper login.</li> <li>Wait for <code>Password:</code>.</li> <li>Type the proper password.</li> <li>Wait for <code>root@debian:~#</code>.</li> <li>Install <code>stress-ng</code> package by executing: <code>sudo apt install stress-ng</code>.</li> <li>Confirm installation by typing <code>Y</code> and pressing <code>Enter</code> when asked.</li> <li>Execute command: <code>watch -n 1 \"sensors w83795g-i2c-1-2f |grep fan1 -A 16\"</code>     and check current CPU temperature and CPU fan speed.</li> <li>Execute command:     <code>stress-ng --cpu 16 --io 8 --vm 4 --vm-bytes 4G --timeout 30s --metrics</code>.</li> <li>Wait 2 minutes.</li> <li>Execute command: <code>watch -n 1 \"sensors w83795g-i2c-1-2f |grep fan1 -A 16\"</code>     and check current CPU temperature and CPU fan speed.</li> </ol> <p>Expected result</p> <ol> <li>The CPU temperature after the second check is higher at least 20 degrees.</li> <li>The CPU fan speed after the second check is higher at least 1000 RPM.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/400-coreboot-boot-measure/","title":"Dasharo Performance: coreboot boot measure","text":""},{"location":"unified-test-documentation/dasharo-performance/400-coreboot-boot-measure/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Download <code>cbmem</code> from https://cloud.3mdeb.com/index.php/s/zTqkJQdNtJDo5Nd     to the DUT.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/400-coreboot-boot-measure/#cbmem001001-coreboot-booting-time-measure-after-coldboot-ubuntu-2204","title":"CBMEM001.001 coreboot booting time measure after coldboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the DUT boots after coldboot and how long this process takes. This test case may be re-done several times to to average the results and specify the platform stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>sudo ./cbmem -T\n</code></pre> <p>Expected result</p> <p>The output of the command should contain the information about duration of all boot stages.</p>"},{"location":"unified-test-documentation/dasharo-performance/400-coreboot-boot-measure/#cbmem002001-coreboot-booting-time-measure-after-warmboot-ubuntu-2204","title":"CBMEM002.001 coreboot booting time measure after warmboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the DUT boots after warmboot and how long this process takes. This test case may be re-done several times to to average the results and specify the platform stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>sudo ./cbmem -T\n</code></pre> <p>Expected result</p> <p>The output of the command should contain the information about duration of all boot stages.</p>"},{"location":"unified-test-documentation/dasharo-performance/400-coreboot-boot-measure/#cbmem003001-coreboot-booting-time-measure-after-system-reboot-ubuntu-2204","title":"CBMEM003.001 coreboot booting time measure after system reboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the DUT boots after system reboot and how long this process takes. This test case may be re-done several times to to average the results and specify the platform stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>sudo ./cbmem -T\n</code></pre> <p>Expected result</p> <p>The output of the command should contain the information about duration of all boot stages.</p>"},{"location":"unified-test-documentation/dasharo-performance/401-cpu-temperature/","title":"Dasharo Performance: CPU temperature measure","text":""},{"location":"unified-test-documentation/dasharo-performance/401-cpu-temperature/#common","title":"Common","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Install <code>lm-sensors</code> package: <code>sudo apt install lm-sensors</code>.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/401-cpu-temperature/#cpt001001-cpu-temperature-without-load-ubuntu-2204","title":"CPT001.001 CPU temperature without load (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the temperature of CPU cores after system booting is not higher than the maximum allowed temperature.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = coreboot</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sensors\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>Example output:</p> <pre><code>    coretemp-isa-0000\n    Adapter: ISA adapter\n    Package id 0:  +34.0\u00b0C  (high = +100.0\u00b0C, crit = +100.0\u00b0C)\nCore 0:        +34.0\u00b0C  (high = +100.0\u00b0C, crit = +100.0\u00b0C)\nCore 1:        +34.0\u00b0C  (high = +100.0\u00b0C, crit = +100.0\u00b0C)\nCore 2:        +32.0\u00b0C  (high = +100.0\u00b0C, crit = +100.0\u00b0C)\nCore 3:        +33.0\u00b0C  (high = +100.0\u00b0C, crit = +100.0\u00b0C)\n</code></pre> <p>Displayed temperature should be not higher than declared by the DUT specifications.</p>"},{"location":"unified-test-documentation/dasharo-performance/401-cpu-temperature/#cpt002001-cpu-temperature-during-stress-test-ubuntu-2204","title":"CPT002.001 CPU temperature during stress test (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the temperature of the CPU cores is not higher than the maximum allowed temperature during stress test.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = coreboot</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>stress-ng</code> package: <code>sudo apt install stress-ng</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command to turn on the stressor:</p> <pre><code>stress-ng --cpu 0 --tz -t 60m\n</code></pre> <p>Stress test duration time might be changed by change the value of the parameter <code>-t</code>.</p> </li> <li> <p>While test runs, open a terminal window and run the following command every    one minute until the test finishes, to check the current temperature.</p> <pre><code>sensors\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>Example output:</p> <pre><code>    coretemp-isa-0000\n    Adapter: ISA adapter\n    Package id 0:  +54.0\u00b0C  (high = +100.0\u00b0C, crit = +100.0\u00b0C)\nCore 0:        +50.0\u00b0C  (high = +100.0\u00b0C, crit = +100.0\u00b0C)\nCore 1:        +49.0\u00b0C  (high = +100.0\u00b0C, crit = +100.0\u00b0C)\nCore 2:        +53.0\u00b0C  (high = +100.0\u00b0C, crit = +100.0\u00b0C)\nCore 3:        +51.0\u00b0C  (high = +100.0\u00b0C, crit = +100.0\u00b0C)\n</code></pre> <p>The displayed temperatures should be not higher than displayed high and critical. Also the temperatures should be not higher than those declared by the DUT's producer.</p>"},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/","title":"Dasharo Performance: CPU frequency measure","text":""},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/#cpf001001-cpu-not-stuck-on-initial-frequency-ubuntu-2204","title":"CPF001.001 CPU not stuck on initial frequency (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the mounted CPU does not stuck on the initial frequency after booting into the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>cat /proc/cpuinfo | grep -i mhz\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain information about the current frequency of each CPU core. If the current frequency for each core is the same as initial frequency, the test should be considered as failed.</p> <p>Example output with unwanted results:</p> <pre><code>cpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\n</code></pre>"},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/#cpf001002-cpu-not-stuck-on-initial-frequency-windows-11","title":"CPF001.002 CPU not stuck on initial frequency (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify whether the mounted CPU does not stuck on the initial frequency after booting into the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Windows 11</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a powershell as administrator and run the following command:</li> </ol> <pre><code>while(1){(Get-CimInstance CIM_Processor).MaxClockSpeed*((Get-Counter -Counter \"\\Processor Information(_Total)\\% Processor Performance\").CounterSamples.CookedValue)/100}\n</code></pre> <ol> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The output of the command should contain information about the current frequency of CPU. If the following frequency values are the same, the test should be considered as failed.</p> <p>Example output with unwanted results:</p> <pre><code>2800.00000000000\n2800.00000000000\n2800.00000000000\n2800.00000000000\n2800.00000000000\n2800.00000000000\n2800.00000000000\n2800.00000000000\n</code></pre>"},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/#cpf001003-cpu-not-stuck-on-initial-frequency-headsdebian","title":"CPF001.003 CPU not stuck on initial frequency (Heads+Debian)","text":"<p>Test description</p> <p>This test aims to verify whether the mounted CPU does not stuck on the initial frequency after booting into the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Debian 12</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>cat /proc/cpuinfo | grep -i mhz\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain information about the current frequency of each CPU core. If the current frequency for each core is the same as initial frequency, the test should be considered as failed.</p> <p>Example output with unwanted results:</p> <pre><code>cpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\n</code></pre>"},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/#cpf002001-cpu-runs-on-expected-frequency-ubuntu-2204","title":"CPF002.001 CPU runs on expected frequency (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the mounted CPU is running on expected frequency.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lscpu | grep -i mhz\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li> <p>Run the following command in the terminal:</p> <pre><code>cat /proc/cpuinfo | grep -i mhz\n</code></pre> </li> <li> <p>Repeat command every one minute, for 60 minutes.</p> </li> <li>Compare the results.</li> </ol> <p>Expected result</p> <ol> <li> <p>The result of running the first command should contain the information about     current, minimum and maximum CPU frequency.</p> <p>Example output:</p> <pre><code>CPU MHz:                         2800.0000\nCPU max MHz:                     4700.0000\nCPU min MHz:                     400.0000\n</code></pre> </li> <li> <p>The result of running the second command should contain the information     about current frequency of each CPU core.</p> <p>Example output:</p> <pre><code>cpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 2800.000\ncpu MHz     : 900.542\ncpu MHz     : 461.831\n</code></pre> </li> <li> <p>None of CPU core frequencies should be higher than maximum frequency or     lower than minimum frequency.</p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/#cpf002002-cpu-runs-on-expected-frequency-windows-11","title":"CPF002.002 CPU runs on expected frequency (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify whether the mounted CPU is running on expected frequency.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Windows 11</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a powershell as administrator and run the following command:</li> </ol> <pre><code>(Get-CimInstance CIM_Processor).MaxClockSpeed\n</code></pre> <ol> <li>Note the result.</li> <li>Run the following command in the powershell:</li> </ol> <pre><code>while(1){(Get-CimInstance CIM_Processor).MaxClockSpeed*((Get-Counter -Counter \"\\Processor Information(_Total)\\% Processor Performance\").CounterSamples.CookedValue)/100}\n</code></pre> <ol> <li>Repeat command every one minute, for 60 minutes.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <ol> <li> <p>The result of running the first command should contain the information about    maximum CPU frequency.</p> <p>Example output:</p> <pre><code>2419\n</code></pre> </li> <li> <p>None of displayed values \u200b\u200bthat follow the second command should be higher than    maximum frequency.</p> <p>Example output:</p> <pre><code>1023.98759600614\n1009.23827168367\n940.831608527132\n1201.62695181908\n1140.59449053201\n1021.87762893503\n983.647614379085\n1206.27777992278\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/#cpf003001-cpu-runs-on-expected-frequency-ubuntu-2204-battery","title":"CPF003.001 CPU runs on expected frequency (Ubuntu 22.04, battery)","text":"<p>Test description</p> <p>This test aims to verify whether the mounted CPU is running on expected frequency when charger is disconnected. The DUT during test works on battery.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lscpu | grep -i mhz\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li> <p>Run the following command in the terminal:</p> <pre><code>cat /proc/cpuinfo | grep -i mhz\n</code></pre> </li> <li> <p>Repeat command every one minute, for 60 minutes.</p> </li> <li>Compare the results.</li> </ol> <p>Expected result</p> <ol> <li> <p>The result of running the first command should contain the information about     current, minimum and maximum CPU frequency.</p> <p>Example output:</p> <pre><code>CPU MHz:                         1800.000\nCPU max MHz:                     3900.0000\nCPU min MHz:                     1600.0000\n</code></pre> </li> <li> <p>The result of running the second command should contain the information     about current frequency of each CPU core.</p> <p>Example output:</p> <pre><code>cpu MHz     : 1700.000\ncpu MHz     : 3719.954\ncpu MHz     : 1600.000\ncpu MHz     : 1600.000\ncpu MHz     : 3778.321\ncpu MHz     : 1800.000\ncpu MHz     : 1700.000\ncpu MHz     : 3806.530\n</code></pre> </li> <li> <p>None of CPU core frequencies should be higher than maximum frequency or     lower than minimum frequency.</p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/#cpf003002-cpu-runs-on-expected-frequency-windows-11-battery","title":"CPF003.002 CPU runs on expected frequency (Windows 11, battery)","text":"<p>Test description</p> <p>This test aims to verify whether the mounted CPU is running on expected frequency when charger is disconnected. The DUT during test works on battery.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Windows 11</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a powershell as administrator and run the following command:</li> </ol> <pre><code>(Get-CimInstance CIM_Processor).MaxClockSpeed\n</code></pre> <ol> <li>Note the result.</li> <li>Run the following command in the powershell:</li> </ol> <pre><code>while(1){(Get-CimInstance CIM_Processor).MaxClockSpeed*((Get-Counter -Counter \"\\Processor Information(_Total)\\% Processor Performance\").CounterSamples.CookedValue)/100}\n</code></pre> <ol> <li>Repeat command couple times</li> <li>Note the results.</li> </ol> <p>Expected result</p> <ol> <li> <p>The result of running the first command should contain the information about    maximum CPU frequency.</p> <p>Example output:</p> <pre><code>2419\n</code></pre> </li> <li> <p>None of displayed values \u200b\u200bthat follow the second command should be higher than    maximum frequency.</p> <p>Example output:</p> <pre><code>1023.98759600614\n1009.23827168367\n940.831608527132\n1201.62695181908\n1140.59449053201\n1021.87762893503\n983.647614379085\n1206.27777992278\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/#cpf004001-cpu-with-load-runs-on-expected-frequency-ubuntu-2204","title":"CPF004.001 CPU with load runs on expected frequency (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the mounted CPU is running on expected frequency during the stress test.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lscpu | grep -i mhz\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li> <p>Open a terminal window and run the following command to turn on the stressor:</p> <pre><code>stress-ng --cpu 0 --tz -t 60m\n</code></pre> <p>Stress test duration time might be changed by change the value of the parameter <code>-t</code>.</p> </li> <li> <p>While test runs, open a terminal window and run the following command every    one minute until the test finishes, to check the current frequency.</p> <pre><code>cat /proc/cpuinfo | grep -i mhz\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <ol> <li> <p>The result of running the first command should contain the information about     current, minimum and maximum CPU frequency.</p> <p>Example output:</p> <pre><code>CPU MHz:                         1800.000\nCPU max MHz:                     3900.0000\nCPU min MHz:                     1600.0000\n</code></pre> </li> <li> <p>The result of running the third command should contain the information     about current frequency of each CPU core.</p> <p>Example output:</p> <pre><code>cpu MHz     : 1900.000\ncpu MHz     : 1600.000\ncpu MHz     : 2849.923\ncpu MHz     : 1700.000\ncpu MHz     : 2200.000\ncpu MHz     : 3386.400\ncpu MHz     : 1600.000\ncpu MHz     : 1600.000\n</code></pre> </li> <li> <p>None of CPU core frequencies should be higher than maximum frequency or     lower than minimum frequency.</p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/#cpf004002-cpu-with-load-runs-on-expected-frequency-windows-11","title":"CPF004.002 CPU with load runs on expected frequency (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify whether the mounted CPU is running on expected frequency during the stress test.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Windows 11</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a powershell as administrator and run the following command:</li> </ol> <pre><code>(Get-CimInstance CIM_Processor).MaxClockSpeed\n</code></pre> <ol> <li>Note the result.</li> <li>Run the stressor.</li> <li>While test runs, open Powershell and run the following command every     one minute until the test finishes, to check the current frequency:</li> </ol> <pre><code>(Get-CimInstance CIM_Processor).MaxClockSpeed*((Get-Counter -Counter \"\\Processor Information(_Total)\\% Processor Performance\").CounterSamples.CookedValue)/100\n</code></pre> <ol> <li>Repeat command couple times.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <ol> <li> <p>The result of running the first command should contain the information about    maximum CPU frequency.</p> <p>Example output:</p> <pre><code>2419\n</code></pre> </li> <li> <p>None of displayed values \u200b\u200bthat follow the second command should be higher than    maximum frequency.</p> <p>Example output:</p> <pre><code>1023.98759600614\n1009.23827168367\n940.831608527132\n1201.62695181908\n1140.59449053201\n1021.87762893503\n983.647614379085\n1206.27777992278\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/#cpf005001-cpu-with-load-runs-on-expected-frequency-ubuntu-2204-battery","title":"CPF005.001 CPU with load runs on expected frequency (Ubuntu 22.04, battery)","text":"<p>Test description</p> <p>This test aims to verify whether the mounted CPU is running on expected frequency during the stress test. The DUT during test works on battery.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lscpu | grep -i mhz\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li> <p>Open a terminal window and run the following command to turn on the stressor:</p> <pre><code>stress-ng --cpu 0 --tz -t 60m\n</code></pre> <p>Stress test duration time might be changed by change the value of the parameter <code>-t</code>.</p> </li> <li> <p>While test runs, open a terminal window and run the following command every    one minute until the test finishes, to check the current frequency.</p> <pre><code>cat /proc/cpuinfo | grep -i mhz\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <ol> <li> <p>The result of running the first command should contain the information about     current, minimum and maximum CPU frequency.</p> <p>Example output:</p> <pre><code>CPU MHz:                         1800.000\nCPU max MHz:                     3900.0000\nCPU min MHz:                     1600.0000\n</code></pre> </li> <li> <p>The result of running the third command should contain the information     about current frequency of each CPU core.</p> <p>Example output:</p> <pre><code>cpu MHz     : 1900.000\ncpu MHz     : 1600.000\ncpu MHz     : 2849.923\ncpu MHz     : 1700.000\ncpu MHz     : 2200.000\ncpu MHz     : 3386.400\ncpu MHz     : 1600.000\ncpu MHz     : 1600.000\n</code></pre> </li> <li> <p>None of CPU core frequencies should be higher than maximum frequency or     lower than minimum frequency.</p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/402-cpu-frequency/#cpf005002-cpu-with-load-runs-on-expected-frequency-windows-11-battery","title":"CPF005.002 CPU with load runs on expected frequency (Windows 11, battery)","text":"<p>Test description</p> <p>This test aims to verify whether the mounted CPU is running on expected frequency during the stress test.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Windows 11</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a powershell as administrator and run the following command:</li> </ol> <pre><code>(Get-CimInstance CIM_Processor).MaxClockSpeed\n</code></pre> <ol> <li>Note the result.</li> <li>Run the stressor.</li> <li>While test runs, open Powershell and run the following command every     one minute until the test finishes, to check the current frequency:</li> </ol> <pre><code>(Get-CimInstance CIM_Processor).MaxClockSpeed*((Get-Counter -Counter \"\\Processor Information(_Total)\\% Processor Performance\").CounterSamples.CookedValue)/100\n</code></pre> <ol> <li>Repeat command couple times.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <ol> <li> <p>The result of running the first command should contain the information about    maximum CPU frequency.</p> <p>Example output:</p> <pre><code>2419\n</code></pre> </li> <li> <p>None of displayed values that follow the second command should be higher than    maximum frequency.</p> <p>Example output:</p> <pre><code>1023.98759600614\n1009.23827168367\n940.831608527132\n1201.62695181908\n1140.59449053201\n1021.87762893503\n983.647614379085\n1206.27777992278\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/403-device-boot-measure/","title":"Dasharo Performance: Device boot measure","text":""},{"location":"unified-test-documentation/dasharo-performance/403-device-boot-measure/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/403-device-boot-measure/#dbm001001-device-boot-measure-after-coldboot-ubuntu-2204","title":"DBM001.001 Device boot measure after coldboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the DUT boots after coldboot and how long this process takes. This test case may be re-done several times to to average the results and specify the platform stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>systemd-analyze\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain the information about duration of all boot stages.</p>"},{"location":"unified-test-documentation/dasharo-performance/403-device-boot-measure/#dbm002001-device-boot-measure-after-warmboot-ubuntu-2204","title":"DBM002.001 Device boot measure after warmboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the DUT boots after warmboot and how long this process takes. This test case may be re-done several times to to average the results and specify the platform stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>systemd-analyze\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain the information about duration of all boot stages.</p>"},{"location":"unified-test-documentation/dasharo-performance/403-device-boot-measure/#dbm003001-device-boot-measure-after-reboot-ubuntu-2204","title":"DBM003.001 Device boot measure after reboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether the DUT boots after system reboot and how long this process takes. This test case may be re-done several times to to average the results and specify the platform stability.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo reboot\n</code></pre> </li> <li> <p>Boot into the system.</p> </li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>systemd-analyze\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain the information about duration of all boot stages.</p>"},{"location":"unified-test-documentation/dasharo-performance/404-platform-stability/","title":"Dasharo Performance: Platform stability","text":""},{"location":"unified-test-documentation/dasharo-performance/404-platform-stability/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/404-platform-stability/#stb001001-verify-if-no-reboot-occurs-in-the-firmware","title":"STB001.001 Verify if no reboot occurs in the firmware","text":"<p>Test description</p> <p>This test aims to verify that the DUT booted to the BIOS does not reset. The test is performed in multiple iterations - after a defined time an attempt to read the same menu is repeated.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While booting, press <code>SETUP_MENU_KEY</code> to enter the setup menu.</li> <li>Note the results.</li> <li>After the specified time has elapsed, repeat the operation described in     step 3.</li> </ol> <p>Expected result</p> <p>The platform should remain in the setup menu in every testing iteration.</p>"},{"location":"unified-test-documentation/dasharo-performance/404-platform-stability/#stb001002-verify-if-no-reboot-occurs-in-the-os-ubuntu-2204","title":"STB001.002 Verify if no reboot occurs in the OS (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the DUT booted to the Operation System does not reset. The test is performed in multiple iterations - after a defined time an attempt to read the output of specific commands confirming the stability of work is repeated.</p> <p>For testing purposes, additional stability criteria are adopted:</p> <ul> <li>Whether the platform has not lost connection to the Internet.</li> </ul> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>uptime -p\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li> <p>Run the following command in the terminal to check if the platform has     a connection with the Internet:</p> <pre><code>ip link | grep -E 'enp'\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li>After the specified time has elapsed, repeat the operations described in     steps 4-7.</li> </ol> <p>Expected result</p> <ol> <li> <p>Subsequent readings of the first command output should indicate that     the platform has not undergone a reboot.</p> <p>Example output of the command after 30 minutes of working:</p> <pre><code>up 30 minutes\n</code></pre> </li> <li> <p>Subsequent readings of the second command output should indicate that the     platform has not lost the connection to the Internet.</p> <p>Example output of the command:</p> <pre><code>2: enp46s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP mode DEFAULT group default qlen 1000\n</code></pre> <p>If the device is connected to the Internet, a <code>UP</code> status should appear for at least one physical interface.</p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/404-platform-stability/#stb001003-verify-if-no-reboot-occurs-in-the-os-windows-11","title":"STB001.003 Verify if no reboot occurs in the OS (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the DUT booted to the Operation System does not reset. The test is performed in multiple iterations - after a defined time an attempt to read the output of specific commands confirming the stability of work is repeated.</p> <p>For testing purposes, additional stability criteria are adopted:</p> <ul> <li>Whether the platform has not lost connection to the Internet.</li> </ul> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Run PowerShell as administrator and execute the following command:</p> <pre><code>(get-date) - (gcim Win32_OperatingSystem).LastBootUpTime\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li> <p>Run the following command in PowerShell to check if the platform has     a connection with the Internet:</p> <pre><code>Get-NetAdapter -Name \"Ethernet*\"\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li>After the specified time has elapsed, repeat the operations described in     steps 4-7.</li> </ol> <p>Expected result</p> <ol> <li> <p>Subsequent readings of the first command output should indicate that     the platform has not undergone a reboot.</p> <p>Example output of the command after 17 minutes of working:</p> <pre><code>Days              : 0\nHours             : 0\nMinutes           : 17\nSeconds           : 8\nMilliseconds      : 784\nTicks             : 10287845330\nTotalDays         : 0.0119072283912037\nTotalHours        : 0.285773481388889\nTotalMinutes      : 17.1464088833333\nTotalSeconds      : 1028.784533\nTotalMilliseconds : 1028784.533\n</code></pre> </li> <li> <p>Subsequent readings of the second command output should indicate that the     platform has not lost the connection to the Internet.</p> <p>Example output of the command:</p> <pre><code>Name                      InterfaceDescription                    ifIndex Status       MacAddress             LinkSpeed\n----                      --------------------                    ------- ------       ----------             ---------\nEthernet                  Realtek PCIe GbE Family Controller           15 Up           D4-93-90-0C-23-A1       100 Mbps\n</code></pre> <p>If the device is connected to the Internet, a <code>UP</code> status should appear for at least one physical interface.</p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/405-fan-control-measure/","title":"Dasharo Performance: Fan Control","text":""},{"location":"unified-test-documentation/dasharo-performance/405-fan-control-measure/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> <li> <p>Check if package <code>lm-sensors</code> is installed and if not, use below command in     the terminal to install:</p> <pre><code>apt-get install --assume-yes lm-sensors\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/405-fan-control-measure/#fnm001001-fan-does-not-stuck-after-coldboot-ubuntu-2204","title":"FNM001.001 Fan does not stuck after coldboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the fan does not stuck on initial or any defined speed after coldboot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>In the terminal window run the following command\\:</p> <pre><code>sensors | grep fan1\n</code></pre> </li> <li> <p>Repeat command every one minute, for 60 minutes.</p> </li> <li>Compare the results.</li> </ol> <p>Expected result</p> <p>The output of the command should contain information about the current fan speed. If the current speed is the same as initial speed, the test should be considered as failed. If the current speed does not change in the long term, the test should be considered as failed.</p> <p>Example output:</p> <pre><code>fan1:        1131 RPM  (min =  329 RPM)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-performance/405-fan-control-measure/#fnm002001-fan-does-not-stuck-after-warmboot-ubuntu-2204","title":"FNM002.001 Fan does not stuck after warmboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the fan does not stuck on initial or any defined speed after warmboot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>In the terminal window run the following command:</p> <pre><code>sensors | grep fan1\n</code></pre> </li> <li> <p>Repeat command every one minute, for 60 minutes.</p> </li> <li>Compare the results.</li> </ol> <p>Expected result</p> <p>The output of the command should contain information about the current fan speed. If the current speed is the same as initial speed, the test should be considered as failed. If the current speed does not change in the long term, the test should be considered as failed.</p> <p>Example output:</p> <pre><code>fan1:        1131 RPM  (min =  329 RPM)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-performance/405-fan-control-measure/#fnm003001-fan-does-not-stuck-after-reboot-ubuntu-2204","title":"FNM003.001 Fan does not stuck after reboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the fan does not stuck on initial or any defined speed after reboot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>In the terminal window run the following command:</p> <pre><code>sensors | grep fan1\n</code></pre> </li> <li> <p>Repeat command every one minute, for 60 minutes.</p> </li> <li>Compare the results.</li> </ol> <p>Expected result</p> <p>The output of the command should contain information about the current fan speed. If the current speed is the same as initial speed, the test should be considered as failed. If the current speed does not change in the long term, the test should be considered as failed.</p> <p>Example output:</p> <pre><code>fan1:        1131 RPM  (min =  329 RPM)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-performance/406-custom-fan-curve/","title":"Dasharo Performance: Custom fan curve","text":""},{"location":"unified-test-documentation/dasharo-performance/406-custom-fan-curve/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/406-custom-fan-curve/#cfc001001-custom-fan-curve-silent-profile-measure-ubuntu-2204","title":"CFC001.001 Custom fan curve silent profile measure (Ubuntu 22.04)","text":"<p>Test description</p> <p>The fan has been configured to follow a custom curve. This test aims to verify that the fan curve is configured correctly in silent profile and the fan spins up and down according to the defined values.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>Install <code>stress-ng</code> on the DUT.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup    Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Power Management Options</code> submenu.</li> <li>Verify that the <code>Fan profile</code> field is set to <code>Silent</code> - if not, using the    arrow keys and <code>Enter</code>, choose the <code>Silent</code> option.</li> <li>Press <code>F10</code> to save the changes.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open the terminal window and run the following command:</p> <pre><code>stress-ng --cpu 16 --timeout 30m\n</code></pre> </li> <li> <p>Open the terminal window and run the following command to get the    temperature:</p> <pre><code>cat /sys/devices/LNXSYSTM:00/LNXSYBUS:00/17761776:00/hwmon/hwmon3/temp1_input\n</code></pre> <p>The last three digits of the output are the value of the number after the   decimal point. Example output <code>47000</code> means 47\u00b0C.</p> </li> <li> <p>In the terminal window run the following command to get the PWM value of the    CPU fan:</p> <pre><code>cat /sys/devices/LNXSYSTM:00/LNXSYBUS:00/17761776:00/hwmon/hwmon3/pwm1\n</code></pre> </li> <li> <p>Repeat steps 13-14 a couple of times.</p> </li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>Silent fan profile</p> <p>Keep in mind that the EC firmware is smoothing, i.e. the fans will enter the target speed with a delay.</p> <p>The algorithm by which the EC calculates the speed is as follows:</p> <ul> <li>If the temperature is below the first one defined in the curve, set the speed   to 0.</li> <li>If the temperature is above the last defined curve, set the maximum speed.</li> <li>If the temperature is equal to one of the temperatures of the points on the   curve, set the speed from that point on the curve</li> <li> <p>If the temperature is between points on the curve:</p> <pre><code>slope = (right_point_speed - left_point_speed)/right_point_temperature - left_point_temperature)\nspeed = slope*(temperature - left_point_temperature) + left_point_speed\n</code></pre> </li> </ul> <p>Divide the PWM value by 2.55 to get the percentage to compare.</p> <p>Example check for 30\u00b0C and 70 PWM values:</p> <pre><code>```text\nexpected_speed = ((30-25)/(65-0))*(30-0)+25 \u2248 27\nactual_speed = 70/2.55 \u2248 27\n```\n</code></pre> <p>Values <code>expected_speed</code> and <code>actual_speed</code> are strongly similar. This means that the fan control is set correctly.</p>"},{"location":"unified-test-documentation/dasharo-performance/406-custom-fan-curve/#cfc002001-custom-fan-curve-performance-profile-measure-ubuntu-2204","title":"CFC002.001 Custom fan curve performance profile measure (Ubuntu 22.04)","text":"<p>Test description</p> <p>The fan has been configured to follow a custom curve. This test aims to verify that the fan curve is configured correctly in the performance profile and the fan spins up and down according to the defined values.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>Install <code>stress-ng</code> on the DUT.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup    Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Power Management Options</code> submenu.</li> <li>Verify that the <code>Fan profile</code> field is set to <code>Performance</code> - if not, using    the arrow keys and <code>Enter</code>, choose the <code>Performance</code> option.</li> <li>Press <code>F10</code> to save the changes.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open the terminal window and run the following command:</p> <pre><code>stress-ng --cpu 16 --timeout 30m\n</code></pre> </li> <li> <p>Open the terminal window and run the following command to get the    temperature:</p> <pre><code>cat /sys/devices/LNXSYSTM:00/LNXSYBUS:00/17761776:00/hwmon/hwmon3/temp1_input\n</code></pre> <p>The last three digits of the output are the value of the number after the   decimal point. Example output <code>47000</code> means 47\u00b0C.</p> </li> <li> <p>In the terminal window run the following command to get the PWM value of the    CPU fan:</p> <pre><code>cat /sys/devices/LNXSYSTM:00/LNXSYBUS:00/17761776:00/hwmon/hwmon3/pwm1\n</code></pre> </li> <li> <p>Repeat steps 13-14 a couple of times.</p> </li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>Performance fan profile</p> <p>Keep in mind that the EC firmware is smoothing, i.e. the fans will enter the target speed with a delay.</p> <p>The algorithm by which the EC calculates the speed is as follows:</p> <ul> <li>If the temperature is below the first one defined in the curve, set the speed   to 0.</li> <li>If the temperature is above the last defined curve, set the maximum speed.</li> <li>If the temperature is equal to one of the temperatures of the points on the   curve, set the speed from that point on the curve</li> <li> <p>If the temperature is between points on the curve:</p> <pre><code>slope = (right_point_speed - left_point_speed)/right_point_temperature - left_point_temperature)\nspeed = slope*(temperature - left_point_temperature) + left_point_speed\n</code></pre> </li> </ul> <p>Divide the PWM value by 2.55 to get the percentage to compare.</p> <p>Example check for 30\u00b0C and 79 PWM values:</p> <pre><code>```text\nexpected_speed = ((35-25)/(55-0))*(35-0)+25 \u2248 31\nactual_speed = 79/2.55 \u2248 31\n```\n</code></pre> <p>Values <code>expected_speed</code> and <code>actual_speed</code> are strongly similar. This means that the fan control is set correctly.</p>"},{"location":"unified-test-documentation/dasharo-performance/407-ubuntu-booting-performance-test/","title":"Dasharo Performance: Ubuntu booting performance test","text":""},{"location":"unified-test-documentation/dasharo-performance/407-ubuntu-booting-performance-test/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/407-ubuntu-booting-performance-test/#bub001001-boot-ubuntu-lts-from-disk-after-cold-boot","title":"BUB001.001 Boot Ubuntu LTS from disk after cold-boot","text":"<p>Test description</p> <p>This test aims to verify that Ubuntu LTS could be booted from the disk on the DUT after cold-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04 LTS</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/407-ubuntu-booting-performance-test/#bub002001-boot-ubuntu-lts-from-disk-after-warm-boot","title":"BUB002.001 Boot Ubuntu LTS from disk after warm-boot","text":"<p>Test description</p> <p>This test aims to verify that Ubuntu LTS could be booted from the disk on the DUT after warm-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04 LTS</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/407-ubuntu-booting-performance-test/#bub003001-boot-ubuntu-lts-from-disk-after-reboot","title":"BUB003.001 Boot Ubuntu LTS from disk after reboot","text":"<p>Test description</p> <p>This test aims to verify that Ubuntu LTS could be booted from the disk on the DUT after reboot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04 LTS</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo reboot\n</code></pre> </li> <li> <p>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</p> </li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/408-debian-booting-performance-test/","title":"Dasharo Performance: Debian booting performance test","text":""},{"location":"unified-test-documentation/dasharo-performance/408-debian-booting-performance-test/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/408-debian-booting-performance-test/#bde001001-boot-debian-lts-from-disk-after-cold-boot","title":"BDE001.001 Boot Debian LTS from disk after cold-boot","text":"<p>Test description</p> <p>This test aims to verify that Debian LTS could be booted from the disk on the DUT after cold-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Debian 11.6</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/408-debian-booting-performance-test/#bde002001-boot-debian-lts-from-disk-after-warm-boot","title":"BDE002.001 Boot Debian LTS from disk after warm-boot","text":"<p>Test description</p> <p>This test aims to verify that Debian LTS could be booted from the disk on the DUT after warm-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Debian 11.6</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/408-debian-booting-performance-test/#bde003001-boot-debian-lts-from-disk-after-reboot","title":"BDE003.001 Boot Debian LTS from disk after reboot","text":"<p>Test description</p> <p>This test aims to verify that Debian LTS could be booted from the disk on the DUT after reboot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Debian 11.6</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo reboot\n</code></pre> </li> <li> <p>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</p> </li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/409-freebsd-booting-performance-test/","title":"Dasharo Performance: FreeBSD booting performance test","text":""},{"location":"unified-test-documentation/dasharo-performance/409-freebsd-booting-performance-test/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/409-freebsd-booting-performance-test/#bfb001001-boot-freebsd-release-from-disk-after-cold-boot","title":"BFB001.001 Boot FreeBSD-RELEASE from disk after cold-boot","text":"<p>Test description</p> <p>This test aims to verify that FreeBSD-RELEASE could be booted from the disk on the DUT after cold-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = FreeBSD 13.2</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/409-freebsd-booting-performance-test/#bfb002001-boot-freebsd-release-from-disk-after-warm-boot","title":"BFB002.001 Boot FreeBSD-RELEASE from disk after warm-boot","text":"<p>Test description</p> <p>This test aims to verify that FreeBSD-RELEASE could be booted from the disk on the DUT after warm-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = FreeBSD 13.2</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/409-freebsd-booting-performance-test/#bfb003001-boot-freebsd-release-from-disk-after-reboot","title":"BFB003.001 Boot FreeBSD-RELEASE from disk after reboot","text":"<p>Test description</p> <p>This test aims to verify that FreeBSD-RELEASE could be booted from the disk on the DUT after reboot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = FreeBSD 13.2</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo reboot\n</code></pre> </li> <li> <p>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</p> </li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/410-proxmox-booting-performance-test/","title":"Dasharo Performance: Proxmox booting performance test","text":""},{"location":"unified-test-documentation/dasharo-performance/410-proxmox-booting-performance-test/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/410-proxmox-booting-performance-test/#bpm001001-boot-proxmox-virtual-environment-from-disk-after-cold-boot","title":"BPM001.001 Boot Proxmox Virtual Environment from disk after cold-boot","text":"<p>Test description</p> <p>This test aims to verify that Proxmox VE could be booted from the disk on the DUT after cold-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Proxmox VE 7.4</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/410-proxmox-booting-performance-test/#bpm002001-boot-proxmox-virtual-environment-from-disk-after-warm-boot","title":"BPM002.001 Boot Proxmox Virtual Environment from disk after warm-boot","text":"<p>Test description</p> <p>This test aims to verify that Proxmox VE could be booted from the disk on the DUT after warm-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Proxmox VE 7.4</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/410-proxmox-booting-performance-test/#bpm003001-boot-proxmox-virtual-environment-from-disk-after-reboot","title":"BPM003.001 Boot Proxmox Virtual Environment from disk after reboot","text":"<p>Test description</p> <p>This test aims to verify that Proxmox VE could be booted from the disk on the DUT after reboot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Proxmox VE 7.4</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo reboot\n</code></pre> </li> <li> <p>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</p> </li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/411-ubuntu-server-booting-performance-test/","title":"Dasharo Performance: Ubuntu Server booting performance test","text":""},{"location":"unified-test-documentation/dasharo-performance/411-ubuntu-server-booting-performance-test/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/411-ubuntu-server-booting-performance-test/#bus001001-boot-ubuntu-server-lts-from-disk-after-cold-boot","title":"BUS001.001 Boot Ubuntu Server LTS from disk after cold-boot","text":"<p>Test description</p> <p>This test aims to verify that Ubuntu Server LTS could be booted from the disk on the DUT after cold-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu Server 22.04 LTS</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/411-ubuntu-server-booting-performance-test/#bus002001-boot-ubuntu-server-lts-from-disk-after-warm-boot","title":"BUS002.001 Boot Ubuntu Server LTS from disk after warm-boot","text":"<p>Test description</p> <p>This test aims to verify that Ubuntu Server LTS could be booted from the disk on the DUT after warm-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu Server 22.04 LTS</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/411-ubuntu-server-booting-performance-test/#bus003001-boot-ubuntu-server-lts-from-disk-after-reboot","title":"BUS003.001 Boot Ubuntu Server LTS from disk after reboot","text":"<p>Test description</p> <p>This test aims to verify that Ubuntu Server LTS could be booted from the disk on the DUT after reboot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu Server 22.04 LTS</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo reboot\n</code></pre> </li> <li> <p>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</p> </li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/412-opnsense-serial-booting-performance-test/","title":"Dasharo Performance: OPNsense (serial output) booting performance test","text":""},{"location":"unified-test-documentation/dasharo-performance/412-opnsense-serial-booting-performance-test/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/412-opnsense-serial-booting-performance-test/#bos001001-boot-opnsense-serial-output-from-disk-after-cold-boot","title":"BOS001.001 Boot OPNsense (serial output) from disk after cold-boot","text":"<p>Test description</p> <p>This test aims to verify that OPNsense (serial output) could be booted from the disk on the DUT after cold-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = OPNsense serial 23.01</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/412-opnsense-serial-booting-performance-test/#bos002001-boot-opnsense-serial-output-from-disk-after-warm-boot","title":"BOS002.001 Boot OPNsense (serial output) from disk after warm-boot","text":"<p>Test description</p> <p>This test aims to verify that OPNsense (serial output) could be booted from the disk on the DUT after warm-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = OPNsense serial 23.01</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/412-opnsense-serial-booting-performance-test/#bos003001-boot-opnsense-serial-output-from-disk-after-reboot","title":"BOS003.001 Boot OPNsense (serial output) from disk after reboot","text":"<p>Test description</p> <p>This test aims to verify that OPNsense (serial output) could be booted from the disk on the DUT after reboot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = OPNsense serial 23.01</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo reboot\n</code></pre> </li> <li> <p>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</p> </li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/413-opnsense-vga-booting-performance-test/","title":"Dasharo Performance: OPNsense (VGA output) booting performance test","text":""},{"location":"unified-test-documentation/dasharo-performance/413-opnsense-vga-booting-performance-test/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/413-opnsense-vga-booting-performance-test/#bov001001-boot-opnsense-vga-output-from-disk-after-cold-boot","title":"BOV001.001 Boot OPNsense (VGA output) from disk after cold-boot","text":"<p>Test description</p> <p>This test aims to verify that OPNsense (VGA output) could be booted from the disk on the DUT after cold-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = OPNsense VGA 23.01</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/413-opnsense-vga-booting-performance-test/#bov002001-boot-opnsense-vga-output-stable-from-disk-after-warm-boot","title":"BOV002.001 Boot OPNsense (VGA output) stable from disk after warm-boot","text":"<p>Test description</p> <p>This test aims to verify that OPNsense (VGA output) stable could be booted from the disk on the DUT after warm-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = OPNsense VGA 23.01</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/413-opnsense-vga-booting-performance-test/#bov003001-boot-opnsense-vga-output-stable-from-disk-after-reboot","title":"BOV003.001 Boot OPNsense (VGA output) stable from disk after reboot","text":"<p>Test description</p> <p>This test aims to verify that OPNsense (VGA output) stable could be booted from the disk on the DUT after reboot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = OPNsense VGA 23.01</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo reboot\n</code></pre> </li> <li> <p>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</p> </li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/414-pfsense-serial-booting-performance-test/","title":"Dasharo Performance: pfSense (serial output) booting performance test","text":""},{"location":"unified-test-documentation/dasharo-performance/414-pfsense-serial-booting-performance-test/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/414-pfsense-serial-booting-performance-test/#bps001001-boot-pfsense-lts-ce-serial-output-from-disk-after-cold-boot","title":"BPS001.001 Boot pfSense LTS CE (serial output) from disk after cold-boot","text":"<p>Test description</p> <p>This test aims to verify that pfSense LTS CE (serial output) could be booted from the disk on the DUT after cold-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = pfSense CE serial 2.6.0</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/414-pfsense-serial-booting-performance-test/#bps002001-boot-pfsense-lts-ce-serial-output-from-disk-after-warm-boot","title":"BPS002.001 Boot pfSense LTS CE (serial output) from disk after warm-boot","text":"<p>Test description</p> <p>This test aims to verify that pfSense LTS CE (serial output) could be booted from the disk on the DUT after warm-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = pfSense CE serial 2.6.0</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/414-pfsense-serial-booting-performance-test/#bps003001-boot-pfsense-lts-ce-serial-output-from-disk-after-reboot","title":"BPS003.001 Boot pfSense LTS CE (serial output) from disk after reboot","text":"<p>Test description</p> <p>This test aims to verify that pfSense LTS CE (serial output) could be booted from the disk on the DUT after reboot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = pfSense CE serial 2.6.0</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo reboot\n</code></pre> </li> <li> <p>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</p> </li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/415-pfsense-vga-booting-performance-test/","title":"Dasharo Performance: pfSense (VGA output) booting performance test","text":""},{"location":"unified-test-documentation/dasharo-performance/415-pfsense-vga-booting-performance-test/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/415-pfsense-vga-booting-performance-test/#bpv001001-boot-pfsense-lts-ce-vga-output-from-disk-after-cold-boot","title":"BPV001.001 Boot pfSense LTS CE (VGA output) from disk after cold-boot","text":"<p>Test description</p> <p>This test aims to verify that pfSense LTS CE (VGA output) could be booted from the disk on the DUT after cold-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = pfSense CE VGA 2.6.0</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/415-pfsense-vga-booting-performance-test/#bpv002001-boot-pfsense-lts-ce-vga-output-from-disk-after-warm-boot","title":"BPV002.001 Boot pfSense LTS CE (VGA output) from disk after warm-boot","text":"<p>Test description</p> <p>This test aims to verify that pfSense LTS CE (VGA output) could be booted from the disk on the DUT after warm-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = pfSense CE VGA 2.6.0</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/415-pfsense-vga-booting-performance-test/#bpv003001-boot-pfsense-lts-ce-vga-output-from-disk-after-reboot","title":"BPV003.001 Boot pfSense LTS CE (VGA output) from disk after reboot","text":"<p>Test description</p> <p>This test aims to verify that pfSense LTS CE (VGA output) could be booted from the disk on the DUT after reboot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = pfSense CE VGA 2.6.0</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo reboot\n</code></pre> </li> <li> <p>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</p> </li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/416-windows-booting-performance-test/","title":"Dasharo Performance: Windows booting performance test","text":""},{"location":"unified-test-documentation/dasharo-performance/416-windows-booting-performance-test/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-performance/416-windows-booting-performance-test/#bwi001001-boot-windows-11-from-disk-after-cold-boot","title":"BWI001.001 Boot Windows 11 from disk after cold-boot","text":"<p>Test description</p> <p>This test aims to verify that Windows 11 could be booted from the disk on the DUT after cold-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Cut the power off while DUT is turned on.</li> <li>Restore power and power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/416-windows-booting-performance-test/#bwi002001-boot-windows-11-from-disk-after-warm-boot","title":"BWI002.001 Boot Windows 11 from disk after warm-boot","text":"<p>Test description</p> <p>This test aims to verify that Windows 11 could be booted from the disk on the DUT after warm-boot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-performance/416-windows-booting-performance-test/#bwi003001-boot-windows-11-from-disk-after-reboot","title":"BWI003.001 Boot Windows 11 from disk after reboot","text":"<p>Test description</p> <p>This test aims to verify that Windows 11 could be booted from the disk on the DUT after reboot. The test is performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Reboot the device executing in PowerShell:</p> <pre><code>Restart-Computer\n</code></pre> </li> <li> <p>Press <code>BOOT_MENU_KEY</code> to enter the boot menu.</p> </li> <li>In the <code>Boot Menu</code>, select the disk on which the system was previously    installed or boot entry with the name of <code>OPERATING_SYSTEM</code>.</li> <li>Wait for the <code>OPERATING_SYSTEM</code> to boot and note the result.</li> </ol> <p>Expected result</p> <p>The <code>OPERATING_SYSTEM</code> login screen should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-security/200-tpm-support/","title":"Dasharo Security: TPM Support","text":""},{"location":"unified-test-documentation/dasharo-security/200-tpm-support/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/200-tpm-support/#tpm001001-tpm-support-firmware","title":"TPM001.001 TPM Support (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the TPM is initialized correctly and the PCRs can be accessed from the firmware.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the BIOS.</li> <li>Enter the shell.</li> <li> <p>Run the following command in the shell:</p> <pre><code>cbmem -L\n</code></pre> </li> </ol> <p>Expected result</p> <p>The command should return information about the TPM log entries.</p> <p>Example output:</p> <pre><code>TPM2 log:\n    Specification: 2.00\n    Platform class: PC Client\n    No vendor information provided\nTPM2 log entry 1:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA1: f78a530fb5a70afcffdc86a98529abd24a90bac9\n    Event data: FMAP: FMAP\nTPM2 log entry 2:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA1: 369155e6eab3b0a874140e591a4c0e992268b4b9\n    Event data: FMAP: BOOTBLOCK\nTPM2 log entry 3:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA1: 5e785c080264aa6e169f70c80ac40b556066292b\n    Event data: FMAP: COREBOOT CBFS: fallback/romstage\nTPM2 log entry 4:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA1: ba2a5af955811fbac58a5198545539596eb38c3e\n    Event data: FMAP: COREBOOT CBFS: fallback/ramstage\nTPM2 log entry 5:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA1: ba35d4ce29d7b633b5644e2a3206c6069cf7f24d\n    Event data: FMAP: COREBOOT CBFS: fallback/payload\nTPM2 log entry 6:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA1: 47b49026133377e05193f8440c9a7cad239e883c\n    Event data: FMAP: COREBOOT CBFS: 1-cpu.dtb\nTPM2 log entry 7:\n    PCR: 3\nEvent type: Action\n    Digests:\n         SHA256: 6e7b06693452d997ac534e823b1ea79e5bb8ed19ba8a7af878abf10199c3d515\n         SHA1: 6e7b06693452d997ac534e823b1ea79e5bb8ed19\n    Event data: VERSION\nTPM2 log entry 8:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA256: de73053377e1ae5ba5d2b637a4f5bfaeb410137722f11ef135e7a1be524e3092\n         SHA1: de73053377e1ae5ba5d2b637a4f5bfaeb4101377\n    Event data: IMA_CATALOG\nTPM2 log entry 9:\n    PCR: 4\nEvent type: Action\n    Digests:\n         SHA256: ba427f9349b1f9e589f98909e26086b0cfd5ced78a7fbcb140a70a506c38a8e5\n         SHA1: ba427f9349b1f9e589f98909e26086b0cfd5ced7\n    Event data: BOOTKERNEL\n(...)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/200-tpm-support/#tpm001002-tpm-support-ubuntu-2204","title":"TPM001.002 TPM Support (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the TPM is initialized correctly and the PCRs can be accessed from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Install the <code>tpm2-tools</code> package: <code>sudo apt install tpm2-tools</code>.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Check the version of installed tpm2-tools - execute the following command     in the terminal:</p> <pre><code>dpkg --list tpm2-tools\n</code></pre> </li> <li> <p>If your device is equipped with TPM2.0 and the version of <code>tpm2-tools</code>     is 4.0 or higher - execute the following command in the terminal:</p> <pre><code>tpm2_pcrread\n</code></pre> </li> <li> <p>If your device is equipped with TPM2.0 and the version of <code>tpm2-tools</code>     is lower than 4.0 - execute the following command in the terminal:</p> <pre><code>tpm2_pcrlist\n</code></pre> </li> <li> <p>If your device is equipped with TPM1.2 - execute the following command in the     terminal:</p> <pre><code>cat /sys/class/tpm/tpm0/pcrs\n</code></pre> </li> </ol> <p>Expected result</p> <p>The command should return a list of PCRs and their contents.</p> <p>Output example for TPM2.0:</p> <pre><code>sha1 :\n  0  : 3a3f780f11a4b49969fcaa80cd6e3957c33b2275\n  1  : 8a074fdf65a11e5dbf02d25e7f26b00c26c98b41\n  2  : c36c2509d636c9cfa075d6d0a03b7a37bec14ee9\n  3  : 3a3f780f11a4b49969fcaa80cd6e3957c33b2275\n  4  : 2d247bb671ec17ded623ca45967df5482517291b\n  5  : 49d543eb1d1df3439d9fca695ee47b8cdf4b9e2f\n  6  : 3a3f780f11a4b49969fcaa80cd6e3957c33b2275\n  7  : 3a3f780f11a4b49969fcaa80cd6e3957c33b2275\n  8  : 0000000000000000000000000000000000000000\n  9  : 0000000000000000000000000000000000000000\n  10 : 0000000000000000000000000000000000000000\n  11 : 0000000000000000000000000000000000000000\n  12 : 0000000000000000000000000000000000000000\n  13 : 0000000000000000000000000000000000000000\n  14 : 0000000000000000000000000000000000000000\n  15 : 0000000000000000000000000000000000000000\n  16 : 0000000000000000000000000000000000000000\n  17 : ffffffffffffffffffffffffffffffffffffffff\n  18 : ffffffffffffffffffffffffffffffffffffffff\n  19 : ffffffffffffffffffffffffffffffffffffffff\n  20 : ffffffffffffffffffffffffffffffffffffffff\n  21 : ffffffffffffffffffffffffffffffffffffffff\n  22 : ffffffffffffffffffffffffffffffffffffffff\n  23 : 0000000000000000000000000000000000000000\nsha256 :\n  0  : d27cc12614b5f4ff85ed109495e320fb1e5495eb28d507e952d51091e7ae2a72\n  1  : b29a64bd6895966b777eb803f45e6bbffade81cc1b996a34f7cbd26f1d04028b\n  2  : 3122422e43b9fbfc0cb70eb467b55e99ec61462370e6b15c515484f821e1d4d9\n  3  : 909e4261938378c0556a4c335c38718d1c313bd151fdf222df674aabb7aeee97\n  4  : 984763b42633ee11e5167e2f67c2e6879bd6efac683f1df1ef16d7ce96d4b49b\n  5  : dab92c45eeb765e29784f8cc33f92d0a39afed173f2b07e0e328586c3c3b19ed\n  6  : d27cc12614b5f4ff85ed109495e320fb1e5495eb28d507e952d51091e7ae2a72\n  7  : d27cc12614b5f4ff85ed109495e320fb1e5495eb28d507e952d51091e7ae2a72\n  8  : 0000000000000000000000000000000000000000000000000000000000000000\n  9  : 0000000000000000000000000000000000000000000000000000000000000000\n  10 : 0000000000000000000000000000000000000000000000000000000000000000\n  11 : 0000000000000000000000000000000000000000000000000000000000000000\n  12 : 0000000000000000000000000000000000000000000000000000000000000000\n  13 : 0000000000000000000000000000000000000000000000000000000000000000\n  14 : 0000000000000000000000000000000000000000000000000000000000000000\n  15 : 0000000000000000000000000000000000000000000000000000000000000000\n  16 : 0000000000000000000000000000000000000000000000000000000000000000\n  17 : ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\n  18 : ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\n  19 : ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\n  20 : ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\n  21 : ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\n  22 : ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\n  23 : 0000000000000000000000000000000000000000000000000000000000000000\n</code></pre> <p>Output example for TPM1.2:</p> <pre><code>PCR-00: B3 F3 60 E1 D5 1F 82 D4 62 E6 B9 69 92 2F 65 F4 9F 1A 5F 8E\nPCR-01: 21 9F 1F 4A C1 AD AD 4D F1 8B 9F AB 98 23 68 B1 73 A6 32 87\nPCR-02: 40 CF E3 DC A7 FF 67 FB AA BB 20 85 A4 39 43 D8 54 A7 AB 98\nPCR-03: E3 E7 E6 89 CA FB F5 75 38 95 D0 CD 83 96 F6 0C 38 04 DC D5\nPCR-04: 01 7A 3D E8 2F 4A 1B 77 FC 33 A9 03 FE F6 AD 27 EE 92 BE 04\nPCR-05: 93 6A 12 98 07 73 85 9D 91 27 61 82 E7 11 C5 1D 08 98 C4 28\nPCR-06: 3A 3F 78 0F 11 A4 B4 99 69 FC AA 80 CD 6E 39 57 C3 3B 22 75\nPCR-07: 3A 3F 78 0F 11 A4 B4 99 69 FC AA 80 CD 6E 39 57 C3 3B 22 75\nPCR-08: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\nPCR-09: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\nPCR-10: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\nPCR-11: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\nPCR-12: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\nPCR-13: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\nPCR-14: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\nPCR-15: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\nPCR-16: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\nPCR-17: FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF\nPCR-18: FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF\nPCR-19: FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF\nPCR-20: FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF\nPCR-21: FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF\nPCR-22: FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF\nPCR-23: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/200-tpm-support/#tpm001003-tpm-support-windows-11","title":"TPM001.003 TPM Support (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the TPM is initialized correctly and the PCRs can be accessed from the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a PowerShell as administrator and run the following command:</p> <pre><code>get-tpm\n</code></pre> </li> </ol> <p>Expected result</p> <p>The command should return information about the TPM state: if the TPM is present, ready and enabled:</p> <pre><code>TpmPresent     : True\nTpmReady       : True\nTpmEnabled     : True\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/200-tpm-support/#tpm002001-verify-tpm-version-firmware","title":"TPM002.001 Verify TPM version (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the TPM version is correctly recognized by the firmware.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the BIOS.</li> <li>Enter the shell.</li> <li> <p>Run the following command in the shell:</p> <pre><code>cbmem -L\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output of the command should contain information about the TPM version.</p> <p>Example output:</p> <pre><code>TPM2 log:\n    Specification: 2.00\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/200-tpm-support/#tpm002002-verify-tpm-version-ubuntu-2204","title":"TPM002.002 Verify TPM version (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the TPM version is correctly recognized by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Check the version of installed tpm2-tools - execute the following command     in the terminal:</p> <pre><code>dmesg | grep -i tpm\n</code></pre> </li> </ol> <p>Expected result</p> <p>The command should return information about the TPM version.</p> <p>Example output:</p> <pre><code>tpm_tis 00:07: 1.2 TPM (device-id 0x0, rev-id 78)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/200-tpm-support/#tpm002003-verify-tpm-version-windows-11","title":"TPM002.003 Verify TPM version (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the TPM version is correctly recognized by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a PowerShell as administrator and run the following command:</p> <pre><code>wmic /namespace:\\\\root\\cimv2\\security\\microsofttpm path win32_tpm get * /format:textvaluelist.xsl\n</code></pre> </li> </ol> <p>Expected result</p> <p>The command should return information about the TPM version.</p> <p>Example output:</p> <pre><code>SpecVersion=2.0\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/200-tpm-support/#tpm003001-check-tpm-physical-presence-interface-firmware","title":"TPM003.001 Check TPM Physical Presence Interface (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the TPM Physical Presence Interface is supported by the firmware.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> <li>Download <code>cbmem</code> from https://cloud.3mdeb.com/index.php/s/zTqkJQdNtJDo5Nd    to the DUT.</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open the terminal and run the following command and note results:</p> <pre><code>sudo cbmem -1 |grep PPI\n</code></pre> </li> </ol> <p>Expected result</p> <p>The <code>cbmem.log</code> should contain the following lines (the hex numbers may be different per platform):</p> <pre><code>[DEBUG]  PPI: Pending OS request: 0x0 (0x0)\n[DEBUG]  PPI: OS response: CMD 0x39073907 = 0x0\n[DEBUG]    TPM PPI     8. 0x76ffe620 0x0000015a\n</code></pre> <p>If the above lines are present, the firmware supports TPM PPI.</p>"},{"location":"unified-test-documentation/dasharo-security/200-tpm-support/#tpm003002-check-tpm-physical-presence-interface-ubuntu-2204","title":"TPM003.002 Check TPM Physical Presence Interface (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the TPM Physical Presence Interface is correctly recognized by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> <li>Platform with TPM 2.0 module present.</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open the terminal and run the following command to check the version of TPM    PPI in sysfs:</p> <pre><code>cat /sys/class/tpm/tpm0/ppi/version\n</code></pre> </li> </ol> <p>Expected result</p> <p>The command should return information about the TPM PPI version (only 1.3 is valid). If PPI is not available the file will not be found and test fails.</p> <p>Example output:</p> <pre><code>$ cat /sys/class/tpm/tpm0/ppi/version\n1.3\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/200-tpm-support/#tpm003003-check-tpm-physical-presence-interface-windows-11","title":"TPM003.003 Check TPM Physical Presence Interface (Windows 11)","text":"<p>Test description</p> <p>This test aims to verify that the TPM Physical Presence Interface is correctly recognized by the operating system.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> <li>Platform with TPM 2.0 module present.</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a PowerShell as administrator and run the following command:</p> <pre><code>tpmtool getdeviceinformation\n</code></pre> </li> </ol> <p>Expected result</p> <p>The command should return information about the TPM PPI version (only 1.3 is valid). If PPI is not available on the list, test fails.</p> <p>Example output:</p> <pre><code>tpmtool getdeviceinformation\n\n-TPM Present: True\n-TPM Version: 2.0\n-TPM Manufacturer ID: INTC\n-TPM Manufacturer Full Name: Intel\n-TPM Manufacturer Version: 600.18.0.0\n-PPI Version: 1.3\n-Is Initialized: True\n-Ready For Storage: True\n-Ready For Attestation: True\n-Is Capable For Attestation: True\n-Clear Needed To Recover: False\n-Clear Possible: True\n-TPM Has Vulnerable Firmware: False\n-Maintenance Task Complete: True\n-Bitlocker PCR7 Binding State: Binding Not Possible\n-TPM Spec Version: 1.38\n-TPM Errata Date: Wednesday, December 18, 2019\n-PC Client Version: 1.04\n-Lockout Information:\n    -Is Locked Out: False\n    -Lockout Counter: 0\n    -Max Auth Fail: 32\n    -Lockout Interval: 7200s\n    -Lockout Recovery: 86400s\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/200-tpm-support/#tpm003004-change-active-pcr-banks-with-tpm-ppi-firmware","title":"TPM003.004 Change active PCR banks with TPM PPI (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the TPM Physical Presence Interface is working properly in the firmware by changing active TPM PCR banks.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li>Platform with TPM 2.0 module present.</li> <li><code>TPM003.001</code> indicating that TPM PPI is supported.</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the firmware setup using the <code>BIOS_SETUP_KEY</code>.</li> <li>Enter the <code>Device Manager</code> -&gt; <code>TCG2 Configuration</code>.</li> <li>Scroll down to the bottom of the page using arrow down key.</li> <li>Switch active PCR banks depending on the currently active banks.:</li> <li>if both SHA1 and SHA256 are active, deactivate SHA1</li> <li>if SHA1 only is active, activate SHA256 and deactivate SHA1</li> <li>if SHA256 only is active, activate SHA1 and deactivate SHA256</li> <li>Press <code>F10</code> to save and go back to the main setup page using <code>ESC</code> key.</li> <li>Use the <code>Reset</code> option on the main setup page to reboot the DUT.</li> <li>After reset a prompt should appear explaining a TPM state change request has    been made. Press <code>F12</code> as instructed to apply changes. The DUT will need to    reboot again.</li> <li>After the reboot enter the <code>Device Manager</code> -&gt; <code>TCG2 Configuration</code> again.</li> <li>Scroll down to the bottom of the page using arrow down key.</li> <li>Verify the active PCR banks were changed according to the choice made in     step 5.</li> </ol> <p>NOTE: Certain TPMs like Intel PTT (fTPM) do not allow to set more than one active PCR bank at a given time, that is why the test case keeps only one bank active. Discrete TPMs may have multiple banks enabled simultaneously, but it is TPM module and TPM firmware dependent.</p> <p>Expected result</p> <ol> <li>The prompt appears at step 8.</li> <li>The requested changes are applied as verified in step 11.</li> </ol> <p>The prompt seen on the DUT screen has the following format (example change from SHA256 to SHA1):</p> <pre><code>A configuration change was requested to PCR bank(s) of this computer's TPM\n(Trusted Platform Module)\n\nWARNING: Changing the PCR bank(s) of the boot measurements may prevent the\nOperating System from properly processing the measurements. Please check if\nyour Operating System supports the new PCR bank(s).\n\nWARNING: Secrets in the TPM that are bound to the boot state of your machine\nmay become unusable.\n\nCurrent PCRBanks is 0x2. (SHA256)\nNew PCRBanks is 0x1. (SHA1)\n\nPress F12 change the boot measurements to use PCR bank(s) of the TPM\nPress ESC to reject this change request and continue\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/","title":"Dasharo Security: Verified Boot support","text":""},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo001001-generating-keys-for-verified-boot","title":"VBO001.001 Generating keys for Verified Boot","text":"<p>Test description</p> <p>This test aims to verify whether there is a possibility to generate vboot keys for signing the firmware.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Based on the dedicated documentation     generate the keys.</li> <li>Check if the keys, after finishing the generating process, are available in     the <code>keys</code> subdirectory.</li> </ol> <p>Expected result</p> <p>The <code>keys</code> location should contain the generated keys.</p>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo002001-signing-image-without-rebuild","title":"VBO002.001 Signing image without rebuild","text":"<p>Test description</p> <p>This test aims to verify whether there is a possibility to sign the firmware image with generated keys without rebuilding.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Localize the keys, which were generated in the <code>VBO001.001</code> test case.</li> <li>Based on the     dedicated documentation     sign the firmware image with the keys without rebuilding.</li> <li>Note the result.</li> </ol> <p>Expected result</p> <p>The output of the last command should contain information that resigning procedure was successful.</p> <p>Example output:</p> <pre><code>...\nINFO: sign_bios_at_end: BIOS image does not have FW_MAIN_B. Signing only FW_MAIN_A\n - import root_key from /.../keys/root_key.vbpubk: success\n - import recovery_key from /.../keys/recovery_key.vbpubk: success\nsuccessfully saved new image to: /.../protectli_vault_cml_v1.0.16_resigned.rom\nThe /.../protectli_vault_cml_v1.0.16.rom was resigned and saved as: /.../protectli_vault_cml_v1.0.16_resigned.rom\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo003001-flashing-device-with-the-signed-firmware","title":"VBO003.001 Flashing device with the signed firmware","text":"<p>Test description</p> <p>This test aims to verify whether there is a possibility to flash the locally signed firmware to the DUT.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Localize the firmware, which was signed in the <code>VBO002.001</code> test case.</li> <li> <p>Flash the firmware by using the internal programmer and <code>flashrom</code> tool. If     DUT is already flashed with the Dasharo firmware, the following command     should be used:</p> <pre><code>flashrom -p internal -w [path-to-binary] --fmap -i RW_SECTION_A\n</code></pre> <p>Otherwise, the following command should be used:</p> <pre><code>flashrom -p internal -w [path-to-binary] --ifd -i bios\n</code></pre> </li> <li> <p>Reboot the DUT. and note the results.</p> </li> </ol> <p>Expected result</p> <p>The DUT reboots properly without issues related to firmware signing.</p>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo004001-adding-keys-and-building-image","title":"VBO004.001 Adding keys and building image","text":"<p>Test description</p> <p>This test aims to verify whether there is a possibility to build firmware on the local machine, based on <code>Build manual</code> procedure dedicated to the platform and sign it with the locally generated keys.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Make yourself familiar with Building manual procedure dedicated for     the relevant platform:<ul> <li>NovaCustom laptops</li> </ul> </li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Localize the keys, which were generated in the <code>VBO001.001</code> test case.</li> <li>Based on the     dedicated documentation     add locally generated keys to the coreboot config.</li> <li>Based on the dedicated documentation build firmware.</li> <li>Check if the binary file, after finishing the building process, is available     in the <code>build</code> subdirectory.</li> </ol> <p>Expected result</p> <p>The <code>build</code> location should contain the binary file, which size is equal to the flash chip size.</p>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo005001-flashing-device-with-built-firmware","title":"VBO005.001 Flashing device with built firmware","text":"<p>Test description</p> <p>This test aims to verify it is possible to flash and boot DUT with signed firmware image.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Localize the firmware, which was built in the <code>VBO004.001</code> test case.</li> <li> <p>Flash the firmware by using the internal programmer and <code>flashrom</code> tool. If     DUT is already flashed with the Dasharo firmware, the following command     should be used:</p> <pre><code>flashrom -p internal -w [path-to-binary] --fmap -i RW_SECTION_A\n</code></pre> <p>Otherwise, the following command should be used:</p> <pre><code>flashrom -p internal -w [path-to-binary] --ifd -i bios\n</code></pre> </li> <li> <p>Reboot the DUT. and note the results.</p> </li> </ol> <p>Expected result</p> <p>The DUT reboots properly without issues related to firmware signing.</p>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo006001-verified-boot-support-firmware","title":"VBO006.001 Verified boot support (firmware)","text":"<p>Test description</p> <p>Verified Boot is a method of verifying that the firmware components come from a trusted source. This test aims to confirm that verified boot is enabled and functional.</p> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Disable Secure Boot.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Read coreboot loading logs.</li> </ol> <p>Expected result</p> <p>The logs should indicate that vboot is enabled and verstage has been entered:</p> <pre><code>VBOOT: Loading verstage.\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo006002-verified-boot-support-ubuntu-2204","title":"VBO006.002 Verified boot support (Ubuntu 22.04)","text":"<p>Test description</p> <p>Verified Boot is a method of verifying that the firmware components come from a trusted source. This test aims to confirm that verified boot is enabled and functional.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Download <code>cbmem</code> and <code>flashrom</code> from https://cloud.3mdeb.com/index.php/s/zTqkJQdNtJDo5Nd     to the DUT.</li> <li>Disable Secure Boot.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>sudo ./cbmem -c | grep VBOOT\n</code></pre> <p>Expected result</p> <p>The output of the command should indicate that vboot is enabled and verstage has been entered:</p> <pre><code>VBOOT: Loading verstage.\nTPM: Extending digest for VBOOT: boot mode into PCR 0\nTPM: Extending digest for VBOOT: GBB HWID into PCR 1\nVBOOT WORK  8. 0x76c05000 0x00014000\nPCR-0 2547cc736e951fa4919853c43ae890861a3b3264000000000000000000000000 SHA256 [VBOOT: boot mode]\nPCR-1 e3324765a25f8a59c7c20cc35c1c33a8ab384159d2b40a269246b0b4491cdf89 SHA256 [VBOOT: GBB HWID]\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo007001-verified-boot-booting-from-slot-a-firmware","title":"VBO007.001 Verified boot: Booting from Slot A (firmware)","text":"<p>Test description</p> <p>If the signatures for firmware stored in vboot Slot A are correct, vboot should proceed to boot from Slot A.</p> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Disable Secure Boot.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Read coreboot loading logs.</li> </ol> <p>Expected result</p> <p>The logs should indicate that vboot has chosen to boot from slot A:</p> <pre><code>Slot A is selected\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo007002-verified-boot-booting-from-slot-a-ubuntu-2204","title":"VBO007.002 Verified boot: Booting from Slot A (Ubuntu 22.04)","text":"<p>Test description</p> <p>If the signatures for firmware stored in vboot Slot A are correct, vboot should proceed to boot from Slot A.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Download <code>cbmem</code> and <code>flashrom</code> from https://cloud.3mdeb.com/index.php/s/zTqkJQdNtJDo5Nd    to the DUT.</li> <li>Disable Secure Boot.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>sudo ./cbmem -c | grep \"Slot A\"\n</code></pre> <p>Expected result</p> <p>The output of the command should indicate that vboot has chosen to boot from slot A:</p> <pre><code>Slot A is selected\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo008001-verified-boot-booting-from-recovery-ubuntu-2204","title":"VBO008.001 Verified boot: Booting from Recovery (Ubuntu 22.04)","text":"<p>Test description</p> <p>If the signatures for firmware stored in vboot Slot A are incorrect, vboot should revert to booting from the recovery slot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Download <code>cbmem</code> and <code>flashrom</code> from https://cloud.3mdeb.com/index.php/s/zTqkJQdNtJDo5Nd    to the DUT.</li> <li>Disable Secure Boot.</li> <li>Obtain coreboot binary     signed with wrong vboot keys.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Flash coreboot signed with wrong vboot keys by executing the following command:</p> <pre><code>flashrom -p internal --fmap -i RW_SECTION_A -w [coreboot binary]\n</code></pre> </li> <li> <p>Power off the DUT</p> </li> <li>Connect to the DUT using the serial port.</li> <li>Power on the DUT</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>sudo ./cbmem -c | grep -i recovery\n</code></pre> </li> <li> <p>If booting into the system is impossible, read coreboot loading logs.</p> </li> </ol> <p>Expected result</p> <p>The logs should indicate that vboot has chosen to boot from the recovery slot.</p> <p>Example:</p> <pre><code>VB2:vb2_check_recovery() Recovery reason from previous boot: 0x3 / 0x3\nVB2:vb2_check_recovery() We have a recovery request: 0x3 / 0x0\nRecovery requested (1009000e)\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo009001-recovery-boot-popup-firmware","title":"VBO009.001 Recovery boot popup (firmware)","text":"<p>Test description</p> <p>This test aims to verify whether the recovery mode information is displayed as the popup after rebooting the DUT which is flashed with the firmware with the wrong vboot keys.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Disable Secure Boot.</li> <li>Obtain <code>coreboot binary</code> signed with wrong vboot keys.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Flash coreboot signed with wrong vboot keys by executing the following command:</p> <pre><code>flashrom -p internal --fmap -i RW_SECTION_A -w [coreboot binary]\n</code></pre> </li> <li> <p>Reboot the DUT.</p> </li> <li>Wait for the popup to appear.</li> </ol> <p>Expected result</p> <p>Popup with information about recovery mode should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo010001-recovery-boot-popup-confirmation-firmware","title":"VBO010.001  Recovery boot popup confirmation (firmware)","text":"<p>Test description</p> <p>This test aims to verify whether the recovery popup might be confirmed which allows to proceed to the next booting stages.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Disable Secure Boot.</li> <li>Obtain <code>coreboot binary</code> signed with wrong vboot keys.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Flash coreboot signed with wrong vboot keys by executing the following command:</p> <pre><code>flashrom -p internal --fmap -i RW_SECTION_A -w [coreboot binary]\n</code></pre> </li> <li> <p>Reboot the DUT.</p> </li> <li>Wait for the popup to appear.</li> <li>Press <code>ENTER</code>.</li> </ol> <p>Expected result</p> <p>After pressing <code>ENTER</code> the DUT should immediately move to the next stages of booting.</p>"},{"location":"unified-test-documentation/dasharo-security/201-verified-boot/#vbo011001-booting-after-flashing-with-valid-binary-ubuntu-2204","title":"VBO011.001 Booting after flashing with valid binary (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify whether after flashing the DUT with the valid binary, the DUT will boot correctly from the default slot and no recovery popup will be displayed.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>Download <code>cbmem</code> and <code>flashrom</code> from https://cloud.3mdeb.com/index.php/s/zTqkJQdNtJDo5Nd    to the DUT.</li> <li>Disable Secure Boot.</li> <li>Slot A is flashed with an binary with wrong-signed vboot keys.</li> <li>Obtain the correct <code>coreboot binary</code> appropriate for the DUT.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Flash firmware with valid binary by executing the following command:</p> <pre><code>flashrom -p internal --fmap -i RW_SECTION_A -w [coreboot binary]\n</code></pre> </li> <li> <p>Reboot the DUT.</p> </li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>sudo ./cbmem -c | grep -i recovery\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li>Popup with information about recovery mode should not be displayed.</li> <li> <p>The logs should indicate that vboot hasn't chosen to boot from the recovery    slot. Example output:</p> <pre><code>VB2:vb2_check_recovery() Recovery reason from previous boot: 0x0 / 0x0\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-security/203-measured-boot/","title":"Dasharo Security: Measured Boot support","text":""},{"location":"unified-test-documentation/dasharo-security/203-measured-boot/#mbo001001-measured-boot-support-ubuntu-2204","title":"MBO001.001 Measured Boot support (Ubuntu 22.04)","text":"<p>Test description</p> <p>Measured Boot is a method for detecting changes to the firmware by storing hashes of each firmware component in the TPM PCR registers. If a PCR changes value across reboots, a change to the firmware has been made. This test aims to verify that Measured Boot is functional and that measurements are stored in the TPM.a.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> <li>Download <code>cbmem</code> from the     cloud to the DUT.</li> <li>Disable Secure Boot.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>sudo ./cbmem -c | grep -i PCR\n</code></pre> <p>Expected result</p> <ol> <li> <p>The output of the command should indicate that measurements of the coreboot     components have been made.</p> <p>Example output:</p> <pre><code>TPM: Extending digest for `VBOOT: boot mode` into PCR 0\nTPM: Digest of `VBOOT: boot mode` to PCR 0 measured\nTPM: Extending digest for `VBOOT: GBB HWID` into PCR 1\nTPM: Digest of `VBOOT: GBB HWID` to PCR 1 measured\nTPM: Extending digest for `FMAP: FMAP` into PCR 2\nTPM: Digest of `FMAP: FMAP` to PCR 2 measured\nTPM: Extending digest for `CBFS: bootblock` into PCR 2\nTPM: Digest of `CBFS: bootblock` to PCR 2 measured\nTPM: Extending digest for `CBFS: fallback/romstage` into PCR 2\nTPM: Digest of `CBFS: fallback/romstage` to PCR 2 measured\nTPM: Extending digest for `CBFS: fspm.bin` into PCR 2\nTPM: Digest of `CBFS: fspm.bin` to PCR 2 measured\nTPM: Extending digest for `CBFS: fallback/postcar` into PCR 2\nTPM: Digest of `CBFS: fallback/postcar` to PCR 2 measured\nTPM: Extending digest for `CBFS: fallback/ramstage` into PCR 2\nTPM: Digest of `CBFS: fallback/ramstage` to PCR 2 measured\n...\n</code></pre> </li> <li> <p>The output shouldn't contain the following message:</p> <pre><code>TPM: Extending hash into PCR failed.\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-security/206-secure-boot/","title":"Dasharo Security: UEFI Secure Boot","text":""},{"location":"unified-test-documentation/dasharo-security/206-secure-boot/#sbo001001-check-secure-boot-default-state-firmware","title":"SBO001.001 Check Secure Boot default state (firmware)","text":"<p>Test description</p> <p>Secure Boot is a verification mechanism for ensuring that code launched by firmware is trusted. This test aims to verify that the Secure Boot state after flashing the platform with the Dasharo firmware is correct.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Device Manager</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Secure Boot Configuration</code> submenu.</li> <li>Verify the <code>Current Secure Boot State</code> field.</li> </ol> <p>Expected result</p> <p>The <code>Secure Boot State</code> field should inform that the current state of Secure Boot is <code>Disabled</code>.</p>"},{"location":"unified-test-documentation/dasharo-security/206-secure-boot/#sbo002001-uefi-secure-boot-ubuntu-2204","title":"SBO002.001 UEFI Secure Boot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test verifies that Secure Boot can be enabled from the boot menu and, after the DUT reset, it is seen from the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the    Secure Boot Configuration    to enable the <code>Attempt Secure Boot</code> option in the    <code>Secure Boot Configuration</code> menu.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Device Manager</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Secure Boot Configuration</code> submenu.</li> <li>Verify that the <code>Current Secure Boot State</code> field says <code>Enabled</code> - if not,     select the <code>Attempt Secure Boot</code> option below.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>The DUT will now attempt to boot <code>OPERATING_SYSTEM</code> with Secure Boot enabled.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo dmesg | grep secureboot\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain the line:</p> <pre><code>secureboot: Secure boot enabled\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/206-secure-boot/#sbo002002-uefi-secure-boot-windows-11","title":"SBO002.002 UEFI Secure Boot (Windows 11)","text":"<p>Test description</p> <p>This test verifies that Secure Boot can be enabled from the boot menu and, after the DUT reset, it is seen from the OS.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Windows 11</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Secure Boot Configuration    to enable the <code>Attempt Secure Boot</code> option in the    <code>Secure Boot Configuration</code> menu.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup    Menu.</li> <li>Enter the <code>Device Manager</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Secure Boot Configuration</code> submenu.</li> <li>Verify that the <code>Current Secure Boot State</code> field says <code>Enabled</code> - if not,    select the <code>Attempt Secure Boot</code> option below.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>The DUT will now attempt to boot <code>OPERATING_SYSTEM</code> with Secure Boot enabled.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open Powershell as administrator and run the following command:</p> <pre><code>Confirm-SecureBootUEFI\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should return the information, that Secure Boot is enabled:</p> <pre><code>True\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/206-secure-boot/#sbo003001-attempt-to-boot-file-with-the-correct-key-from-shell-firmware","title":"SBO003.001 Attempt to boot file with the correct key from Shell (firmware)","text":"<p>Test description</p> <p>This test verifies that Secure Boot allows booting a signed file with a correct key.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li>Additional <code>USB storage</code> - at least 1GB - for keeping files for booting</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Download the signed with the correct key file from the     cloud.</li> <li>Download the certificate from the     cloud.</li> <li>Place the certificate and the file on the <code>USB storage</code>.</li> <li>Plug the <code>USB storage</code> into DUT.</li> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Device Manager</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Secure Boot Configuration</code> submenu.</li> <li>Set the <code>Secure Boot Mode</code> field to <code>Custom Mode</code>.</li> <li>Select options in the given order: <code>Custom Secure Boot Options</code> -&gt;     <code>DB Options</code> -&gt; <code>Enroll Signature</code> -&gt; <code>Enroll Signature Using File</code></li> <li>Select the certificate from the <code>USB storage</code>.</li> <li>Select the <code>Commit Changes and Exit</code> option.</li> <li>Press <code>ESC</code> until the setup menu.</li> <li>Select the <code>Reset</code> option.</li> <li>While the DUT is booting, hold the <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the <code>UEFI Shell</code> option using the arrow keys and press <code>Enter</code>.</li> <li> <p>In the shell open the <code>USB storage</code> by executing the following command:</p> <pre><code>FS0:\n</code></pre> <p>One of the filesystems in the FS list will be the USB storage - typically <code>FS0:</code></p> </li> <li> <p>Boot the previously prepared file by typing its full name:</p> <pre><code>hello-valid-keys.efi\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li>File boots correctly (no information: <code>Command Error Status: Access Denied</code>     on the output).</li> <li>The output of the command shows file content.</li> </ol> <p>Example output:</p> <pre><code>Hello, world!\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/206-secure-boot/#sbo004001-attempt-to-boot-file-without-the-key-from-shell-firmware","title":"SBO004.001 Attempt to boot file without the key from Shell (firmware)","text":"<p>Test description</p> <p>This test verifies that Secure Boot blocks booting a file without a key.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li>Additional <code>USB storage</code> - at least 1GB - for keeping files for booting</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Download the not signed file from the     cloud.</li> <li>Place the file on the <code>USB storage</code>.</li> <li>Plug the <code>USB storage</code> into DUT.</li> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the <code>UEFI Shell</code> option using the arrow keys and press <code>Enter</code>.</li> <li> <p>In the shell open the <code>USB storage</code> by executing the following command:</p> <pre><code>FS0:\n</code></pre> <p>One of the filesystems in the FS list will be the USB storage - typically <code>FS0:</code></p> </li> <li> <p>Boot the previously prepared file by typing its full name:</p> <pre><code>hello.efi\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output of the command doesn't show file content and information about access denied is displayed.</p> <p>Example output:</p> <pre><code>Command Error Status: Access Denied\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/206-secure-boot/#sbo005001-attempt-to-boot-file-with-the-wrong-signed-key-from-shell-firmware","title":"SBO005.001 Attempt to boot file with the wrong-signed key from Shell (firmware)","text":"<p>Test description</p> <p>This test verifies that Secure Boot blocks booting a file with the wrong-signed key.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li>Additional <code>USB storage</code> - at least 1GB - for keeping files for booting</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Download the signed with the incorrect key file from the     cloud.</li> <li>Place the file on the <code>USB storage</code>.</li> <li>Plug the <code>USB storage</code> into DUT.</li> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the <code>UEFI Shell</code> option using the arrow keys and press <code>Enter</code>.</li> <li> <p>In the shell open the <code>USB storage</code> by executing the following command:</p> <pre><code>FS0:\n</code></pre> <p>One of the filesystems in the FS list will be the USB storage - typically <code>FS0:</code></p> </li> <li> <p>Boot the previously prepared file by typing its full name:</p> <pre><code>hello-bad-keys.efi\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output of the command doesn't show file content and information about access denied is displayed.</p> <p>Example output:</p> <pre><code>Command Error Status: Access Denied\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/206-secure-boot/#sbo006001-reset-secure-boot-keys-option-availability-firmware","title":"SBO006.001 Reset Secure Boot Keys option availability (firmware)","text":"<p>Test description</p> <p>This test aims to verify, that the <code>Reset Secure Boot Keys</code> option is available after flashing the platform with the Dasharo firmware.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Device Manager</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Secure Boot Configuration</code> submenu.</li> <li>Verify the <code>Reset Secure Boot Keys</code> field.</li> </ol> <p>Expected result</p> <p>The <code>Reset Secure Boot Keys</code> option should be listed after entering the <code>Secure Boot Configuration</code> submenu.</p>"},{"location":"unified-test-documentation/dasharo-security/206-secure-boot/#sbo007001-attempt-to-boot-the-file-after-restoring-keys-to-default-firmware","title":"SBO007.001 Attempt to boot the file after restoring keys to default (firmware)","text":"<p>Test description</p> <p>This test verifies that the <code>Reset Secure Boot Keys</code> option works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li>Additional <code>USB storage</code> - at least 1GB - for keeping files for booting</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Download the signed with the correct key file from the     cloud.</li> <li>Download the certificate from the     cloud.</li> <li>Place the certificate and the file on the <code>USB storage</code>.</li> <li>Plug the <code>USB storage</code> into DUT.</li> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Device Manager</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Secure Boot Configuration</code> submenu.</li> <li>Set the <code>Secure Boot Mode</code> field to <code>Custom Mode</code>.</li> <li>Select options in the given order: <code>Custom Secure Boot Options</code> -&gt;     <code>DB Options</code> -&gt; <code>Enroll Signature</code> -&gt; <code>Enroll Signature Using File</code></li> <li>Select the certificate from the <code>USB storage</code>.</li> <li>Select the <code>Commit Changes and Exit</code> option.</li> <li>Press <code>ESC</code> until the setup menu.</li> <li>Select the <code>Reset</code> option.</li> <li>While the DUT is booting, hold the <code>BOOT_MENU_KEY</code> to enter the boot menu.</li> <li>Select the <code>UEFI Shell</code> option using the arrow keys and press <code>Enter</code>.</li> <li> <p>In the shell open the <code>USB storage</code> by executing the following command:</p> <pre><code>FS0:\n</code></pre> <p>One of the filesystems in the FS list will be the USB storage - typically <code>FS0:</code></p> </li> <li> <p>Boot the previously prepared file by typing its full name:</p> <pre><code>hello-valid-keys.efi\n</code></pre> </li> <li> <p>Exit the shell by executing the following command:</p> <pre><code>exit\n</code></pre> </li> <li> <p>Press <code>ESC</code> until the setup menu.</p> </li> <li>Enter the <code>Device Manager</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Secure Boot Configuration</code> submenu.</li> <li>Select the <code>Reset Secure Boot Keys</code> option using the arrow keys and Enter.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Press <code>ESC</code> until the setup menu.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Device Manager</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Secure Boot Configuration</code> submenu.</li> <li>Verify that the <code>Current Secure Boot State</code> field says <code>Enabled</code>.</li> <li>Press <code>ESC</code> until the setup menu.</li> <li>Select the <code>One Time Boot</code> menu using the arrow keys and Enter.</li> <li>Select the <code>UEFI Shell</code> option using the arrow keys and press <code>Enter</code>.</li> <li> <p>In the shell open the <code>USB storage</code> by executing the following command:</p> <pre><code>FS0:\n</code></pre> <p>One of the filesystems in the FS list will be the USB storage - typically <code>FS0:</code></p> </li> <li> <p>Boot the previously prepared file by typing its full name:</p> <pre><code>hello-valid-keys.efi\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li> <p>The first attempt to run the <code>hello-valid-keys.efi</code> script:</p> <ol> <li>File boots correctly (no information:     <code>Command Error Status: Access Denied</code> on the output).</li> <li> <p>The output of the command shows file content.</p> <p>Example output:</p> <pre><code>Hello, world!\n</code></pre> </li> </ol> </li> <li> <p>The second attempt to run the <code>hello-valid-keys.efi</code> script:</p> <ol> <li> <p>The output of the command doesn't show file content and information about     access denied is displayed.</p> <p>Example output:</p> <pre><code>Command Error Status: Access Denied\n</code></pre> </li> </ol> </li> <li> <p>After selecting the <code>Reset Secure Boot Keys</code> option, the Secure boot state     should be automatically enabled.</p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-security/206-secure-boot/#sbo008001-attempt-to-enroll-the-key-in-the-incorrect-format-firmware","title":"SBO008.001 Attempt to enroll the key in the incorrect format (firmware)","text":"<p>Test description</p> <p>This test verifies that Secure Boot doesn't allow enrolling keys in the incorrect format.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Additional <code>USB storage</code> - at least 1GB - for keeping files for booting</li> </ol> <p>Test steps</p> <ol> <li>Place the file with the <code>.txt</code> extension on the <code>USB storage</code>.</li> <li>Plug the <code>USB storage</code> into DUT.</li> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Device Manager</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Secure Boot Configuration</code> submenu.</li> <li>Set the <code>Secure Boot Mode</code> field to <code>Custom Mode</code>.</li> <li>Select options in the given order: <code>Custom Secure Boot Options</code> -&gt;     <code>DB Options</code> -&gt; <code>Enroll Signature</code> -&gt; <code>Enroll Signature Using File</code></li> <li>Select the file with the <code>.txt</code> extension from the <code>USB storage</code>.</li> <li>Select the <code>Commit Changes and Exit</code> option.</li> </ol> <p>Expected result</p> <p>The popup with information about <code>ERROR: Unsupported file type!</code> should appear.</p>"},{"location":"unified-test-documentation/dasharo-security/207-boot-guard-support/","title":"Dasharo Security: Boot Guard support","text":""},{"location":"unified-test-documentation/dasharo-security/207-boot-guard-support/#bgs001001-boot-guard-support-ubuntu-2204","title":"BGS001.001 Boot Guard support (Ubuntu 22.04)","text":"<p>Test description</p> <p>Intel Boot Guard is a hardware-based technology intended to protect the device against executing non-genuine firmware, which could happen when a possible attacker has bypassed protection against modification of BIOS. This test aims to verify that the implemented Boot Guard mechanism works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> <li>Download <code>cbmem</code> from the     cloud to the DUT.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and execute the following command:</p> <pre><code>sudo ./cbmem -1 | grep CBnT\n</code></pre> </li> <li> <p>Analyze the output from the command.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should indicate the state of the Boot Guard.</p> <p>Example output:</p> <pre><code>CBnT: SACM INFO MSR (0x13A) raw: 0x000000130000007d\nCBnT:   NEM status:                 1\nCBnT:   TPM type:                   TPM 2.0\nCBnT:   TPM success:                1\nCBnT:   FACB:                       1\nCBnT:   measured boot:              1\nCBnT:   verified boot:              1\nCBnT:   revoked:                    0\nCBnT:   BtG capable:                1\nCBnT:   Server TXT capable:         0\nCBnT: BOOTSTATUS (0xA0) raw: 0x1840000080000000\nCBnT:   TXT startup success:        0\nCBnT:   BtG startup success:        1\nCBnT:   Block boot enabled:         0\nCBnT:   PFR startup success:        0\nCBnT:   Memory power down executed: 0\nCBnT:   BtG thread sync failed:     0\nCBnT:   Bios trusted:               1\nCBnT:   TXT disabled by policy:     1\nCBnT:   Bootguard startup error:    0\nCBnT:   TXT ucode or ACM error:     0\nCBnT:   S-ACM success:              0\nCBnT: ERRORCODE (0x30) raw: 0x00000000\nCBnT: TXT disabled in Policy\nCBnT: BIOSACM_ERRORCODE (0x328) raw: 0xc000acf0\nCBnT: BIOSACM_ERRORCODE: TXT ucode or ACM error\nCBnT:   AC Module Type:          BIOS ACM Error\nCBnT:   class:                   0xf\nCBnT:   major:                   0xb\nCBnT:   External:                0x1\n</code></pre> <p>During the analyzing process, the main thing is to pay attention to the following:</p> <ol> <li>The field <code>NEM status</code> should have the value 1.</li> <li>If the Boot Guard profile is 4 or 5, the field <code>FACB</code> should have the value     1.</li> <li>If the Boot Guard profile is 3 or 5, the fields <code>measured boot</code> and     <code>verified boot</code> should have the value 1.</li> <li>If TPM is physically mounted on the platform, the <code>TPM type</code> field should     contain information about the type of the mounted TPM; also, in that     situation, field <code>TPM success</code> should have the value 1.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/208-opal-disk-password-support/","title":"Dasharo Security: TCG OPAL disk password support","text":""},{"location":"unified-test-documentation/dasharo-security/208-opal-disk-password-support/#dmp001001-tcg-opal-disk-password-set-and-check","title":"DMP001.001 TCG OPAL disk password set and check","text":"<p>Test description</p> <p>This suite tests disk password that can be set on the disk. After setting it up it is required to type in the password at every boot. The test password used is <code>123</code> and after setting it up it is removed.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Enter Setup Menu Tianocore</li> <li>Open <code>Device manager</code></li> <li>Open <code>TCG Drive Management</code></li> <li>Select the disk</li> <li>Check <code>Enable Feature</code> option</li> <li>Save and restart</li> <li>Type in the new password</li> <li>Confirm the password</li> <li>Enter Setup Menu Tianocore</li> <li>Restart to test if password is set</li> <li>Type in the password - it should be successful</li> </ol> <p>Removing the password</p> <ol> <li>Enter Setup Menu Tianocore</li> <li>Open <code>Device manager</code></li> <li>Open <code>TCG Drive Management</code></li> <li>Select the disk</li> <li>Check <code>Admin Revert to factory default and Disable</code></li> <li>Save and restart</li> <li>Type in the password to unlock</li> <li>Type in the password to remove it</li> <li>Enter Setup Menu Tianocore</li> <li>Reset</li> <li>Confirm the password prompt do not appear</li> </ol> <p>Expected result</p> <p>Password prompt should show up:</p> <ul> <li>after setting up the password option</li> <li>after reboot</li> <li>only once as password removal confirmation</li> </ul>"},{"location":"unified-test-documentation/dasharo-security/20F-me-neuter/","title":"Dasharo Security: ME neuter/disable","text":""},{"location":"unified-test-documentation/dasharo-security/20F-me-neuter/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20F-me-neuter/#mne001001-check-intel-me-version-ubuntu-2204","title":"MNE001.001 Check Intel ME version (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the <code>Intel ME version</code> might be read on the Operating System level. The read version should be the same as in the release notes.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>cat /sys/class/mei/mei0/fw_ver\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain information about the Management Engine Interface firmware version.</p> <p>Example output:</p> <pre><code>0:16.0.15.1735\n0:16.0.15.1735\n0:16.0.15.1723\n</code></pre> <p>Value from the first line, considering the numbers after the colon, should correspond to the value from the release notes</p>"},{"location":"unified-test-documentation/dasharo-security/20F-me-neuter/#mne002001-intel-me-mode-option-is-available-and-has-the-correct-default-state","title":"MNE002.001 Intel ME mode option is available and has the correct default state","text":"<p>Test description</p> <p>This test aims to verify that the <code>Intel ME mode</code> state after flashing the platform with the Dasharo firmware is correct.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Intel Management Engine Options</code> submenu.</li> <li>Verify the <code>Intel ME mode</code> field.</li> </ol> <p>Expected result</p> <p>The <code>Intel ME mode</code> field should inform that the current state is <code>Enabled</code>.</p>"},{"location":"unified-test-documentation/dasharo-security/20F-me-neuter/#mne003001-intel-me-mode-option-enabled-works-correctly-ubuntu-2204","title":"MNE003.001 Intel ME mode option Enabled works correctly (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that <code>Intel ME mode</code> option in state Enabled works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Intel Management Engine Options</code> submenu.</li> <li>Verify that the <code>Intel ME mode</code> option is state <code>Enabled</code> - if not, using the     arrow keys and <code>Enter</code>, choose option <code>Enabled</code>.</li> <li>Press <code>F10</code> to save the changes.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep 00:16.0\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain the information about Management Engine Interface.</p> <p>Example output:</p> <pre><code>Intel Corporation Comet Lake Management Engine Interface\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/20F-me-neuter/#mne004001-intel-me-mode-option-disable-soft-works-correctly-ubuntu-2204","title":"MNE004.001 Intel ME mode option Disable (Soft) works correctly (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that <code>Intel ME mode</code> option in state Disable (Soft) works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Intel Management Engine Options</code> submenu.</li> <li>Verify that the <code>Intel ME mode</code> option is state <code>Disable (Soft)</code> - if not,     using the arrow keys and <code>Enter</code>, choose option <code>Disable (Soft)</code>.</li> <li>Press <code>F10</code> to save the changes.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep 00:16.0\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of the command shouldn't contain the information about Management Engine Interface.</p> <p>Example of unwanted output:</p> <pre><code>Intel Corporation Comet Lake Management Engine Interface\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/20F-me-neuter/#mne005001-intel-me-mode-option-disable-hap-works-correctly-ubuntu-2204","title":"MNE005.001 Intel ME mode option Disable (HAP) works correctly (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that <code>Intel ME mode</code> option in state Disable (HAP) works correctly.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Intel Management Engine Options</code> submenu.</li> <li>Verify that the <code>Intel ME mode</code> option is state <code>Disable (HAP)</code> - if not,     using the arrow keys and <code>Enter</code>, choose option <code>Disable (HAP)</code>.</li> <li>Press <code>F10</code> to save the changes.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep 00:16.0\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of the command shouldn't contain the information about Management Engine Interface.</p> <p>Example of unwanted output:</p> <pre><code>Intel Corporation Comet Lake Management Engine Interface\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/20F-me-neuter/#mne006001-pci-express-50-port-is-functional-when-me-disabled-ubuntu-2204","title":"MNE006.001 PCI Express 5.0 port is functional when ME disabled (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that <code>Intel ME mode</code> option in state Disable (HAP) or Disable (Soft) does not break the PCIe 5.0 port functionality and the caching of PCIe 5.0 firmware by Dasharo works.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> <li>DUT (Alder Lake or newer) with PCIe 5.0 port and a PCIe device plugged to    the port.</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Intel Management Engine Options</code> submenu.</li> <li>Verify that the <code>Intel ME mode</code> option is in state <code>Disable (HAP)</code> or    <code>Disable (Soft)</code> - if not, using the arrow keys and <code>Enter</code>, choose option    <code>Disable (HAP)</code> or <code>Disable (Soft)</code>.</li> <li>Press <code>F10</code> to save the changes.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>sudo cbmem -1 &gt; cbmem.log\nlspci\nlspci -t\n</code></pre> </li> <li> <p>Note the results. Repeat all steps to cover both disable methods.</p> </li> </ol> <p>Expected result</p> <p>The output of the command should contain the information about PCI Express 5.0 interface located at PCI 00:01.0. Also the device plugged to the PCI port 00:01.0 should be visible and functional.</p> <p>Example of desired output:</p> <pre><code>lspci -t\n-[0000:00]-+-00.0\n           +-01.0-[01]--+-00.0\n           |            \\-00.1\n           +-02.0\n           +-06.0-[02]----00.0\n           +-14.0\n           +-14.2\n           +-17.0\n           +-1a.0-[03]----00.0\n           +-1c.0-[04]--\n           +-1c.2-[05]----00.0\n           +-1c.4-[06-08]----00.0-[07-08]----00.0-[08]--+-00.0\n           |                                            \\-00.1\n           +-1d.0-[09]----00.0\n           +-1f.0\n           +-1f.3\n           +-1f.4\n           \\-1f.5\n</code></pre> <pre><code>lspci\n00:00.0 Host bridge: Intel Corporation Device 4648 (rev 02)\n00:01.0 PCI bridge: Intel Corporation 12th Gen Core Processor PCI Express x16 Controller #1 (rev 02)\n00:02.0 Display controller: Intel Corporation AlderLake-S GT1 (rev 0c)\n00:06.0 PCI bridge: Intel Corporation 12th Gen Core Processor PCI Express x4 Controller #0 (rev 02)\n00:14.0 USB controller: Intel Corporation Device 7ae0 (rev 11)\n00:14.2 RAM memory: Intel Corporation Device 7aa7 (rev 11)\n00:17.0 SATA controller: Intel Corporation Device 7ae2 (rev 11)\n00:1a.0 PCI bridge: Intel Corporation Device 7ac8 (rev 11)\n00:1c.0 PCI bridge: Intel Corporation Device 7ab8 (rev 11)\n00:1c.2 PCI bridge: Intel Corporation Device 7aba (rev 11)\n00:1c.4 PCI bridge: Intel Corporation Device 7abc (rev 11)\n00:1d.0 PCI bridge: Intel Corporation Device 7ab0 (rev 11)\n00:1f.0 ISA bridge: Intel Corporation Device 7a84 (rev 11)\n00:1f.3 Audio device: Intel Corporation Device 7ad0 (rev 11)\n00:1f.4 SMBus: Intel Corporation Device 7aa3 (rev 11)\n00:1f.5 Serial bus controller: Intel Corporation Device 7aa4 (rev 11)\n01:00.0 VGA compatible controller: NVIDIA Corporation GA106 [GeForce RTX 3060 Lite Hash Rate] (rev a1)\n01:00.1 Audio device: NVIDIA Corporation Device 228e (rev a1)\n02:00.0 Non-Volatile memory controller: Intel Corporation Device f1aa (rev 03)\n03:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd NVMe SSD Controller PM9A1/PM9A3/980PRO\n05:00.0 Ethernet controller: Intel Corporation Ethernet Controller I225-V (rev 03)\n06:00.0 PCI bridge: Advanced Micro Devices, Inc. [AMD/ATI] Navi 10 XL Upstream Port of PCI Express Switch (rev c1)\n07:00.0 PCI bridge: Advanced Micro Devices, Inc. [AMD/ATI] Navi 10 XL Downstream Port of PCI Express Switch\n08:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Device 743f (rev c1)\n08:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Navi 21 HDMI Audio [Radeon RX 6800/6800 XT / 6900 XT]\n09:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd NVMe SSD Controller PM9A1/PM9A3/980PRO\n</code></pre> <p>The device that must be visible and working:</p> <pre><code>00:01.0 PCI bridge: Intel Corporation 12th Gen Core Processor PCI Express x16 Controller #1 (rev 02)\n</code></pre> <p>The device behind the port must also be visible, in this example it is:</p> <pre><code>01:00.0 VGA compatible controller: NVIDIA Corporation GA106 [GeForce RTX 3060 Lite Hash Rate] (rev a1)\n01:00.1 Audio device: NVIDIA Corporation Device 228e (rev a1)\n</code></pre> <p>To verify the PCIe 5.0 firmware caching is working, check the <code>cbmem.log</code> for the following string:</p> <pre><code>[INFO ]  Loading HSPHY firmware from cache\n</code></pre> <p>If there are no errors printed nearby concerning the HSPHY, test pass.</p>"},{"location":"unified-test-documentation/dasharo-security/20J-bios-lock-support/","title":"Dasharo Security: BIOS lock support","text":""},{"location":"unified-test-documentation/dasharo-security/20J-bios-lock-support/#bls001001-bios-lock-support-ubuntu-2204","title":"BLS001.001 BIOS lock support (Ubuntu 22.04)","text":"<p>Test description</p> <p>BIOS lock is a method to prevent a specific region of the firmware from being flashed. This test aims to verify that, after turning on the mechanism, the BIOS region should be correctly recognized during attempt to overwrite it by using flashrom tool.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> <li>Disable Secure Boot.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Dasharo Security Options</code> submenu.</li> <li>Verify that the <code>Lock the BIOS boot medium</code> option is chosen - if not,     press <code>Space</code> and then <code>F10</code> to save the changes.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Execute the following command in the terminal to check platform flashing     conditions:</p> <pre><code>flashrom -p internal\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output of the flashing command should contain the information, that the BIOS region is read-only.</p> <p>Example output:</p> <pre><code>SPI Configuration is locked down.\nPR0: Warning: 0x00c00000-0x00ffffff is read-only.\nAt least some flash regions are write protected. For write operations,\nyou should use a flash layout and include only writable regions. See\nmanpage for more details.\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/20J-bios-lock-support/#bls002001-bios-lock-support-deactivation-ubuntu-2204","title":"BLS002.001 BIOS lock support deactivation (Ubuntu 22.04)","text":"<p>Test description</p> <p>BIOS lock is a method to prevent a specific region of the firmware from being flashed. This test aims to verify that, after turning off the mechanism, the BIOS region overwriting operation is available again.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> <li>Disable Secure Boot.</li> <li>Obtain any other binary (e.g. vendor firmware or older Dasharo firmware).</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Dasharo Security Options</code> submenu.</li> <li>Verify that the <code>Lock the BIOS boot medium</code> option is not chosen - if so,     press <code>Space</code> and then <code>F10</code> to save the changes.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Execute the following command in the terminal to check platform flashing     conditions:</p> <pre><code>flashrom -p internal\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output of the flashing command should not contain the information, that the BIOS region is read-only.</p> <p>Example output with unwanted results:</p> <pre><code>SPI Configuration is locked down.\nPR0: Warning: 0x00c00000-0x00ffffff is read-only.\nAt least some flash regions are write protected. For write operations,\nyou should use a flash layout and include only writable regions. See\nmanpage for more details.\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/20L-early-boot-dma-protection/","title":"Dasharo Security: Early Boot DMA Protection","text":""},{"location":"unified-test-documentation/dasharo-security/20L-early-boot-dma-protection/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> <li>Disable Secure Boot.</li> <li>Download <code>cbmem</code> from https://cloud.3mdeb.com/index.php/s/zTqkJQdNtJDo5Nd    to the DUT.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20L-early-boot-dma-protection/#edp001001-enable-early-boot-dma-protection-support","title":"EDP001.001 Enable early Boot DMA Protection support","text":"<p>Test description</p> <p>This test aims to verify that the early boot DMA protection might be activated. If the functionality is enabled, the protection against malicious PCIe devices DMA transactions by configuring VT-D/IOMMU should be active.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While booting, press the <code>SETUP_MENU_KEY</code> to enter Setup Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Dasharo Security Options</code> submenu.</li> <li>Verify that the <code>Enable early DMA protection</code> field is checked - if not, use     <code>Spacebar</code> to change option settings.</li> <li>Save the changes using <code>F10</code>, and exit from the menu using <code>Esc</code>.</li> <li>Reboot the device.</li> <li>While booting, press <code>BOOT_MENU_KEY</code>  to enter Boot Menu.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>sudo ./cbmem -1\n</code></pre> <ol> <li>Note the result.</li> </ol> <p>Expected result</p> <p>The output of the cbmem utility should contain the information, that the DMA protection has been set up.</p> <p>Example output:</p> <pre><code>[DEBUG]  VT-d @ 0xfed91000, version 5.0\n[INFO ]  Setting DMA protection [0x0 - 0x46c00000]\n[INFO ]  Setting DMA protection [0x100000000 - 0x00000008afc00000]\n[INFO ]  Successfully enabled VT-d PMR DMA protection\n</code></pre> <p>Note the memory address ranges in square braces may differ per DUT.</p> <p>If the DUT does not support serial redirection, it is also possible to investigate UEFI Payload logs if VT-d is being used properly. Check for following output:</p> <pre><code>EnableDmar\n&gt;&gt;&gt;&gt;&gt;&gt;EnableDmar() for engine [0] BAR [0xFED90000]\nRootEntryTable 0x4518C000\nEnableDmar: waiting for RTPS bit to be set...\nSet GCMD_REG bits 0x40000000.\nEnableDmar: Waiting B_GSTS_REG_TE ...\nSet GCMD_REG bits 0x80000000.\nVTD (0) enabled!&lt;&lt;&lt;&lt;&lt;&lt;\n&gt;&gt;&gt;&gt;&gt;&gt;EnableDmar() for engine [1] BAR [0xFED91000]\nRootEntryTable 0x44FDD000\nEnableDmar: waiting for RTPS bit to be set...\nSet GCMD_REG bits 0x40000000.\nEnableDmar: Waiting B_GSTS_REG_TE ...\nSet GCMD_REG bits 0x80000000.\nVTD (1) enabled!&lt;&lt;&lt;&lt;&lt;&lt;\nDisablePmr\nPmr(0) not enabled\nPmr(1) disabled\n</code></pre> <p>The most important are <code>VTD (0) enabled!&lt;&lt;&lt;&lt;&lt;&lt;</code> and <code>VTD (1) enabled!&lt;&lt;&lt;&lt;&lt;&lt;</code>. Also the following:</p> <pre><code>DisablePmr\nPmr(0) not enabled\nPmr(1) disabled\n</code></pre> <p>Indicate that VT-D engine 1 had PMR enabled earlier, which is expected.</p> <p>If all above conditions are met, test pass.</p>"},{"location":"unified-test-documentation/dasharo-security/20L-early-boot-dma-protection/#edp002001-disable-early-boot-dma-protection-support","title":"EDP002.001 Disable early Boot DMA Protection support","text":"<p>Test description</p> <p>This test aims to verify that the early boot DMA protection might be deactivated. If the functionality is disabled, the protection against malicious PCIe devices DMA transactions by configuring VT-D/IOMMU should be non-active.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While booting, press the <code>SETUP_MENU_KEY</code> to enter Setup Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Dasharo Security Options</code> submenu.</li> <li>Verify that the <code>Enable early DMA protection</code> option is checked - if so, use     <code>Spacebar</code> to change option settings.</li> <li>Save the changes using <code>F10</code>, and exit from the menu using <code>Esc</code>.</li> <li>Reboot the device.</li> <li>While booting, press <code>BOOT_MENU_KEY</code>  to enter Boot Menu.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the following command:</li> </ol> <pre><code>sudo ./cbmem -1\n</code></pre> <ol> <li>Note the result.</li> </ol> <p>Expected result</p> <p>The output of the cbmem utility should not contain the information, that the DMA protection has been set up.</p> <p>Example output with unwanted results:</p> <pre><code>[DEBUG]  VT-d @ 0xfed91000, version 5.0\n[INFO ]  Setting DMA protection [0x0 - 0x46c00000]\n[INFO ]  Setting DMA protection [0x100000000 - 0x00000008afc00000]\n[INFO ]  Successfully enabled VT-d PMR DMA protection\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/20O-SMM-bios-write-protection/","title":"Dasharo Security: SMM BIOS write protection","text":""},{"location":"unified-test-documentation/dasharo-security/20O-SMM-bios-write-protection/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> <li>Disable Secure Boot.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20O-SMM-bios-write-protection/#smm001001-smm-bios-write-protection-enabling-ubuntu-2204","title":"SMM001.001 SMM BIOS write protection enabling (Ubuntu 22.04)","text":"<p>Test description</p> <p>SMM BIOS write protection is the method to prevent a specific region of the firmware from being flashed - when enabled allows only SMM code (the privileged code installed by the firmware in the system memory) to write to BIOS flash. This test aims to verify that, the SMM BIOS protection option is available in the <code>Dasharo Security Options</code> and, if the mechanism works correctly - during the attempt of firmware flashing information about the SMM protection is returned.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Dasharo Security Options</code> submenu.</li> <li>Verify that the <code>Enable SMM BIOS write protection</code> option is chosen - if not,     press <code>Space</code> and then <code>F10</code> to save the changes.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Execute the following command in the terminal to check platform flashing     conditions:</p> <pre><code>flashrom -p internal\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output of the flashing command should contain the information, that the BIOS region SMM protection is enabled.</p> <p>Example output:</p> <pre><code>Enabling flash write... Warning: BIOS region SMM protection is enabled!\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/20O-SMM-bios-write-protection/#smm002001-smm-bios-write-protection-disabling-ubuntu-2204","title":"SMM002.001 SMM BIOS write protection disabling (Ubuntu 22.04)","text":"<p>Test description</p> <p>SMM BIOS write protection is the method to prevent a specific region of the firmware from being flashed - when enabled allows only SMM code (the privileged code installed by the firmware in the system memory) to write to BIOS flash. This test aims to verify that, after disabling the mechanism, information about SMM protection is not returned any more.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup     Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Dasharo Security Options</code> submenu.</li> <li>Verify that the <code>Enable SMM BIOS write protection</code> option is not chosen - if     so, press <code>Space</code> and then <code>F10</code> to save the changes.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Execute the following command in the terminal to check platform flashing     conditions:</p> <pre><code>flashrom -p internal\n</code></pre> </li> <li> <p>Note the result.</p> </li> </ol> <p>Expected result</p> <p>The output of the flashing command should not contain the information, that the BIOS region SMM protection is enabled.</p> <p>Example output with unwanted results:</p> <pre><code>Enabling flash write... Warning: BIOS region SMM protection is enabled!\n</code></pre>"},{"location":"unified-test-documentation/dasharo-security/20P-boot-menu/","title":"Dasharo Security: Boot menu enable/disable","text":""},{"location":"unified-test-documentation/dasharo-security/20P-boot-menu/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20P-boot-menu/#bma001001-boot-menu-enabling","title":"BMA001.001 Boot menu enabling","text":"<p>Test description</p> <p>This test aims to verify that, the boot menu is accessible when the <code>Boot menu enabled</code> option in the <code>Dasharo Security Options</code> submenu is chosen.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup    Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Dasharo Security Options</code> submenu.</li> <li>Verify that the <code>Boot menu enabled</code> option is chosen - if not, press <code>Space</code>    and then <code>F10</code> to save the changes.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>While the DUT is booting, hold the <code>BOOT_MENU_KEY</code> to enter the UEFI Boot    Menu.</li> </ol> <p>Expected result</p> <ol> <li> <p>While the DUT is booting, the prompt    <code>BOOT_MENU_KEY to enter Boot Manager Menu</code> should be displayed.    Example output:</p> <pre><code>F11 to enter Boot Manager Menu\n</code></pre> </li> <li> <p>After using the <code>BOOT MENU KEY</code> during boot, the boot menu should be    displayed.</p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20P-boot-menu/#bma002001-boot-menu-disabling","title":"BMA002.001 Boot menu disabling","text":"<p>Test description</p> <p>This test aims to verify that, the boot menu is not accessible when the <code>Boot menu enabled</code> option in the <code>Dasharo Security Options</code> submenu is not chosen.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Setup    Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the <code>Dasharo Security Options</code> submenu.</li> <li>Verify that the <code>Boot menu enabled</code> option is not chosen - if so, press    <code>Space</code> and then <code>F10</code> to save the changes.</li> <li>If necessary - press <code>Y</code> to confirm saving the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Select the <code>Reset</code> option to apply the settings and reboot.</li> <li>While the DUT is booting, hold the <code>BIOS_SETUP_KEY</code> to enter the UEFI Boot    Menu.</li> </ol> <p>Expected result</p> <ol> <li> <p>While the DUT is booting, the prompt    <code>BOOT_MENU_KEY to enter Boot Manager Menu</code> should not be displayed.    Example of unwanted output:</p> <pre><code>F11 to enter Boot Manager Menu\n</code></pre> </li> <li> <p>Despite using the <code>BIOS_SETUP_KEY</code> boot menu should not be displayed.</p> </li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20R-uefi-setup-password/","title":"Dasharo Security: UEFI Setup password","text":""},{"location":"unified-test-documentation/dasharo-security/20R-uefi-setup-password/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20R-uefi-setup-password/#psw001001-check-password-setup-option-availability-and-default-state","title":"PSW001.001 Check Password Setup option availability and default state","text":"<p>Test description</p> <p>This test aims to verify whether <code>User Password Management</code> submenu is available and, whether all options in the submenu have correct default state.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>SETUP_MENU_KEY</code> to enter the <code>Setup Menu</code>.</li> <li>Enter the <code>User Password Management</code> submenu using the arrow keys and Enter.</li> <li>Verify the <code>Admin Password Status</code> field.</li> <li>Verify the <code>Change Admin Password</code> field.</li> </ol> <p>Expected result</p> <ol> <li>The <code>Admin Password Status</code> field should be present and indicate, that     password setup is currently disabled.</li> <li>The <code>Change Admin Password</code> field should be present. After passing the     cursor over this option, information about password minimum terms and     conditions should be displayed.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20R-uefi-setup-password/#psw002001-password-setting-mechanism-correctness-checking","title":"PSW002.001 Password setting mechanism correctness checking","text":"<p>Test description</p> <p>This test aims to verify whether <code>Change Admin Password</code> option works correctly - after restarting the device and trying to enter the <code>Setup Menu</code>, a window to enter the password will be displayed.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>SETUP_MENU_KEY</code> to enter the <code>Setup Menu</code>.</li> <li>Enter the <code>User Password Management</code> submenu using the arrow keys and Enter.</li> <li>Select the option <code>Change Admin Password</code> by using the arrow keys and Enter.</li> <li>Set the password in accordance with the password minimum terms and     conditions. Make sure the new password is not the same as the last 5     passwords - to be sure, you can set the password 5 times and then     set the actual password.</li> <li>Restart the DUT.</li> <li>Press <code>SETUP_MENU_KEY</code> to enter the <code>Setup Menu</code>.</li> <li>Verify if the password window will be displayed.</li> </ol> <p>Expected result</p> <p>The password window should be displayed correctly.</p>"},{"location":"unified-test-documentation/dasharo-security/20R-uefi-setup-password/#psw003001-attempt-to-log-in-with-a-correct-password","title":"PSW003.001 Attempt to log in with a correct password","text":"<p>Test description</p> <p>This test aims to verify whether, after entering the correct Setup password, the <code>Setup menu</code> will be displayed.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT</li> <li>Press <code>SETUP_MENU_KEY</code> to enter the <code>Setup Menu</code>.</li> <li>Enter the correct password and note the result.</li> </ol> <p>Expected result</p> <p>After typing in the correct password <code>Setup menu</code> should be displayed.</p>"},{"location":"unified-test-documentation/dasharo-security/20R-uefi-setup-password/#psw004001-attempt-to-log-in-with-an-incorrect-password","title":"PSW004.001 Attempt to log in with an incorrect password","text":"<p>Test description</p> <p>This test aims to verify whether, after entering the incorrect Setup password, the message about the demand for re-entering the password will be displayed.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT</li> <li>Press <code>BOOT_MENU_KEY</code> key to display the boot menu.</li> <li>Enter the incorrect password and note the result.</li> </ol> <p>Expected result</p> <p>After typing in the incorrect password the message about the demand for re-entering the password will be displayed.</p>"},{"location":"unified-test-documentation/dasharo-security/20R-uefi-setup-password/#psw005001-attempt-to-log-in-with-an-incorrect-password-3-times","title":"PSW005.001 Attempt to log in with an incorrect password 3 times","text":"<p>Test description</p> <p>This test aims to verify whether, after entering the incorrect Setup password three times, the message about demand for rebooting the DUT will be displayed.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT</li> <li>Press <code>BOOT_MENU_KEY</code> key to display the boot menu.</li> <li>Enter the incorrect password three times and note the result.</li> </ol> <p>Expected result</p> <p>After typing in the incorrect password three times the message about the demand for rebooting the DUT will be displayed.</p>"},{"location":"unified-test-documentation/dasharo-security/20R-uefi-setup-password/#psw006001-attempt-to-turn-off-setup-password-functionality","title":"PSW006.001 Attempt to turn off setup password functionality","text":"<p>Test description</p> <p>This test aims to verify whether there is a possibility to turn off the Setup Password functionality by entering empty password.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>SETUP_MENU_KEY</code> to enter the <code>Setup Menu</code>.</li> <li>Enter the <code>User Password Management</code> submenu using the arrow keys and Enter.</li> <li>Select the option <code>Change Admin Password</code> by using the arrow keys and Enter.</li> <li>Set the empty password.</li> <li>Restart the DUT.</li> <li>Press <code>SETUP_MENU_KEY</code> to enter the <code>Setup Menu</code>.</li> <li>Verify if the password window will be displayed.</li> </ol> <p>Expected result</p> <ol> <li>Password window should not be displayed.</li> <li>The DUT should boot into <code>Setup Menu</code>.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20R-uefi-setup-password/#psw007001-attempt-to-set-non-compilant-password","title":"PSW007.001 Attempt to set non-compilant password","text":"<p>Test description</p> <p>This test aims to verify whether the attempt to set a non-compilant password will be rejected.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>SETUP_MENU_KEY</code> to enter the <code>Setup Menu</code>.</li> <li>Enter the <code>User Password Management</code> submenu using the arrow keys and Enter.</li> <li>Select the option <code>Change Admin Password</code> by using the arrow keys and Enter.</li> <li>Set the password in non-accordance with the password minimum terms and     conditions.</li> </ol> <p>Expected result</p> <ol> <li>The window with the information that requested password is not strong     enough should be displayed.</li> <li>The attempt to set the password should be rejected.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20R-uefi-setup-password/#psw008001-attempt-to-set-old-password","title":"PSW008.001 Attempt to set old password","text":"<p>Test description</p> <p>UEFI Setup password feature has been equipped with an additional functionality that prevents re-setting one of the last 5 access passwords. This test aims to verify whether the attempt to set old password again will be rejected.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Press <code>SETUP_MENU_KEY</code> to enter the <code>Setup Menu</code>.</li> <li>Enter the <code>User Password Management</code> submenu using the arrow keys and Enter.</li> <li>Select the option <code>Change Admin Password</code> by using the arrow keys and Enter.</li> <li>Set the password identically as one of the 5 latest passwords.</li> </ol> <p>Expected result</p> <ol> <li>The window with the information that requested password has been found in     the passwords history should be displayed.</li> <li>The attempt to set the password should be rejected.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20S-usb-stack/","title":"Dasharo Security: USB stack enable/disable","text":""},{"location":"unified-test-documentation/dasharo-security/20S-usb-stack/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20S-usb-stack/#uss001001-enable-usb-stack-firmware","title":"USS001.001 Enable USB stack (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the USB stack might be enabled. If the stack is activated, there will be an option to use USB bootable drives and USB keyboards on the firmware level.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect PS/2 keyboard to the device.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While booting, press the <code>SETUP_MENU_KEY</code> to enter Setup Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu option.</li> <li>Verify that the <code>Enable USB stack</code> field is checked - if not, use <code>Spacebar</code>     to change option settings.</li> <li>Save using <code>F10</code>, and exit from the menu using <code>Esc</code>.</li> <li>Connect any USB with a bootable system and USB keyboard to the DUT.</li> <li>Reboot the device.</li> <li>While booting, press <code>BOOT_MENU_KEY</code> on the USB keyboard to enter Setup     Menu.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <ol> <li>USB keyboard should be operable.</li> <li>USB installer should be visible as a bootable device.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20S-usb-stack/#uss002001-disable-usb-stack-firmware","title":"USS002.001 Disable USB stack (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the USB stack might be disabled. If the stack is deactivated, there will be no option to use USB bootable drives and USB keyboards on the firmware level.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> <li>Connect PS/2 keyboard to the device.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While booting, press the <code>SETUP_MENU_KEY</code> to enter Setup Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu option.</li> <li>Verify that the <code>Enable USB stack</code> field is not checked - if so, use     <code>Spacebar</code> to change option settings.</li> <li>Save using <code>F10</code>, and exit from the menu using <code>Esc</code>.</li> <li>Connect any USB with a bootable system and USB keyboard to the DUT.</li> <li>Reboot the device.</li> <li>While booting, press <code>BOOT_MENU_KEY</code> on the PS/2 keyboard to enter Setup     Menu.</li> <li>Try to navigate through the menu by using the USB keyboard.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <ol> <li>USB keyboard should be non-operable.</li> <li>USB installer should not be visible as a bootable device.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20S-usb-stack/#uss003001-enable-usb-mass-storage-firmware","title":"USS003.001 Enable USB Mass Storage (firmware)","text":"<p>Test description</p> <p>This test aims to verify that USB Mass Storage might be enabled. If the storage support is activated, there will be an option to use USB bootable drives on the firmware level.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While booting, press the <code>SETUP_MENU_KEY</code> to enter Setup Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu option.</li> <li>Verify that the <code>Enable USB Mass Storage</code> field is checked - if not, use     <code>Spacebar</code> to change option settings.</li> <li>Save using <code>F10</code>, and exit from the menu using <code>Esc</code>.</li> <li>Connect any USB with a bootable system and USB keyboard to the DUT.</li> <li>Reboot the device.</li> <li>While booting, press <code>BOOT_MENU_KEY</code> to enter Setup Menu.</li> <li>Note the result.</li> </ol> <p>Expected result</p> <p>USB installer should be visible as a bootable device.</p>"},{"location":"unified-test-documentation/dasharo-security/20S-usb-stack/#uss004001-disable-usb-mass-storage-firmware","title":"USS004.001 Disable USB Mass Storage (firmware)","text":"<p>Test description</p> <p>This test aims to verify that USB Mass Storage might be disabled. If the storage support is deactivated, there will be no option to use USB bootable drives on the firmware level.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While booting, press the <code>SETUP_MENU_KEY</code> to enter Setup Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu option.</li> <li>Verify that the <code>Enable USB Mass Storage</code> field is not checked - if so, use     <code>Spacebar</code> to change option settings.</li> <li>Save using <code>F10</code>, and exit from the menu using <code>Esc</code>.</li> <li>Connect any USB with a bootable system and USB keyboard to the DUT.</li> <li>Reboot the device.</li> <li>While booting, press <code>BOOT_MENU_KEY</code> to enter Setup Menu.</li> <li>Note the result.</li> </ol> <p>Expected result</p> <p>USB installer should not be visible as a bootable device.</p>"},{"location":"unified-test-documentation/dasharo-security/20T-network-boot/","title":"Dasharo Security: Network stack enable/disable","text":""},{"location":"unified-test-documentation/dasharo-security/20T-network-boot/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>The DUT should be connected to the Internet by using an Ethernet cable.</li> </ol>"},{"location":"unified-test-documentation/dasharo-security/20T-network-boot/#nba001001-enable-network-boot-firmware","title":"NBA001.001 Enable Network Boot (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the Network Boot option might be enabled. If this option is activated, an additional option in the Boot menu which allows to boot the system from iPXE servers will appear.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While booting, press the <code>SETUP_MENU_KEY</code> to enter Setup Menu.</li> <li>Enter the <code>Networking Options</code> menu option.</li> <li>Verify that the <code>Enable Network Boot</code> field is checked - if not, use     <code>Spacebar</code> to change option settings.</li> <li>Save using <code>F10</code>, and exit from the menu using <code>Esc</code>.</li> <li>Reboot the device.</li> <li>While booting, press <code>BOOT_MENU_KEY</code> on the USB keyboard to enter Setup     Menu.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The <code>Network Boot</code> option in the <code>Boot menu</code> should be visible.</p>"},{"location":"unified-test-documentation/dasharo-security/20T-network-boot/#nba002001-disable-network-boot-firmware","title":"NBA002.001 Disable Network Boot (firmware)","text":"<p>Test description</p> <p>This test aims to verify that the Network Boot option might be disabled. If this option is deactivated, an additional option in the Boot menu which allows to boot the system from iPXE servers will be hidden.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>While booting, press the <code>SETUP_MENU_KEY</code> to enter Setup Menu.</li> <li>Enter the <code>Networking Options</code> menu option.</li> <li>Verify that the <code>Enable Network Boot</code> field is checked - if so, use     <code>Spacebar</code> to change option settings.</li> <li>Save using <code>F10</code>, and exit from the menu using <code>Esc</code>.</li> <li>Reboot the device.</li> <li>While booting, press <code>BOOT_MENU_KEY</code> on the USB keyboard to enter Setup     Menu.</li> <li>Note the results.</li> </ol> <p>Expected result</p> <p>The <code>Network Boot</code> option in the <code>Boot menu</code> should not be visible.</p>"},{"location":"unified-test-documentation/dasharo-stability/01-net-controller-after-coldboot-warmboot-reboot-suspend/","title":"Dasharo Compatibility: NET controller after coldboot/warmboot/reboot/suspend","text":""},{"location":"unified-test-documentation/dasharo-stability/01-net-controller-after-coldboot-warmboot-reboot-suspend/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the     Generic test setup: firmware.</li> <li>Proceed with the     Generic test setup: OS installer.</li> <li>Proceed with the     Generic test setup: OS installation.</li> <li>Proceed with the     Generic test setup: OS boot from disk.</li> <li>The <code>Thunderbolt docking station</code> connected to the Thunderbolt port.</li> </ol>"},{"location":"unified-test-documentation/dasharo-stability/01-net-controller-after-coldboot-warmboot-reboot-suspend/#net001001-net-controller-after-coldboot-ubuntu-2204","title":"NET001.001 NET controller after coldboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the network controller works and the platform is able to connect to the network after coldboot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug in a Ethernet cable with internet connection to the platform.</li> <li>Wait for internet connection to initialize.</li> <li> <p>Open a terminal window and execute following command to list available     network interfaces:</p> <pre><code>ip a\n</code></pre> </li> <li> <p>Determine the name of the ethernet controller. It typically is <code>ethX</code> or     <code>enpXsY</code>, where <code>X</code> and <code>Y</code>  are numbers.</p> </li> <li> <p>Then, execute following command to check if the network interface is working     correctly:</p> <pre><code>cat /sys/class/net/&lt;interface_name&gt;/operstate\n</code></pre> </li> <li> <p>Perform coldboot.</p> </li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the command mentioned in point 8.</li> </ol> <p>Expected result</p> <ol> <li> <p>The <code>ip a</code> command should return information about available NET     interfaces. The list should contain the ethernet network interface, which is     typically identified as <code>ethX</code> or <code>enpXsY</code>, where <code>X</code> and <code>Y</code>  are numbers.     Example output:</p> <pre><code>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\nlink/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\ninet 127.0.0.1/8 scope host lo\n   valid_lft forever preferred_lft forever\ninet6 ::1/128 scope host\n   valid_lft forever preferred_lft forever\n2: enp46s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000\nlink/ether d4:93:90:16:92:f8 brd ff:ff:ff:ff:ff:ff\ninet 192.168.4.85/24 brd 192.168.4.255 scope global dynamic noprefixroute enp46s0\n   valid_lft 40276sec preferred_lft 40276sec\ninet6 fe80::8317:79e3:81ec:a1f4/64 scope link noprefixroute\n   valid_lft forever preferred_lft forever\n3: wlp0s20f3: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN group default qlen 1000\nlink/ether 14:18:c3:7d:77:06 brd ff:ff:ff:ff:ff:ff\n</code></pre> </li> <li> <p>The <code>cat /sys/class/net/&lt;interface_name&gt;/operstate</code> command should return     information indicating if the network interface works correctly (<code>up</code>) or     not (<code>down</code>). Example output:</p> <pre><code>up\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-stability/01-net-controller-after-coldboot-warmboot-reboot-suspend/#net002001-net-controller-after-warmboot-ubuntu-2204","title":"NET002.001 NET controller after warmboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the network controller works and the platform is able to connect to the network after warmboot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug in a Ethernet cable with internet connection to the platform.</li> <li>Wait for internet connection to initialize.</li> <li> <p>Open a terminal window and execute following command to list available     network interfaces:</p> <pre><code>ip a\n</code></pre> </li> <li> <p>Determine the name of the ethernet controller. It typically is <code>ethX</code> or     <code>enpXsY</code>, where <code>X</code> and <code>Y</code>  are numbers.</p> </li> <li> <p>Then, execute following command to check if the network interface is working     correctly:</p> <pre><code>cat /sys/class/net/&lt;interface_name&gt;/operstate\n</code></pre> </li> <li> <p>Perform warmboot.</p> </li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the command mentioned in point 8.</li> </ol> <p>Expected result</p> <ol> <li> <p>The <code>ip a</code> command should return information about available NET     interfaces. The list should contain the ethernet network interface, which is     typically identified as <code>ethX</code> or <code>enpXsY</code>, where <code>X</code> and <code>Y</code>  are numbers.     Example output:</p> <pre><code>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\nlink/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\ninet 127.0.0.1/8 scope host lo\n   valid_lft forever preferred_lft forever\ninet6 ::1/128 scope host\n   valid_lft forever preferred_lft forever\n2: enp46s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000\nlink/ether d4:93:90:16:92:f8 brd ff:ff:ff:ff:ff:ff\ninet 192.168.4.85/24 brd 192.168.4.255 scope global dynamic noprefixroute enp46s0\n   valid_lft 40276sec preferred_lft 40276sec\ninet6 fe80::8317:79e3:81ec:a1f4/64 scope link noprefixroute\n   valid_lft forever preferred_lft forever\n3: wlp0s20f3: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN group default qlen 1000\nlink/ether 14:18:c3:7d:77:06 brd ff:ff:ff:ff:ff:ff\n</code></pre> </li> <li> <p>The <code>cat /sys/class/net/&lt;interface_name&gt;/operstate</code> command should return     information indicating if the network interface works correctly (<code>up</code>) or     not (<code>down</code>). Example output:</p> <pre><code>up\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-stability/01-net-controller-after-coldboot-warmboot-reboot-suspend/#net003001-net-controller-after-reboot-ubuntu-2204","title":"NET003.001 NET controller after reboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the network controller works and the platform is able to connect to the network after coldboot.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug in a Ethernet cable with internet connection to the platform.</li> <li>Wait for internet connection to initialize.</li> <li> <p>Open a terminal window and execute following command to list available     network interfaces:</p> <pre><code>ip a\n</code></pre> </li> <li> <p>Determine the name of the ethernet controller. It typically is <code>ethX</code> or     <code>enpXsY</code>, where <code>X</code> and <code>Y</code>  are numbers.</p> </li> <li> <p>Then, execute following command to check if the network interface is working     correctly:</p> <pre><code>cat /sys/class/net/&lt;interface_name&gt;/operstate\n</code></pre> </li> <li> <p>Reboot the system.</p> </li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Open a terminal window and execute the command mentioned in point 8.</li> </ol> <p>Expected result</p> <ol> <li> <p>The <code>ip a</code> command should return information about available NET     interfaces. The list should contain the ethernet network interface, which is     typically identified as <code>ethX</code> or <code>enpXsY</code>, where <code>X</code> and <code>Y</code>  are numbers.     Example output:</p> <pre><code>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\nlink/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\ninet 127.0.0.1/8 scope host lo\n   valid_lft forever preferred_lft forever\ninet6 ::1/128 scope host\n   valid_lft forever preferred_lft forever\n2: enp46s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000\nlink/ether d4:93:90:16:92:f8 brd ff:ff:ff:ff:ff:ff\ninet 192.168.4.85/24 brd 192.168.4.255 scope global dynamic noprefixroute enp46s0\n   valid_lft 40276sec preferred_lft 40276sec\ninet6 fe80::8317:79e3:81ec:a1f4/64 scope link noprefixroute\n   valid_lft forever preferred_lft forever\n3: wlp0s20f3: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN group default qlen 1000\nlink/ether 14:18:c3:7d:77:06 brd ff:ff:ff:ff:ff:ff\n</code></pre> </li> <li> <p>The <code>cat /sys/class/net/&lt;interface_name&gt;/operstate</code> command should return     information indicating if the network interface works correctly (<code>up</code>) or     not (<code>down</code>). Example output:</p> <pre><code>up\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-stability/01-net-controller-after-coldboot-warmboot-reboot-suspend/#net004001-net-controller-after-suspend-ubuntu-2204","title":"NET004.001 NET controller after suspend (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the network controller works and the platform is able to connect to the network after suspend.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = <code>Ubuntu 22.04</code></li> </ol> <p>Test setup</p> <ol> <li>Proceed with the     Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li>Plug in a Ethernet cable with internet connection to the platform.</li> <li>Wait for internet connection to initialize.</li> <li> <p>Open a terminal window and execute following command to list available     network interfaces:</p> <pre><code>ip a\n</code></pre> </li> <li> <p>Determine the name of the ethernet controller. It typically is <code>ethX</code> or     <code>enpXsY</code>, where <code>X</code> and <code>Y</code>  are numbers.</p> </li> <li> <p>Then, execute following command to check if the network interface is working     correctly:</p> <pre><code>cat /sys/class/net/&lt;interface_name&gt;/operstate\n</code></pre> </li> <li> <p>Execute following command to suspend the system and automatically wake it     up after 10 seconds:</p> <pre><code>sudo fwts s3 --s3-sleep-delay=10\n</code></pre> </li> <li> <p>After the system wakes up, log into the system and execute the command     mentioned in point 8.</p> </li> </ol> <p>Expected result</p> <ol> <li> <p>The <code>ip a</code> command should return information about available NET     interfaces. The list should contain the ethernet network interface, which is     typically identified as <code>ethX</code> or <code>enpXsY</code>, where <code>X</code> and <code>Y</code>  are numbers.     Example output:</p> <pre><code>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\nlink/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\ninet 127.0.0.1/8 scope host lo\n   valid_lft forever preferred_lft forever\ninet6 ::1/128 scope host\n   valid_lft forever preferred_lft forever\n2: enp46s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000\nlink/ether d4:93:90:16:92:f8 brd ff:ff:ff:ff:ff:ff\ninet 192.168.4.85/24 brd 192.168.4.255 scope global dynamic noprefixroute enp46s0\n   valid_lft 40276sec preferred_lft 40276sec\ninet6 fe80::8317:79e3:81ec:a1f4/64 scope link noprefixroute\n   valid_lft forever preferred_lft forever\n3: wlp0s20f3: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN group default qlen 1000\nlink/ether 14:18:c3:7d:77:06 brd ff:ff:ff:ff:ff:ff\n</code></pre> </li> <li> <p>The <code>cat /sys/class/net/&lt;interface_name&gt;/operstate</code> command should return     information indicating if the network interface works correctly (<code>up</code>) or     not (<code>down</code>). Example output:</p> <pre><code>up\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-stability/C01-usb-type-a-devices-detection/","title":"Dasharo Stability: USB Type-A devices detection","text":""},{"location":"unified-test-documentation/dasharo-stability/C01-usb-type-a-devices-detection/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> <li>Connect the <code>USB device</code> to the USB Type-A port.</li> </ol>"},{"location":"unified-test-documentation/dasharo-stability/C01-usb-type-a-devices-detection/#sud0001001-usb-devices-detection-after-cold-boot-ubuntu-2204","title":"SUD0001.001 USB devices detection after cold boot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the external USB devices are detected correctly after performing a cold boot. The test should be performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li>Disconnect the power source, and remove the battery if present.</li> <li>Connect power and battery again.</li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of each <code>lsusb</code> command should contain an entry of the connected <code>USB device</code>.</p>"},{"location":"unified-test-documentation/dasharo-stability/C01-usb-type-a-devices-detection/#sud0002001-usb-devices-detection-after-warm-boot-ubuntu-2204","title":"SUD0002.001 USB devices detection after warm boot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the external USB devices are detected correctly after performing a warm boot. The test should be performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li>Power off the DUT using the power button.</li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of each <code>lsusb</code> command should contain an entry of the connected <code>USB device</code>.</p>"},{"location":"unified-test-documentation/dasharo-stability/C01-usb-type-a-devices-detection/#sud0003001-usb-devices-detection-after-reboot-ubuntu-2204","title":"SUD0003.001 USB devices detection after reboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the external USB devices are detected correctly after performing a reboot. The test should be performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li>Disconnect the power source, and remove the battery if present.</li> <li>Connect power and battery again.</li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of each <code>lsusb</code> command should contain an entry of the connected <code>USB device</code>.</p>"},{"location":"unified-test-documentation/dasharo-stability/C01-usb-type-a-devices-detection/#sud0004001-usb-devices-detection-after-suspension-ubuntu-2204","title":"SUD0004.001 USB devices detection after suspension (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the external USB devices are detected correctly after performing suspension. The test should be performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>Install the Firmware test suite    package.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Note the results.</p> </li> <li> <p>Execute the following command to suspend the system and automatically wake it    up after 10 seconds:</p> <pre><code>sudo fwts s3 --s3-sleep-delay=10\n</code></pre> </li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lsusb\n</code></pre> </li> <li> <p>Note the results.</p> </li> </ol> <p>Expected result</p> <p>The output of each <code>lsusb</code> command should contain an entry of the connected <code>USB device</code>.</p>"},{"location":"unified-test-documentation/dasharo-stability/C02-m2-wi-fi/","title":"Dasharo Stability: M.2 Wi-fi","text":""},{"location":"unified-test-documentation/dasharo-stability/C02-m2-wi-fi/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-stability/C02-m2-wi-fi/#smw0001001-wi-fi-connection-after-cold-boot-ubuntu-2204","title":"SMW0001.001 Wi-fi connection after cold boot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi card is detected and working correctly after performing a cold boot. The test should be performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep \"Network Controller\"\n</code></pre> </li> <li> <p>Open a terminal window and run the following commands:</p> <pre><code>nmcli radio wifi on\nnmcli device wifi rescan\n# Wait ~5 seconds\nnmcli device wifi list\n</code></pre> </li> <li> <p>Disconnect the power source, and remove the battery if present.</p> </li> <li>Connect power and battery again.</li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep \"Network Controller\"\n</code></pre> </li> <li> <p>Open a terminal window and run the following commands:</p> <pre><code>nmcli radio wifi on\nnmcli device wifi rescan\n# Wait ~5 seconds\nnmcli device wifi list\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li> <p>The output of each <code>lspci</code> command should contain information about the    mounted on the DUT network controller. Example output:</p> <pre><code>2f:00.0 Network controller: Intel Corporation Wi-Fi 6 AX201 (rev 1a)\n</code></pre> </li> <li> <p>The output of each <code>nmcli device</code> wifi list` command should return a list of    available Wi-Fi networks. Example output:</p> <pre><code>IN-USE  BSSID              SSID                    MODE   CHAN  RATE        SIGNAL  BARS  SECURITY\n        XX:XX:XX:XX:XX:XX  DIRECT-ny               Infra  6     65 Mbit/s   75      \u2582\u2584\u2586_  WPA2\n*       XX:XX:XX:XX:XX:XX  3mdeb_abr_5GHz          Infra  48    405 Mbit/s  72      \u2582\u2584\u2586_  WPA2\n        XX:XX:XX:XX:XX:XX  3mdeb_abr               Infra  11    54 Mbit/s   69      \u2582\u2584\u2586_  WPA2\n        XX:XX:XX:XX:XX:XX  FunBox2-F9BF_2.4GHz     Infra  1     130 Mbit/s  50      \u2582\u2584__  WPA1 WPA2\n        XX:XX:XX:XX:XX:XX  H_Office                Infra  2     270 Mbit/s  35      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-xpPhaser 3330    Infra  1     65 Mbit/s   34      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  Orange_Swiatlowod_A79A  Infra  108   540 Mbit/s  32      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-KRM288x Series   Infra  11    54 Mbit/s   22      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  Orange_Swiatlowod_A79A  Infra  11    130 Mbit/s  20      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-ejPhaser 3330    Infra  1     65 Mbit/s   17      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  NED-WIFI                Infra  11    270 Mbit/s  17      \u2582___  WPA2\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-stability/C02-m2-wi-fi/#smw0002001-wi-fi-connection-after-warm-boot-ubuntu-2204","title":"SMW0002.001 Wi-fi connection after warm boot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi card is detected and working correctly after performing a warm boot. The test should be performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep \"Network Controller\"\n</code></pre> </li> <li> <p>Open a terminal window and run the following commands:</p> <pre><code>nmcli radio wifi on\nnmcli device wifi rescan\n# Wait ~5 seconds\nnmcli device wifi list\n</code></pre> </li> <li> <p>Power off the DUT using the power button.</p> </li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep \"Network Controller\"\n</code></pre> </li> <li> <p>Open a terminal window and run the following commands:</p> <pre><code>nmcli radio wifi on\nnmcli device wifi rescan\n# Wait ~5 seconds\nnmcli device wifi list\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li> <p>The output of each <code>lspci</code> command should contain information about the    mounted on the DUT network controller. Example output:</p> <pre><code>2f:00.0 Network controller: Intel Corporation Wi-Fi 6 AX201 (rev 1a)\n</code></pre> </li> <li> <p>The output of each <code>nmcli device</code> wifi list` command should return a list of    available Wi-Fi networks. Example output:</p> <pre><code>IN-USE  BSSID              SSID                    MODE   CHAN  RATE        SIGNAL  BARS  SECURITY\n        XX:XX:XX:XX:XX:XX  DIRECT-ny               Infra  6     65 Mbit/s   75      \u2582\u2584\u2586_  WPA2\n*       XX:XX:XX:XX:XX:XX  3mdeb_abr_5GHz          Infra  48    405 Mbit/s  72      \u2582\u2584\u2586_  WPA2\n        XX:XX:XX:XX:XX:XX  3mdeb_abr               Infra  11    54 Mbit/s   69      \u2582\u2584\u2586_  WPA2\n        XX:XX:XX:XX:XX:XX  FunBox2-F9BF_2.4GHz     Infra  1     130 Mbit/s  50      \u2582\u2584__  WPA1 WPA2\n        XX:XX:XX:XX:XX:XX  H_Office                Infra  2     270 Mbit/s  35      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-xpPhaser 3330    Infra  1     65 Mbit/s   34      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  Orange_Swiatlowod_A79A  Infra  108   540 Mbit/s  32      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-KRM288x Series   Infra  11    54 Mbit/s   22      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  Orange_Swiatlowod_A79A  Infra  11    130 Mbit/s  20      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-ejPhaser 3330    Infra  1     65 Mbit/s   17      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  NED-WIFI                Infra  11    270 Mbit/s  17      \u2582___  WPA2\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-stability/C02-m2-wi-fi/#smw0003001-wi-fi-connection-after-reboot-ubuntu-2204","title":"SMW0003.001 Wi-fi connection after reboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi card is detected and working correctly after performing a reboot. The test should be performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep \"Network Controller\"\n</code></pre> </li> <li> <p>Open a terminal window and run the following commands:</p> <pre><code>nmcli radio wifi on\nnmcli device wifi rescan\n# Wait ~5 seconds\nnmcli device wifi list\n</code></pre> </li> <li> <p>Disconnect the power source, and remove the battery if present.</p> </li> <li>Connect power and battery again.</li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep \"Network Controller\"\n</code></pre> </li> <li> <p>Open a terminal window and run the following commands:</p> <pre><code>nmcli radio wifi on\nnmcli device wifi rescan\n# Wait ~5 seconds\nnmcli device wifi list\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li> <p>The output of each <code>lspci</code> command should contain information about the    mounted on the DUT network controller. Example output:</p> <pre><code>2f:00.0 Network controller: Intel Corporation Wi-Fi 6 AX201 (rev 1a)\n</code></pre> </li> <li> <p>The output of each <code>nmcli device</code> wifi list` command should return a list of    available Wi-Fi networks. Example output:</p> <pre><code>IN-USE  BSSID              SSID                    MODE   CHAN  RATE        SIGNAL  BARS  SECURITY\n        XX:XX:XX:XX:XX:XX  DIRECT-ny               Infra  6     65 Mbit/s   75      \u2582\u2584\u2586_  WPA2\n*       XX:XX:XX:XX:XX:XX  3mdeb_abr_5GHz          Infra  48    405 Mbit/s  72      \u2582\u2584\u2586_  WPA2\n        XX:XX:XX:XX:XX:XX  3mdeb_abr               Infra  11    54 Mbit/s   69      \u2582\u2584\u2586_  WPA2\n        XX:XX:XX:XX:XX:XX  FunBox2-F9BF_2.4GHz     Infra  1     130 Mbit/s  50      \u2582\u2584__  WPA1 WPA2\n        XX:XX:XX:XX:XX:XX  H_Office                Infra  2     270 Mbit/s  35      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-xpPhaser 3330    Infra  1     65 Mbit/s   34      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  Orange_Swiatlowod_A79A  Infra  108   540 Mbit/s  32      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-KRM288x Series   Infra  11    54 Mbit/s   22      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  Orange_Swiatlowod_A79A  Infra  11    130 Mbit/s  20      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-ejPhaser 3330    Infra  1     65 Mbit/s   17      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  NED-WIFI                Infra  11    270 Mbit/s  17      \u2582___  WPA2\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-stability/C02-m2-wi-fi/#smw0004001-wi-fi-connection-after-suspension-ubuntu-2204","title":"SMW0004.001 Wi-fi connection after suspension (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the Wi-Fi card is detected and working correctly after performing suspension. The test should be performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>Install the Firmware test suite    package.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep \"Network Controller\"\n</code></pre> </li> <li> <p>Open a terminal window and run the following commands:</p> <pre><code>nmcli radio wifi on\nnmcli device wifi rescan\n# Wait ~5 seconds\nnmcli device wifi list\n</code></pre> </li> <li> <p>Execute the following command to suspend the system and automatically wake it    up after 10 seconds:</p> <pre><code>sudo fwts s3 --s3-sleep-delay=10\n</code></pre> </li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep \"Network Controller\"\n</code></pre> </li> <li> <p>Open a terminal window and run the following commands:</p> <pre><code>nmcli radio wifi on\nnmcli device wifi rescan\n# Wait ~5 seconds\nnmcli device wifi list\n</code></pre> </li> </ol> <p>Expected result</p> <ol> <li> <p>The output of each <code>lspci</code> command should contain information about the    mounted on the DUT network controller. Example output:</p> <pre><code>2f:00.0 Network controller: Intel Corporation Wi-Fi 6 AX201 (rev 1a)\n</code></pre> </li> <li> <p>The output of each <code>nmcli device</code> wifi list` command should return a list of    available Wi-Fi networks. Example output:</p> <pre><code>IN-USE  BSSID              SSID                    MODE   CHAN  RATE        SIGNAL  BARS  SECURITY\n        XX:XX:XX:XX:XX:XX  DIRECT-ny               Infra  6     65 Mbit/s   75      \u2582\u2584\u2586_  WPA2\n*       XX:XX:XX:XX:XX:XX  3mdeb_abr_5GHz          Infra  48    405 Mbit/s  72      \u2582\u2584\u2586_  WPA2\n        XX:XX:XX:XX:XX:XX  3mdeb_abr               Infra  11    54 Mbit/s   69      \u2582\u2584\u2586_  WPA2\n        XX:XX:XX:XX:XX:XX  FunBox2-F9BF_2.4GHz     Infra  1     130 Mbit/s  50      \u2582\u2584__  WPA1 WPA2\n        XX:XX:XX:XX:XX:XX  H_Office                Infra  2     270 Mbit/s  35      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-xpPhaser 3330    Infra  1     65 Mbit/s   34      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  Orange_Swiatlowod_A79A  Infra  108   540 Mbit/s  32      \u2582\u2584__  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-KRM288x Series   Infra  11    54 Mbit/s   22      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  Orange_Swiatlowod_A79A  Infra  11    130 Mbit/s  20      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  DIRECT-ejPhaser 3330    Infra  1     65 Mbit/s   17      \u2582___  WPA2\n        XX:XX:XX:XX:XX:XX  NED-WIFI                Infra  11    270 Mbit/s  17      \u2582___  WPA2\n</code></pre> </li> </ol>"},{"location":"unified-test-documentation/dasharo-stability/C03-nvme-detection/","title":"Dasharo Stability: NVMe detection","text":""},{"location":"unified-test-documentation/dasharo-stability/C03-nvme-detection/#test-cases-common-documentation","title":"Test cases common documentation","text":"<p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware.</li> <li>Proceed with the    Generic test setup: OS installer.</li> <li>Proceed with the    Generic test setup: OS installation.</li> <li>Proceed with the    Generic test setup: OS boot from disk.</li> </ol>"},{"location":"unified-test-documentation/dasharo-stability/C03-nvme-detection/#snv0001001-nvme-detection-after-cold-boot-ubuntu-2204","title":"SNV0001.001 NVMe detection after cold boot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the NVMe disk is correctly detected after performing a cold boot. The test should be performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep -i nvme\n</code></pre> </li> <li> <p>Disconnect the power source, and remove the battery if present.</p> </li> <li>Connect power and battery again.</li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep -i nvme\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output of each <code>lspci</code> command should contain information about the mounted on the DUT NVMe disk. Example output:</p> <pre><code>01:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd NVMe SSD Controller 980\n</code></pre>"},{"location":"unified-test-documentation/dasharo-stability/C03-nvme-detection/#snv0001001-nvme-detection-after-warm-boot-ubuntu-2204","title":"SNV0001.001 NVMe detection after warm boot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the NVMe disk is correctly detected after performing a warm boot. The test should be performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep -i nvme\n</code></pre> </li> <li> <p>Power off the DUT using the power button.</p> </li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep -i nvme\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output of each <code>lspci</code> command should contain information about the mounted on the DUT NVMe disk. Example output:</p> <pre><code>01:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd NVMe SSD Controller 980\n</code></pre>"},{"location":"unified-test-documentation/dasharo-stability/C03-nvme-detection/#snv0003001-nvme-detection-after-reboot-ubuntu-2204","title":"SNV0003.001 NVMe detection after reboot (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the NVMe disk is correctly detected after performing a reboot. The test should be performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Generic test setup: firmware</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep -i nvme\n</code></pre> </li> <li> <p>Disconnect the power source, and remove the battery if present.</p> </li> <li>Connect power and battery again.</li> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep -i nvme\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output of each <code>lspci</code> command should contain information about the mounted on the DUT NVMe disk. Example output:</p> <pre><code>01:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd NVMe SSD Controller 980\n</code></pre>"},{"location":"unified-test-documentation/dasharo-stability/C03-nvme-detection/#snv0004001-nvme-detection-after-suspension-ubuntu-2204","title":"SNV0004.001 NVMe detection after suspension (Ubuntu 22.04)","text":"<p>Test description</p> <p>This test aims to verify that the NVMe disk is correctly detected after performing suspension. The test should be performed in multiple iterations.</p> <p>Test configuration data</p> <ol> <li><code>FIRMWARE</code> = Dasharo</li> <li><code>OPERATING_SYSTEM</code> = Ubuntu 22.04</li> </ol> <p>Test setup</p> <ol> <li>Proceed with the    Test cases common documentation section.</li> <li>Install the Firmware test suite    package.</li> </ol> <p>Test steps</p> <ol> <li>Power on the DUT.</li> <li>Boot into the system.</li> <li>Log into the system by using the proper login and password.</li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep -i nvme\n</code></pre> </li> <li> <p>Execute the following command to suspend the system and automatically wake it    up after 10 seconds:</p> <pre><code>sudo fwts s3 --s3-sleep-delay=10\n</code></pre> </li> <li> <p>Open a terminal window and run the following command:</p> <pre><code>lspci | grep -i nvme\n</code></pre> </li> </ol> <p>Expected result</p> <p>The output of each <code>lspci</code> command should contain information about the mounted on the DUT NVMe disk. Example output:</p> <pre><code>01:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd NVMe SSD Controller 980\n</code></pre>"},{"location":"value-prop/compatibility/","title":"Dasharo Compatibility Module","text":"<p>From communication bus standards, through industry specifications like ACPI and ending up with support for Operating Systems, each platform needs set of compatibility criteria which have to be maintained across life cycle of market availability and sometimes even after it.</p> <p>This section describes what compatibility features Dasharo offer and how it make sure their availability in every firmware release.</p>"},{"location":"value-prop/marketing/","title":"Dasharo Marketing Module","text":"<p>We think every advanced piece of software requires correct communication to all users who will interact with it. Marketing module helps in organizing and delivering information required to understand and correctly leverage software produced by Dasharo Ecosystem.</p>"},{"location":"value-prop/marketing/#key-embedded-firmware-marketing-issues","title":"Key Embedded Firmware marketing issues","text":""},{"location":"value-prop/marketing/#differentiation-through-firmware","title":"Differentiation through firmware","text":"<p>Most hardware vendors do not leverage ability to differentiate through firmware features, which is way easier then designing new hardware.</p>"},{"location":"value-prop/marketing/#products","title":"Products","text":"<ul> <li>Embedded Firmware Release<ul> <li>Website</li> <li>Newsletter</li> <li>Repository</li> </ul> </li> <li>Community and Customer Support<ul> <li>Issues repository maintenance</li> <li>Documentation repository maintenance</li> </ul> </li> <li>Conference speaking</li> <li>Technical Sales Support</li> </ul>"},{"location":"value-prop/overview/","title":"Dasharo Value Proposition","text":"<p>There are multiple reasons why you should choose Dasharo. In this section we will try to structure and present whole value that Dasharo can bring to your hardware.</p> <ul> <li>Marketing - Dasharo Marketing Module was created to resolve   problems of hardware vendors with communicating   Embedded Firmware value.</li> </ul> <p>Finally, we agree with John Hennessy and David Patterson that we enter era of New Golden Age of domain specific computing with open architectures and open-source implementations. What eventually will lead to more firmware everywhere. Addressing mentioned areas is just beginning for Dasharo we think following years would need way more firmware expertise then at any other point in time.</p>"},{"location":"value-prop/security/","title":"Dasharo Security Module","text":"<p>This module gathers all security features Dasharo Ecosystem can bring to your platform through software. No matter if this is new hardware at design stage, prototype waiting for bring up or well-established platform looking for after-market boost.</p> <p>In this section we will explain what features Dasharo provide in area of security.</p>"},{"location":"variants/hardware-compatibility-list/","title":"Hardware Compatibility List","text":"Vendor Model Status Roadmap Shop Documentation Dell OptiPlex 7010 SFF Implementation TBD TBD link Dell OptiPlex 7010 DT Implementation TBD TBD link Dell OptiPlex 9010 SFF Implementation TBD TBD link <p>Possible status:</p> <ul> <li>Planning - platform support is planned either through internal, community   or commercial sponsorship.</li> <li>Implementation - under active development to provide baseline support.</li> <li>Testing and Integration - under validation to sign-off on baseline   quality criteria.</li> <li>Maintenance - under active maintenance release cycle according to   schedule presented in Roadmap.</li> </ul>"},{"location":"variants/overview/","title":"Supported hardware","text":"<p>Following is up to date list of hardware platforms supported by Dasharo open-source firmware distribution.</p>"},{"location":"variants/overview/#network-appliance","title":"Network appliance","text":"<ul> <li> <p>Following network appliances are supported under Dasharo Support Package:</p> <ul> <li>Protectli FW6</li> <li>Protectli VP2410</li> <li>Protectli VP2420</li> <li>Protectli VP46xx</li> </ul> </li> <li> <p>Following network appliances are planned to be supported under Dasharo   Community Support:</p> <ul> <li>PC Engines</li> </ul> </li> </ul>"},{"location":"variants/overview/#laptops","title":"Laptops","text":"<ul> <li> <p>Following laptops are supported under Dasharo Support Package</p> <ul> <li>NovaCustom NV4x 12th Gen</li> <li>NovaCustom NS5x/7x 12th Gen</li> <li>NovaCustom NV4x 11th Gen</li> <li>NovaCustom NS5x/7x 11th Gen</li> </ul> </li> <li> <p>Following laptops are supported under Dasharo Community Support</p> <ul> <li>Tuxedo IBS15</li> </ul> </li> </ul>"},{"location":"variants/overview/#desktop","title":"Desktop","text":"<ul> <li> <p>Following desktops are supported under Dasharo Community Support</p> <ul> <li>Dell OptiPlex</li> <li>MSI PRO Z690-A</li> <li>MSI PRO Z790-P</li> </ul> </li> </ul>"},{"location":"variants/overview/#workstation","title":"Workstation","text":"<ul> <li> <p>Following workstations are supported under Dasharo Community Support</p> <ul> <li>Asus KGPE-D16</li> <li>Raptor CS Talos II</li> </ul> </li> </ul>"},{"location":"variants/overview/#servers","title":"Servers","text":"<ul> <li> <p>Following servers are supported under Dasharo Community Support</p> <ul> <li>Supermicro X11 LGA1151 Series</li> </ul> </li> </ul>"},{"location":"variants/asus_kgpe_d16/building-manual/","title":"Building manual","text":""},{"location":"variants/asus_kgpe_d16/building-manual/#building-coreboot","title":"Building coreboot","text":"<p>To build coreboot image, follow the steps below:</p> <ol> <li> <p>Clone the coreboot repository:</p> <pre><code>git clone https://github.com/dasharo/coreboot.git -b asus_kgpe-d16/release\n</code></pre> </li> <li> <p>Get the submodules:</p> <pre><code>cd coreboot\ngit submodule update --init --recursive --checkout\n</code></pre> </li> <li> <p>Start docker container:</p> <pre><code>docker run --rm -it -u $UID \\\n-v $PWD:/home/coreboot/coreboot \\\n-w /home/coreboot/coreboot \\\ncoreboot/coreboot-sdk:0ad5fbd48d /bin/bash\n</code></pre> </li> <li> <p>Inside of the container, configure and start the build process:</p> <pre><code>(docker)cp configs/config.asus_kgpe_d16_&lt;variant&gt; .config\n(docker)make olddefconfig\n(docker)make\n</code></pre> </li> </ol> <p>This will produce a debug binary placed in <code>build/coreboot.rom</code> for a 2MB flash chip. In order to build for 8MB or 16MB chip use the <code>configs/config.asus_kgpe_d16_8M</code> and <code>configs/config.asus_kgpe_d16_16M</code> respectively.</p> <p>Dasharo v0.1.0 for KGPE-D16 supports only 8MB target with <code>configs/config.asus_kgpe_d16</code>.</p> <p>To flash coreboot refer to Flashing section in the hardware setup page.</p>"},{"location":"variants/asus_kgpe_d16/building-manual/#other-variants","title":"Other variants","text":"<p>Since the Dasharo v0.3.0 release the firmware comes in two more variatns: with TPM 1.2 and TPM 2.0 support. Now the possible confis to use are:</p> <ul> <li><code>configs/config.asus_kgpe_d16_vboot_tpm12</code> - 2MB target with vboot and TPM 1.2</li> <li><code>configs/config.asus_kgpe_d16_vboot_tpm2</code> - 2MB target with vboot and TPM 2.0</li> <li><code>configs/config.asus_kgpe_d16_8M_vboot_tpm12</code> - 8MB target with vboot and TPM 1.2</li> <li><code>configs/config.asus_kgpe_d16_8M_vboot_tpm2</code> - 8MB target with vboot and TPM  2.0</li> <li><code>configs/config.asus_kgpe_d16_16M_vboot_tpm12</code> - 16MB target with vboot and   TPM 1.2</li> <li><code>configs/config.asus_kgpe_d16_16M_vboot_tpm2</code> - 16MB target with vboot and   TPM 2.0</li> </ul>"},{"location":"variants/asus_kgpe_d16/fan-control/","title":"Automatic fan control for ASUS KGPE-D16","text":"<p>Starting from KGPE-D16 Dasharo release v0.2.0, coreboot implements automatic fan control. The feature is realized on the Nuvoton W83795 hardware monitor.</p>"},{"location":"variants/asus_kgpe_d16/fan-control/#testing-fan-control","title":"Testing fan control","text":"<p>In order to check the monitoring values of W83795, one needs to install some packages:</p> <pre><code>apt-get install lm-sensors\n</code></pre> <p>Linux kernel by default should come with <code>w83795</code> module. Load it with the following command:</p> <pre><code>modprobe w83795\n</code></pre> <p>The <code>dmesg</code> should contain the following message after loading the module:</p> <pre><code>i2c i2c-1: Found w83795g rev. B at 0x2f\nw83795 1-002f: hwmon_device_register() is deprecated.\n     Please convert the driver to use hwmon_device_register_with_info().\n</code></pre> <p>To check the monitoring values execute:</p> <pre><code>sensors\n</code></pre> <p>The output should be similar to the one below:</p> <pre><code>k10temp-pci-00cb\nAdapter: PCI adapter\ntemp1:        +36.5\u00b0C  (high = +70.0\u00b0C)\n(crit = +106.0\u00b0C, hyst = +101.0\u00b0C)\n\nw83795g-i2c-1-2f\nAdapter: SMBus PIIX4 adapter at 0b20\nin0:         910.00 mV (min =  +0.90 V, max =  +1.50 V)\nin1:           0.00 V  (min =  +0.90 V, max =  +1.50 V)  ALARM\nin2:           1.53 V  (min =  +1.10 V, max =  +1.61 V)\nin3:          22.00 mV (min =  +1.10 V, max =  +1.61 V)  ALARM\nin4:           1.21 V  (min =  +1.14 V, max =  +1.25 V)\nin5:           0.00 V  (min =  +1.14 V, max =  +1.25 V)  ALARM\nin6:           1.19 V  (min =  +1.05 V, max =  +1.25 V)\nin7:           1.82 V  (min =  +1.70 V, max =  +1.90 V)\nin8:           1.21 V  (min =  +1.14 V, max =  +1.25 V)\nin9:           1.09 V  (min =  +1.05 V, max =  +1.15 V)\nin10:          1.60 V  (min =  +1.50 V, max =  +1.63 V)\nin11:        752.00 mV (min =  +0.00 V, max =  +0.01 V)  ALARM\n+3.3V:         3.26 V  (min =  +2.96 V, max =  +3.63 V)\n3VSB:          3.28 V  (min =  +2.96 V, max =  +3.63 V)\nVbat:          3.16 V  (min =  +2.70 V, max =  +3.63 V)\nin15:          1.02 V  (min =  +0.91 V, max =  +1.08 V)\nin16:          1.55 V  (min =  +1.50 V, max =  +1.62 V)\nfan1:        1157 RPM  (min =  329 RPM)\nfan2:           0 RPM  (min =  329 RPM)  ALARM\nfan3:           0 RPM  (min =  329 RPM)  ALARM\nfan4:           0 RPM  (min =  329 RPM)  ALARM\nfan5:           0 RPM  (min =  329 RPM)  ALARM\nfan6:           0 RPM  (min =  329 RPM)  ALARM\nfan7:           0 RPM  (min =  329 RPM)  ALARM\nfan8:           0 RPM  (min =  329 RPM)  ALARM\ntemp1:        +37.2\u00b0C  (high = +70.0\u00b0C, hyst = +65.0\u00b0C)\n(crit = +90.0\u00b0C, hyst = +80.0\u00b0C)  sensor = thermal diode\ntemp2:        -62.5\u00b0C  (high =  +0.0\u00b0C, hyst =  +0.0\u00b0C)\n(crit =  +0.0\u00b0C, hyst =  +0.0\u00b0C)  sensor = thermistor\ntemp3:        -62.5\u00b0C  (high =  +0.0\u00b0C, hyst =  +0.0\u00b0C)\n(crit =  +0.0\u00b0C, hyst =  +0.0\u00b0C)  sensor = thermistor\ntemp7:        +36.8\u00b0C  (high = +70.0\u00b0C, hyst = +65.0\u00b0C)\n(crit = +90.0\u00b0C, hyst = +80.0\u00b0C)  sensor = AMD AMDSI\ntemp8:         +0.0\u00b0C  (high = +70.0\u00b0C, hyst = +65.0\u00b0C)\n(crit = +90.0\u00b0C, hyst = +80.0\u00b0C)  sensor = AMD AMDSI\nintrusion0:  ALARM\nbeep_enable: disabled\n\nfam15h_power-pci-00c4\nAdapter: PCI adapter\npower1:       49.44 W  (crit = 139.72 W)\n\nk10temp-pci-00c3\nAdapter: PCI adapter\ntemp1:        +36.8\u00b0C  (high = +70.0\u00b0C)\n(crit = +106.0\u00b0C, hyst = +99.0\u00b0C)\n</code></pre> <p>The CPU temperature is indicated with k10temp and w83795g temp7 inputs and the CPU fan speed is indicated by fan1.</p>"},{"location":"variants/asus_kgpe_d16/fan-control/#alternative-automatic-fan-control","title":"Alternative automatic fan control","text":"<p>If you are using a coreboot for KGPE-D16 built from 4.11 branch or earlier there is also a software option to enable automatic fan control without modifications in coreboot. In order to configure the fan control, one needs to install the following package:</p> <pre><code>apt-get install fancontrol\n</code></pre> <p>Now we need to configure the fancontrol application by generating a <code>/etc/fancontrol</code> file containing the relation of temperature inputs to fans. Be sure that w83795 module is loaded (you may also add the module to be loaded automatically with <code>echo w38795 &gt;&gt; /etc/modules</code>). Execute:</p> <pre><code>pwmconfig\n</code></pre> <p>This application will lead you through the process of identifying the relation of the fans and temperatures. Simply follow the instructions printed on the console. At the end do not select save and ext, just configure all PWMs, e.g.:</p> <pre><code>Select fan output to configure, or other action:\n1) hwmon0/device/pwm1  3) Just quit       5) Show configuration\n2) Change INTERVAL     4) Save and quit\nselect (1-n): 1\n</code></pre> <p>Then set up temperature correlation by selecting either <code>k10temp</code> or <code>hwmon0/device/temp7_input</code> as temperature source for the fan1 (they should report identical temperature). When finished, select <code>Save and quit</code>. For a single CPU - single fan configuration it should result in a file like this:</p> <pre><code>INTERVAL=10\nDEVPATH=hwmon0=devices/pci0000:00/0000:00:14.0/i2c-1/1-002f\nDEVNAME=hwmon0=w83795g\nFCTEMPS=hwmon0/device/pwm1=hwmon0/device/temp7_input\nFCFANS= hwmon0/device/pwm1=hwmon0/device/fan1_input\nMINTEMP=hwmon0/device/pwm1=20\nMAXTEMP=hwmon0/device/pwm1=80\nMINSTART=hwmon0/device/pwm1=150\nMINSTOP=hwmon0/device/pwm1=0\n</code></pre> <p>NOTE: hwmonX may be different depending on the order of loaded modules, if loaded automatically via <code>etc/modules</code> it may be hwmon0, if loaded using <code>modprobe</code> it may be hwmon3 or hwmon4.</p> <p>Now that the configuration file is ready, time to start the fancontrol service:</p> <pre><code>systemctl enable fancontrol\nsystemctl start fancontrol\nsystemctl status fancontrol\n\u25cf fancontrol.service - fan speed regulator\n     Loaded: loaded (/lib/systemd/system/fancontrol.service; enabled; vendor pr&gt;\n     Active: active (running) since Wed 2021-12-08 11:23:23 CET; 9min ago\n       Docs: man:fancontrol(8)\nman:pwmconfig(8)\nMain PID: 1318 (fancontrol)\nTasks: 2 (limit: 19153)\nMemory: 1.3M\n        CPU: 1.340s\n     CGroup: /system.slice/fancontrol.service\n             \u251c\u25001318 /bin/bash /usr/sbin/fancontrol\n             \u2514\u25002228 sleep 10\n\nDec 08 11:23:24 debian fancontrol[1318]:   Controls hwmon0/device/fan1_input\nDec 08 11:23:24 debian fancontrol[1318]:   MINTEMP=20\nDec 08 11:23:24 debian fancontrol[1318]:   MAXTEMP=80\nDec 08 11:23:24 debian fancontrol[1318]:   MINSTART=150\nDec 08 11:23:24 debian fancontrol[1318]:   MINSTOP=0\nDec 08 11:23:24 debian fancontrol[1318]:   MINPWM=0\nDec 08 11:23:24 debian fancontrol[1318]:   MAXPWM=255\nDec 08 11:23:24 debian fancontrol[1318]:   AVERAGE=1\nDec 08 11:23:24 debian fancontrol[1318]: Enabling PWM on fans...\nDec 08 11:23:24 debian fancontrol[1318]: Starting automatic fan control...\n</code></pre> <p>It should print the service is running. Now check the fan speed with <code>sensors</code> command from <code>lm-sensors</code> package (install it if you haven't done it yet). For CPU temperature of 40 Celsius degrees the fan1 speed should be a little bit lower than 3000 RPM. Note it is advised to stop and disable the fancontrol service when using Dasharo for KGPE-D16 release v0.2.0 or newer:</p> <pre><code>systemctl disable fancontrol\nsystemctl stop fancontrol\n</code></pre>"},{"location":"variants/asus_kgpe_d16/fan-control/#verifying-fan-speed-adaptation","title":"Verifying fan speed adaptation","text":"<p>To check if the fan speed adapts to the temperature you may install <code>stress-ng</code>:</p> <pre><code>apt-get install stress-ng\n</code></pre> <p>With the following command you may cause a 2 minutes stress on the CPUs and raise its temperature (it should hit about 70 Celsius degrees with that):</p> <pre><code>stress-ng --cpu 16 --io 8 --vm 4 --vm-bytes 4G --timeout 120s --metrics\n</code></pre> <p>Simultaneously watch the fan speed with <code>sensors</code> command. Example for fancontrol service:</p> <pre><code>k10temp-pci-00cb\nAdapter: PCI adapter\ntemp1:        +52.4\u00b0C  (high = +70.0\u00b0C)\n\nw83795g-i2c-1-2f\nAdapter: SMBus PIIX4 adapter at 0b20\nin0:           1.09 V  (min =  +0.90 V, max =  +1.50 V)\nin1:           0.00 V  (min =  +0.90 V, max =  +1.50 V)  ALARM\nin2:           1.53 V  (min =  +1.10 V, max =  +1.61 V)\nin3:          22.00 mV (min =  +1.10 V, max =  +1.61 V)  ALARM\nin4:           1.21 V  (min =  +1.14 V, max =  +1.25 V)\nin5:           0.00 V  (min =  +1.14 V, max =  +1.25 V)  ALARM\nin6:           1.20 V  (min =  +1.05 V, max =  +1.25 V)\nin7:           1.82 V  (min =  +1.70 V, max =  +1.90 V)\nin8:           1.21 V  (min =  +1.14 V, max =  +1.25 V)\nin9:           1.09 V  (min =  +1.05 V, max =  +1.15 V)\nin10:          1.59 V  (min =  +1.50 V, max =  +1.63 V)\n+3.3V:         3.24 V  (min =  +2.96 V, max =  +3.63 V)\n3VSB:          3.28 V  (min =  +2.96 V, max =  +3.63 V)\nVbat:          3.06 V  (min =  +2.70 V, max =  +3.63 V)\nin15:          1.01 V  (min =  +0.91 V, max =  +1.08 V)\nin16:          1.54 V  (min =  +1.50 V, max =  +1.62 V)\nfan1:        4299 RPM  (min =  329 RPM)\nfan2:           0 RPM  (min =  329 RPM)  ALARM\nfan3:           0 RPM  (min =  329 RPM)  ALARM\nfan4:           0 RPM  (min =  329 RPM)  ALARM\nfan5:           0 RPM  (min =  329 RPM)  ALARM\nfan6:           0 RPM  (min =  329 RPM)  ALARM\nfan7:           0 RPM  (min =  329 RPM)  ALARM\nfan8:           0 RPM  (min =  329 RPM)  ALARM\ntemp1:        +52.5\u00b0C  (high = +70.0\u00b0C, hyst = +65.0\u00b0C)\n(crit = +85.0\u00b0C, hyst = +80.0\u00b0C)  sensor = thermal diode\ntemp7:        +52.8\u00b0C  (high = +70.0\u00b0C, hyst = +65.0\u00b0C)\n(crit = +85.0\u00b0C, hyst = +80.0\u00b0C)  sensor = AMD AMDSI\ntemp8:         +0.0\u00b0C  (high = +70.0\u00b0C, hyst = +65.0\u00b0C)\n(crit = +85.0\u00b0C, hyst = +80.0\u00b0C)  sensor = AMD AMDSI\nintrusion0:  ALARM\nbeep_enable: disabled\n\nfam15h_power-pci-00c4\nAdapter: PCI adapter\npower1:      141.35 W  (crit = 139.72 W)\n\nk10temp-pci-00c3\nAdapter: PCI adapter\ntemp1:        +52.9\u00b0C  (high = +70.0\u00b0C)\n</code></pre> <p>For the software method with fancontrol service the fan speed adapts pretty quickly, but when using the automatic fan control from Dasharo release the spin up/down time is longer. coreboot configures the W83795 in Thermal Cruise mode which automatically probes the CPU temperature via AMD SB TSI interface. The target temperature is set to 50 Celsius degrees which means the chip will try to keep the CPU temperature to be around 50 degrees by adapting the fan speed. Summing it up, the longer the CPU temperature exceeds 50 degrees the faster the fan will spin by slowly increasing the RPM. When the temperature is below 50 degrees for a long period of time the fan rotates with a speed of around 1000 RPM. The critical temperature is set to 90 Celsius degrees. When this point is reached the W83795 should spin up to fans to full speed.</p>"},{"location":"variants/asus_kgpe_d16/firmware-update/","title":"Firmware update","text":"<p>Following documentation describes the  process of Dasharo open-source firmware update.</p>"},{"location":"variants/asus_kgpe_d16/firmware-update/#build-flashrom","title":"Build flashrom","text":"<p>Install build dependencies:</p> <pre><code>apt install git build-essential debhelper pkg-config libpci-dev libusb-1.0-0-dev libftdi1-dev meson\n</code></pre> <p>Obtain source code:</p> <pre><code>git clone https://review.coreboot.org/flashrom.git\ncd flashrom\n</code></pre> <p>Build flashrom:</p> <pre><code>make\nsudo make install\n</code></pre>"},{"location":"variants/asus_kgpe_d16/firmware-update/#updating-dasharo","title":"Updating Dasharo","text":"<p>The whole <code>bios</code> region must be updated.</p> <pre><code>flashrom -p internal -w [path] --ifd -i bios\n</code></pre>"},{"location":"variants/asus_kgpe_d16/hardware-matrix/","title":"Hardware configuration matrix","text":"<p>This document describes the hardware configurations used for validation of the coreboot port on ASUS KGPE-D16 platforms.</p>"},{"location":"variants/asus_kgpe_d16/hardware-matrix/#asus-kgpe-d16-8mb","title":"ASUS KGPE-D16 8MB","text":"Component Description Board revision 1.03G CPU AMD Opteron(TM) Processor 6282 SE CPU Cooler RAM DDR3 16GB Kingston KVR16R11D4/16 Flash memory Winbond W25Q64FV 8MB Network Local network wired connection Attached devices 1. Goodram 16GB USB stick 2. ASUS TPM-L R2.0 module (chip Infineon SLB9665 TT2.0) Power Supply 700 W ATX type power supply Power Control 1. Sonoff S20 switch 2. Goldpin cables (RTE &lt;-&gt; Board connection) Remote Testing Environment 1. RTE <code>v1.0.0</code> (firmware <code>v0.5.3</code>) connected via RS232 2. Goldpin cables + qspimux (RTE &lt;-&gt; flash memory connection) TPM Infineon SLB9665 TT2.0 <p>Standard testing procedure is performed on setup without TPM module.</p>"},{"location":"variants/asus_kgpe_d16/hardware-matrix/#asus-kgpe-d16-16mb","title":"ASUS KGPE-D16 16MB","text":"Component Description Board revision 1.03G CPU AMD Opteron(TM) Processor 6282 SE CPU Cooler RAM DDR3 16GB Kingston KVR16R11D4/16 Flash memory Winbond W25Q128JV 16MB Network Local network wired connection Attached devices: 1. Goodram 16GB USB stick 2. ASUS TPM 1.2 Rev 1.02h module (chip Infineon SLB9635 TT 1.2) 3. Post Debug Card Power Supply 700 W ATX type power supply Power Control: 1. Sonoff S20 switch 2. Goldpin cables (RTE &lt;-&gt; Board connection) Remote Testing Environment 1. RTE <code>v1.0.0</code> (firmware <code>v0.5.3</code>) connected via RS232 2. POMONA Clip + DIP8/SOIC8 adapter (RTE &lt;-&gt; flash memory connection) TPM Infineon SLB9635 TT1.2 <p>Standard testing procedure is performed on setup without TPM module.</p> <p>ASUS KGPE-D16 board ports, slots, and connectors description is available in the manufacturer documentation (page 2-7).</p>"},{"location":"variants/asus_kgpe_d16/initial-deployment/","title":"Initial deployment","text":"<p>Initial deployment of Dasharo firmware on ASUS KGPE-D16 can be done:</p> <ul> <li>using DTS,</li> <li>manually.</li> </ul>"},{"location":"variants/asus_kgpe_d16/initial-deployment/#initial-deployment-using-dts","title":"Initial deployment using DTS","text":"<p>To ensure a smooth deployment process, it is recommended to use the latest version of DTS available from the releases page. Once you have obtained it, you can then proceed with following the Dasharo zero-touch initial deployment section procedure. This will help you set up Dasharo effectively and without manual intervention.</p>"},{"location":"variants/asus_kgpe_d16/initial-deployment/#initial-deployment-manually","title":"Initial deployment manually","text":"<p>Initial flashing of Dasharo firmware can be done from Linux using flashrom with the internal programmer. This document describes the process of building, installing and running flashrom on Ubuntu 20.04.</p>"},{"location":"variants/asus_kgpe_d16/initial-deployment/#build-flashrom","title":"Build flashrom","text":"<p>Please follow generic guide for Dasharo flashrom fork.</p>"},{"location":"variants/asus_kgpe_d16/initial-deployment/#reading-flash-contents","title":"Reading flash contents","text":"<p>Always prepare a backup of the current firmware image. To read from the flash and save it to a file (<code>backup.rom</code>), execute the following command:</p> <pre><code>flashrom -p internal -r backup.rom\n</code></pre>"},{"location":"variants/asus_kgpe_d16/initial-deployment/#flashing-dasharo","title":"Flashing Dasharo","text":"<p>To flash Dasharo on the platform, execute the following command - replace <code>[path]</code> with the path to the Dasharo image you want to flash, e.g. <code>asus_kgpe-d16_v0.3.0_2M_vboot_TPM1.2.rom</code>.</p> <pre><code>flashrom -p internal -w [path]\n</code></pre> <p>This will flash the full image, including the Intel ME. The operation requires a hard reset of the platform. To perform a hard reset:</p> <ol> <li>Power off the platform. Note, it may not power off completely due to flashed    ME.</li> <li>Disconnect power supply from the board when OS finishes all tasks after    power off (the screen goes dark or black).</li> <li>The platform should power on normally now. You can connect the battery back    if it was disconnected.</li> </ol>"},{"location":"variants/asus_kgpe_d16/overview/","title":"Overview","text":"<ul> <li>Releases - groups information about all releases.</li> <li>Building manual - describes how to build Dasharo for     ASUS KGPE D-16.</li> <li>Initial deployment - describes initial Dasharo     deployment methods (i. e. flashing new firmware) for ASUS KGPE D16.</li> <li>Firmware update - explains supported Dasharo     open-source firmware update methods.</li> <li>Recovery - gathers information on how to recover the platform     from potential failure.</li> <li>Hardware configuration matrix - describes the     platform's hardware configuration used during the Dasharo firmware     validation procedure.</li> <li>Test matrix - describes validation scope used during     Dasharo firmware validation procedure.</li> <li>Fan Control - describes the method of testing the     automatic fan control mechanism.</li> <li>Hardware Setup - describes the method of enabling external     flashing for ASUS KGPE-D16.</li> <li>SPI write protection - describes the method of setting     the write protection for flash chip on ASUS KGPE-D16.</li> <li>TPM measured boot - describes the measured boot behaviour     on ASUS KGPE D-16.</li> </ul>"},{"location":"variants/asus_kgpe_d16/recovery/","title":"Recovery","text":""},{"location":"variants/asus_kgpe_d16/recovery/#prequisitions","title":"Prequisitions","text":"<p>To proceed with the recovery procedurethe backup with the  vendor firmware will be necessary eg. <code>backup.rom</code>.</p> <p>Backup file should be generated before making any changes in device flash chip according to documentation in Reading flash contents section.</p>"},{"location":"variants/asus_kgpe_d16/recovery/#internal-flashing","title":"Internal flashing","text":"<p>If platform is booting properly it's possible to recover vendor firmware using procedure described in Flashing Dasharo section, setting path to file with vendor firmware as <code>[path]</code> argument.</p>"},{"location":"variants/asus_kgpe_d16/releases/","title":"Release Notes","text":"<p>Following Release Notes describe status of Open Source Firmware development for ASUS KGPE-D16.</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> <p>Subscribe to Release Newsletter</p> <p></p> <p>Feel free to contact us on our Matrix Dasharo space.</p> <p>Test results for this platform can be found here.</p>"},{"location":"variants/asus_kgpe_d16/releases/#v040-2022-09-12","title":"v0.4.0 - 2022-09-12","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/asus_kgpe_d16/releases/#changed","title":"Changed","text":"<ul> <li>ACPI cleanup</li> <li>Added missing PCI bridge initialization</li> </ul>"},{"location":"variants/asus_kgpe_d16/releases/#fixed","title":"Fixed","text":"<ul> <li>KGPE-D16 can not boot with a GPU connected</li> <li>Configs for platforms without TPM</li> <li>Bugs in DQS timing (kudos to Mike Rothfuss)</li> </ul>"},{"location":"variants/asus_kgpe_d16/releases/#known-issues","title":"Known issues","text":"<ul> <li>Booting from recovery doesn't work</li> <li>Fan controller gets stuck at 100%</li> <li>FreeBSD serial output is broken</li> <li>Linux kernel panic on booting USB media</li> <li>Builds are not reproducible</li> </ul>"},{"location":"variants/asus_kgpe_d16/releases/#binaries","title":"Binaries","text":"<p>asus_kgpe-d16_v0.4.0_16M_vboot_notpm.rom sha256 sha256.sig</p> <p>asus_kgpe-d16_v0.4.0_16M_vboot_tpm12.rom sha256 sha256.sig</p> <p>asus_kgpe-d16_v0.4.0_16M_vboot_tpm2.rom sha256 sha256.sig</p> <p>asus_kgpe-d16_v0.4.0_8M_vboot_notpm.rom sha256 sha256.sig</p> <p>asus_kgpe-d16_v0.4.0_8M_vboot_tpm12.rom sha256 sha256.sig</p> <p>asus_kgpe-d16_v0.4.0_8M_vboot_tpm2.rom sha256 sha256.sig</p> <p>asus_kgpe-d16_v0.4.0_vboot_notpm.rom sha256 sha256.sig</p> <p>asus_kgpe-d16_v0.4.0_vboot_tpm12.rom sha256 sha256.sig</p> <p>asus_kgpe-d16_v0.4.0_vboot_tpm2.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/asus_kgpe_d16/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 03aef28f1613 revision cef95aaa</li> <li>SeaBIOS based on rel-1.14.0 revision 155821a1</li> </ul>"},{"location":"variants/asus_kgpe_d16/releases/#v030-2021-12-16","title":"v0.3.0 - 2021-12-16","text":""},{"location":"variants/asus_kgpe_d16/releases/#added","title":"Added","text":"<ul> <li>TPM support</li> <li>vboot support (see how to sign and protect the image here)</li> <li>build targets for vboot with measured boot using TPM 1.2 and TPM 2.0</li> </ul>"},{"location":"variants/asus_kgpe_d16/releases/#fixed_1","title":"Fixed","text":"<ul> <li>cmos.layout being incorrectly mapped from RW CBFS during coreboot tables generation</li> <li>CC6 storage area being incorrectly included in cbmem top calculations</li> <li>ACPI DSDT LPC device name which caused TPM to be undetected by OS</li> <li>SPI controller driver sometimes dropping bytes sent/received through SPI FIFO</li> </ul>"},{"location":"variants/asus_kgpe_d16/releases/#binaries_1","title":"Binaries","text":"<ul> <li>2MB vboot TPM 1.2</li> </ul> <p>asus_kgpe-d16_v0.3.0_2M_vboot_TPM1.2.rom sha256 sha256.sig</p> <ul> <li>2MB vboot TPM 2.0</li> </ul> <p>asus_kgpe-d16_v0.3.0_2M_vboot_TPM2.0.rom sha256 sha256.sig</p> <ul> <li>8MB vboot TPM 1.2</li> </ul> <p>asus_kgpe-d16_v0.3.0_8M_vboot_TPM1.2.rom sha256 sha256.sig</p> <ul> <li>8MB vboot TPM 2.0</li> </ul> <p>asus_kgpe-d16_v0.3.0_8M_vboot_TPM2.0.rom sha256 sha256.sig</p> <ul> <li>16MB vboot TPM 1.2</li> </ul> <p>asus_kgpe-d16_v0.3.0_16M_vboot_TPM1.2.rom sha256 sha256.sig</p> <ul> <li>16MB vboot TPM 2.0</li> </ul> <p>asus_kgpe-d16_v0.3.0_16M_vboot_TPM2.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/asus_kgpe_d16/releases/#sbom-software-bill-of-materials_1","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 4.14 revision 67190bf</li> <li>SeaBIOS based on rel-1.14.0 revision 155821a1</li> <li>iPXE based on 2019.3 revision ebf2eaf5</li> <li>nvramcui based on 4.14 revision f1d1309f</li> </ul>"},{"location":"variants/asus_kgpe_d16/releases/#v020-2021-12-9","title":"v0.2.0 - 2021-12-9","text":""},{"location":"variants/asus_kgpe_d16/releases/#added_1","title":"Added","text":"<ul> <li>coreboot resource allocator v4 support</li> <li>Nuvoton W83795 HW monitor driver</li> <li>automatic fan control with W83795</li> <li>platform and silicon ramstage support</li> <li>2MB, 8MB and 16MB SPI flash targets</li> <li>SeaBIOS, iPXE and nvramcui payloads</li> </ul>"},{"location":"variants/asus_kgpe_d16/releases/#binaries_2","title":"Binaries","text":"<ul> <li>2MB target</li> </ul> <p>asus_kgpe-d16_v0.2.0_2M.rom sha256 sha256.sig</p> <ul> <li>8MB target</li> </ul> <p>asus_kgpe-d16_v0.2.0_8M.rom sha256 sha256.sig</p> <ul> <li>16MB target</li> </ul> <p>asus_kgpe-d16_v0.2.0_16M.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/asus_kgpe_d16/releases/#sbom-software-bill-of-materials_2","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 4.14 revision 63b7cbc1</li> <li>SeaBIOS based on rel-1.14.0 revision 155821a1</li> <li>iPXE based on 2019.3 revision ebf2eaf5</li> <li>nvramcui based on 4.14 revision 63b7cbc1</li> </ul>"},{"location":"variants/asus_kgpe_d16/releases/#v010-2021-11-10","title":"v0.1.0 - 2021-11-10","text":""},{"location":"variants/asus_kgpe_d16/releases/#added_2","title":"Added","text":"<ul> <li>C bootblock support</li> <li>postcar stage and no CAR global migration support</li> <li>separated chipset and mainboard code</li> <li>put non-mainboard specific romstage initialization to northirdge</li> <li>support for relocatable ramstage with caching in CBMEM</li> </ul>"},{"location":"variants/asus_kgpe_d16/releases/#binaries_3","title":"Binaries","text":"<p>asus_kgpe-d16_v0.1.0.rom</p> <p>asus_kgpe-d16_v0.1.0.rom.sha256</p> <p>asus_kgpe-d16_v0.1.0.rom.sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/asus_kgpe_d16/releases/#sbom-software-bill-of-materials_3","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 03aef28 revision e6af2206</li> </ul>"},{"location":"variants/asus_kgpe_d16/setup/","title":"RTE v.0.5.3 with ASUS KGPE-D16 connection","text":""},{"location":"variants/asus_kgpe_d16/setup/#power-supply","title":"Power supply","text":"<p>Power to the Asus KGPE-D16 is delivered by a common PC power supply. Simply connect the power supply to ATX compatible connectors on the mainboard (SSIPWR1, SSI12V1, SSI12V2).</p>"},{"location":"variants/asus_kgpe_d16/setup/#spi","title":"SPI","text":"<p>BIOS SPI flash is a socketed DIP-8. There is no simple way to attach to it with any tools. That is why we have thought about the qspimux made by Felix Held which can attach to various SPI modules footprints and sockets. The DIP-8 adapter is put into the DIP-8 socket on the mainboard, which allows attaching the qspimux SPI multiplexer. The multiplexer is responsible for switching between the external SPI lines and the mainboard lines routed to the external SPI flash chip. The external flash chip is soldered on a SOIC8 adapter, which is connected to the qspimux. The connection of the RTE and qspimux is as follows:</p> RTE header J7 pin qspimux J101 pin 1 (VCC) 2 (VCC_PROG) 2 (GND) 7 (GND) 3 (CS) 1 (CS_PROG#) 4 (SCLK) 6 (CLK_PROG) 5 (MISO) 8 (IO0_DI_PROG) 6 (MOSI) 3 (IO1_DO_PROG) 7 (NC) Not connected 8 (NC) Not connected <p>Additionally, one has to tie the IO3_HOLD_PROG (qspimux pin 4) high, so connect it to the 3.3V permanently. Another additional GPIO is required to control the routing of SPI lines. The MUX_SEL (qspimux pin 9) decides whether the programmer is allowed to access the SPI flash or the mainboard. One more GPIO is used to control state of #WP of the flash chip by connecting GPIO to IO2_WP_PROG.</p> <p>The proposed connections used:</p> <ul> <li>RTE GPIO400 to control MUX_SEL</li> <li>RTE GPIO401 to control IO3_HOLD_PROG</li> <li>RTE GPIO402 to control IO2_WP_PROG</li> </ul> <p>Simple flashing script looks as follows:</p> <pre><code># select flash &lt;-&gt; programmer\necho \"0\" &gt; /sys/class/gpio/gpio400/value\n# deassert SPI HOLD#\necho \"1\" &gt; /sys/class/gpio/gpio401/value\n\nflashrom -w firmware.bin -p linux_spi:dev=/dev/spidev1.0,spispeed=16000\n\n# select flash &lt;-&gt; board\necho \"1\" &gt; /sys/class/gpio/gpio400/value\n</code></pre> <p>Controlling state of #WP:</p> <pre><code># configure direction of the pin\necho \"out\" &gt; /sys/class/gpio/gpio402/direction\n\n# deassert WP pin to disable hardware protection of status registers\necho \"1\" &gt; /sys/class/gpio/gpio402/value\n# assert WP pin to enable hardware protection of status registers\necho \"0\"  &gt; /sys/class/gpio/gpio402/value\n</code></pre> RTE header J10 pin qspimux J101 pin 1 (GPIO400) 9 (MUX_SEL) 2 (GPIO401) 4 (IO3_HOLD_PROG) 3 (GPIO402) 5 (IO2_WP_PROG) <p></p> <p></p> <p>qspimux schematic is available here</p>"},{"location":"variants/asus_kgpe_d16/setup/#serial","title":"Serial","text":"<p>Asus KGPE-D16 has a DB9 serial connector for the debug UART. Connect it to the RTE via RS232 DB9 cable.</p> <p></p>"},{"location":"variants/asus_kgpe_d16/setup/#tpm","title":"TPM","text":"<p>Asus KGPE-D16 has an LPC header for TPM or debugging. Since there is no other option to connect a TPM, we use the header for that purpose.</p> <p>IMPORTANT: Use only TPM modules which match their pinout with the board's header! Using a spider web connection degrades the signal quality to the point where CPU cannot properly talk to TPM via LPC bus. Tested with PC Engines TPM module and failed to succeed this way. Designing and producing proper TPM header and/or reliable adapter, could solve this problem. The TwPM project could help here in the future.</p> <p></p> <p>TPM modules that were tested and verified to work in 3mdeb lab with coreboot:</p> <ul> <li>ASUS TPM-L R2.0 module (chip Infineon SLB9665 TT 2.0)</li> <li>ASUS TPM 1.2 Rev 1.02h module (chip Infineon SLB9635 TT 1.2)</li> </ul>"},{"location":"variants/asus_kgpe_d16/setup/#power-management","title":"Power management","text":"<p>Asus KGPE-D16 provides a front panel pin header (PANEL1):</p> <p></p> RTE header J11 pin Asus KGPE-D16 8 (OC buffer output) PANEL1 pin 11 (PWR) 9 (OC buffer output) PANEL1 pin 17 (RESET) <p>Additionally, connect one of the PANEL1 ground pins to one of the ground pins on RTE.</p>"},{"location":"variants/asus_kgpe_d16/setup/#manunal","title":"Manunal","text":"<p>For more details about the KGPE-D16, refer to the manual.</p>"},{"location":"variants/asus_kgpe_d16/setup/#theory-of-operation","title":"Theory of operation","text":""},{"location":"variants/asus_kgpe_d16/setup/#flashing","title":"Flashing","text":"<p>There are two RTEs connected to two Asus KGPE-D16 boards:</p> <ul> <li>192.168.20.15</li> <li>192.168.4.111</li> </ul> <p>Both boards are equipped with the qspimux and a replaced flash chip (Winbond W25Q64FV 8MB). The flash chip is attached to the qspimux with an adapter available with qspimux. Flashing may be done via the commands shown earlier or the flash script which is present in the root directory of the RTE:</p> <pre><code>./flash.sh coreboot.rom\n</code></pre> <p>The script will automatically power off the board and update flash chip contents using flashrom. After the operation is finished the routing of SPI signals is restored to the platform.</p>"},{"location":"variants/asus_kgpe_d16/setup/#the-flash-chip-adapter","title":"The flash chip adapter","text":"<p>In order to provide an easy way to protect the SPI flash chip one may use a DIP-8 to SOIC-8 adapter with a special long pin header for WP pin jumper. It allows to use a SOIC-8 packaged flash in the DIP-8 socket and easily place a jumper to protect the flash. In order to assembly the adapter you will need</p> <ul> <li>the target SPI flash chip (we use either Winbond W25Q64FV (8MB) or W25Q128JV (16MB)),</li> <li>male pin headers 2.54 mm pitch (6 pins)</li> <li>male long pin headers 2.54 mm pitch (2 pins) for the WP jumper</li> <li>SOIC-8 to DIP-8 adapter</li> <li>soldering station and the solder</li> </ul> <p>The build shall look like this:</p> <p> </p> <p>Such adapters are now available in our online shop for purchase. For more details how to enable SPI flash protection refer to SPI Flash protection page.</p>"},{"location":"variants/asus_kgpe_d16/setup/#power-management_1","title":"Power management","text":"<p>RTE can control the power of the board with the <code>RteCtrl</code> command-line application, or with the web GUI (RteCtrl) available at RTE's IP address port 8000. Possible commands are:</p> <pre><code>./RteCtrl -pon # power on the platform\n./RteCtrl -poff # force 5seconds power button power off\n./RteCtrl -reset # briefly assert platform reset pin to perform reset\n</code></pre> <p>It is also possible to control the ATX power supply by disconnecting it from the power socket. For this special purpose, Sonoff S20 is used to remotely control the power socket activity. Sonoff IP to RTE IP mapping:</p> <ul> <li>RTE IP 192.168.20.15 - Sonoff IP 192.168.4.125</li> <li>RTE IP 192.168.4.111 - Sonoff IP 192.168.4.146</li> </ul> <p>Sonoffs respond to rest API requests to enable or disable the power socket. Shell scripts have been added to RTE root directories to ease the control of power of the KGPE-D16 platform:</p> <pre><code>#!/bin/bash\n\nSONOFF_IP=192.168.4.125\n\nif [[ \"$1\" == \"off\" ]]; then\nwget -q -O - http://$SONOFF_IP/switch/sonoff_s20_relay/turn_off --method=POST\nelif [[ \"$1\" == \"on\" ]]; then\nwget -q -O - http://$SONOFF_IP/switch/sonoff_s20_relay/turn_on --method=POST\nelif [[ \"$1\" == \"show\" ]]; then\nwget -q -O - http://$SONOFF_IP/switch/sonoff_s20_relay\n    echo -e '\\n'\nelse\necho -e \"\\$1 == on|off|show|toggle\\nEdit this script to set the sonoff ip.\"\necho -e 'Current state:'\nwget -q -O - http://$SONOFF_IP/switch/sonoff_s20_relay\n    echo -e '\\n'\nfi\n</code></pre> <p>To turn off the power from the platform <code>./sonoff.sh off</code> and to turn it on <code>./sonoff.sh on</code>. Invoking the script without any argument will print the current state of the switch.</p>"},{"location":"variants/asus_kgpe_d16/setup/#serial-console-access","title":"Serial console access","text":"<p>A serial port is very useful in debugging and as a remote console of the system on the platform. The serial port of KGPE-D16 is connected to the RTE's serial port which can be accessed on RTE with <code>/dev/ttyS1</code>. One may use minicom directly or take advantage of the ser2net service running on RTE which exposes the serial port over the network. The serial port can be accessed remotely like this <code>telnet RTE_IP 13541</code>, e.g.:</p> <pre><code>telnet 192.168.20.15 13541\n</code></pre>"},{"location":"variants/asus_kgpe_d16/setup/#demo","title":"Demo","text":"<p>A short demo presenting RTE capabilities with KGPE-D16:</p>"},{"location":"variants/asus_kgpe_d16/setup/#remote-access","title":"Remote access","text":"<p>If you are interested in developing coreboot on KGPE-D16 and have some spare time, there is a possibility to obtain access to the hardware. Drop us an email to leads@3mdeb.com with a request.</p>"},{"location":"variants/asus_kgpe_d16/setup/#newsletter","title":"Newsletter","text":"<p>If you are interested in this project, you can subscribe to the Dasharo KGPE-D16 Newsletter. If you are interested in the Dasharo in general, you are welcome to subscribe to the Dasharo Newsletter.</p>"},{"location":"variants/asus_kgpe_d16/setup/#gallery","title":"Gallery","text":""},{"location":"variants/asus_kgpe_d16/spi-wp/","title":"SPI hardware write protection","text":"<p>In order to from a Root of Trust in the firmware, e.g. in the immutable piece of firmware code for Static Root of Trust of Measurement one has to ensure the protection of this piece of code. One may achieve it by enabling Intel Boot Guard or AMD Platform Secure Boot. However these technologies may into always be available. In such case SPI hardware write protection becomes handy.</p> <p>Thanks to the patchset implementing write protection and OTP support in flashrom one can easily set the SPI write protection of the platform from the operating system user space. This page explain how to build the flashrom with WP and OTP support and use to to protect the coreboot's bootblock to form SRTM.</p>"},{"location":"variants/asus_kgpe_d16/spi-wp/#building-flashrom","title":"Building flashrom","text":"<p>In order to build flashrom we will need some packages and librares. For Debian based distros execute:</p> <pre><code>sudo apt-get install git make binutils build-essential ca-certificates \\\nlibpci-dev libftdi-dev libusb-1.0-0-dev\n</code></pre> <p>Now clone the flashrom repository and fetch the patchset:</p> <pre><code>git clone https://github.com/flashrom/flashrom\ncd flashrom\ngit fetch https://review.coreboot.org/flashrom refs/changes/13/59713/7 &amp;&amp; \\\ngit checkout FETCH_HEAD\n</code></pre> <p>Build flashrom:</p> <pre><code>make\n</code></pre> <p>The freshly built flashrom will be present in root directory of the repository.</p>"},{"location":"variants/asus_kgpe_d16/spi-wp/#flashrom-write-protection-cli","title":"Flashrom write protection CLI","text":"<p>Invoke the following command to see a list of available options for flashrom:</p> <pre><code>./flashrom --help\nflashrom v1.2-585-g3542afe on Linux 5.10.0-9-amd64 (x86_64)\nflashrom is free software, get the source code at https://flashrom.org\n\nUsage: ./flashrom [-h|-R|-L|\n-p &lt;programmername&gt;[:&lt;parameters&gt;] [-c &lt;chipname&gt;]\n(--flash-name|--flash-size|\n[-E|-x|(-r|-w|-v) &lt;file&gt;]\n[(-l &lt;layoutfile&gt;|--ifd| --fmap|--fmap-file &lt;file&gt;) [-i &lt;region&gt;[:&lt;file&gt;]]...]\n[-n] [-N] [-f])]\n[-V[V[V]]] [-o &lt;logfile&gt;]\n\n-h | --help                        print this help text\n -R | --version                     print version (release)\n-r | --read &lt;file&gt;                 read flash and save to &lt;file&gt;\n -w | --write &lt;file|-&gt;              write &lt;file&gt; or the content provided\n                                    on the standard input to flash\n -v | --verify &lt;file|-&gt;             verify flash against &lt;file&gt;\n                                    or the content provided on the standard input\n -E | --erase                       erase flash memory\n -V | --verbose                     more verbose output\n -c | --chip &lt;chipname&gt;             probe only for specified flash chip\n -f | --force                       force specific operations (see man page)\n-n | --noverify                    don't auto-verify\n -N | --noverify-all                verify included regions only (cf. -i)\n-x | --extract                     extract regions to files\n -l | --layout &lt;layoutfile&gt;         read ROM layout from &lt;layoutfile&gt;\n      --wp-disable                  disable write protection\n      --wp-enable                   enable write protection\n      --wp-list                     list supported write protection ranges\n      --wp-status                   show write protection status\n      --wp-range=&lt;start&gt;,&lt;len&gt;      set write protection range (use --wp-range=0,0\n                                    to unprotect the entire flash)\n--wp-region &lt;region&gt;          set write protection region\n      --otp-status                  print information about OTP regions\n      --otp-region &lt;otp-region&gt;     OTP region number (base 1) to operate on\n      --otp-read &lt;file&gt;             read OTP region and save it to &lt;file&gt;\n      --otp-write &lt;file&gt;            write &lt;file&gt; to OTP region\n      --otp-erase                   erase OTP region\n      --otp-lock                    lock OTP region\n      --flash-name                  read out the detected flash name\n      --flash-size                  read out the detected flash size\n      --fmap                        read ROM layout from fmap embedded in ROM\n      --fmap-file &lt;fmapfile&gt;        read ROM layout from fmap in &lt;fmapfile&gt;\n      --ifd                         read layout from an Intel Firmware Descriptor\n -i | --image &lt;region&gt;[:&lt;file&gt;]     only read/write image &lt;region&gt; from layout\n                                    (optionally with data from &lt;file&gt;)\n-o | --output &lt;logfile&gt;            log output to &lt;logfile&gt;\n      --flash-contents &lt;ref-file&gt;   assume flash contents to be &lt;ref-file&gt;\n -L | --list-supported              print supported devices\n -p | --programmer &lt;name&gt;[:&lt;param&gt;] specify the programmer device. One of\n    internal, dummy, nic3com, nicrealtek, gfxnvidia, raiden_debug_spi, drkaiser,\n    satasii, atavia, it8212, ft2232_spi, serprog, buspirate_spi, dediprog,\n    developerbox, rayer_spi, pony_spi, nicintel, nicintel_spi, nicintel_eeprom,\n    ogp_spi, satamv, linux_mtd, linux_spi, usbblaster_spi, pickit2_spi,\n    ch341a_spi, digilent_spi, stlinkv3_spi.\n\nYou can specify one of -h, -R, -L, -E, -r, -w, -v or no operation.\nIf no operation is specified, flashrom will only probe for flash chips.\n</code></pre> <p>We will use only a few of those options to set the protection on the coreboot's bootblock. We protect the bootblock only, since it is the stage responsible for measurements and verification of next stages.</p>"},{"location":"variants/asus_kgpe_d16/spi-wp/#setting-flash-protection-using-flashrom","title":"Setting flash protection using flashrom","text":"<p>NOTE: be sure to update the firmware first before proceeding!</p>"},{"location":"variants/asus_kgpe_d16/spi-wp/#estimating-bootblock-size-and-protection-range","title":"Estimating bootblock size and protection range","text":"<p>First let's see how much space we need to protect. Take your coreboot.rom file and use cbfstool to show its contents:</p> <pre><code>cd /path/to/coreboot/build\n./cbfstool coreboot.rom print\nFMAP REGION: COREBOOT\nName                           Offset     Type           Size   Comp\ncbfs master header             0x0        cbfs header        32 none\nfallback/romstage              0x80       stage          171040 none\nfallback/ramstage              0x29d40    stage           98703 LZMA (229532 decompressed)\nconfig                         0x41f40    raw               709 none\nrevision                       0x42240    raw               723 none\nbuild_info                     0x42540    raw               101 none\nfallback/dsdt.aml              0x42600    raw              7055 none\ncmos.default                   0x441c0    cmos_default      256 none\ncmos_layout.bin                0x44300    cmos_layout      3676 none\nfallback/postcar               0x451c0    stage           21216 none\nimg/nvramcui                   0x4a500    simple elf      70630 none\nfallback/payload               0x5b940    simple elf      69936 none\npayload_config                 0x6cac0    raw              1621 none\npayload_revision               0x6d140    raw               237 none\npci8086,10d3.rom               0x6d280    raw             82944 none\netc/sercon-port                0x816c0    raw                 8 none\n(empty)                        0x81700    null          8128932 none\nbootblock                      0xffcac0   bootblock       13056 none\n</code></pre> <p>The bootblock is taking slightly more than 12KB of space on the bottom of the flash. Converting 12KB to hex would be equal to <code>0x3000</code> but we must cover a little bit more than that. Let's see what protection ranges are available for the chip (running from the tagret machine to be protected):</p> <pre><code>./flashrom -p internal --wp-list\n...\nAvailable write protection ranges:\n    start=0x00000000 length=0x00000000 (none)\nstart=0x00000000 length=0x00001000 (lower 1/2048)\nstart=0x007ff000 length=0x00001000 (upper 1/2048)\nstart=0x00000000 length=0x00002000 (lower 1/1024)\nstart=0x007fe000 length=0x00002000 (upper 1/1024)\nstart=0x00000000 length=0x00004000 (lower 1/512)\nstart=0x007fc000 length=0x00004000 (upper 1/512)\nstart=0x00000000 length=0x00008000 (lower 1/256)\nstart=0x007f8000 length=0x00008000 (upper 1/256)\nstart=0x00000000 length=0x00020000 (lower 1/64)\nstart=0x007e0000 length=0x00020000 (upper 1/64)\nstart=0x00000000 length=0x00040000 (lower 1/32)\nstart=0x007c0000 length=0x00040000 (upper 1/32)\nstart=0x00000000 length=0x00080000 (lower 1/16)\nstart=0x00780000 length=0x00080000 (upper 1/16)\nstart=0x00000000 length=0x00100000 (lower 1/8)\nstart=0x00700000 length=0x00100000 (upper 1/8)\nstart=0x00000000 length=0x00200000 (lower 1/4)\nstart=0x00600000 length=0x00200000 (upper 1/4)\nstart=0x00000000 length=0x00400000 (lower 1/2)\nstart=0x00400000 length=0x00400000 (upper 1/2)\nstart=0x00000000 length=0x00600000 (lower 3/4)\nstart=0x00200000 length=0x00600000 (upper 3/4)\nstart=0x00000000 length=0x00700000 (lower 7/8)\nstart=0x00100000 length=0x00700000 (upper 7/8)\nstart=0x00000000 length=0x00780000 (lower 15/16)\nstart=0x00080000 length=0x00780000 (upper 15/16)\nstart=0x00000000 length=0x007c0000 (lower 31/32)\nstart=0x00040000 length=0x007c0000 (upper 31/32)\nstart=0x00000000 length=0x007e0000 (lower 63/64)\nstart=0x00020000 length=0x007e0000 (upper 63/64)\nstart=0x00000000 length=0x007f8000 (lower 255/256)\nstart=0x00008000 length=0x007f8000 (upper 255/256)\nstart=0x00000000 length=0x007fc000 (lower 511/512)\nstart=0x00004000 length=0x007fc000 (upper 511/512)\nstart=0x00000000 length=0x007fe000 (lower 1023/1024)\nstart=0x00002000 length=0x007fe000 (upper 1023/1024)\nstart=0x00000000 length=0x007ff000 (lower 2047/2048)\nstart=0x00001000 length=0x007ff000 (upper 2047/2048)\nstart=0x00000000 length=0x00800000 (all)\n</code></pre> <p>The output abvoe comes from Winbond W25Q64FV, a 8MB chip. Bootblock is always mapped to the bottom of the flash. 1MB is equal to 0x100000 so 8MB would be 0x800000. We need at least 0x4000 (16KB) to be protected starting at the bottom of the flash. And fortunately we have found our best match: <code>start=0x007fc000 length=0x00004000 (upper 1/512)</code>.</p>"},{"location":"variants/asus_kgpe_d16/spi-wp/#clearing-spi-write-protection","title":"Clearing SPI write protection","text":"<p>Now that we have selected the desired range to protect, it is time to check the current protection status:</p> <pre><code>./flashrom -p internal --wp-status\n...\nWP config bits: SRP1=0 SRP0=0 CMP=0 SEC=0 TB=0 BP2=0 BP1=0 BP0=0\nProtection range: start=0x00000000 length=0x00000000 (none)\nProtection mode: disabled\n</code></pre> <p>The protection range should be set to zeros and all WP config bits should be cleared. If you see some bits were not cleared, ensure the WP pin jumper on the flash is not placed and invoke:</p> <pre><code>./flashrom -p internal --wp-disable\n./flashrom -p internal --wp-range=0,0\n</code></pre> <p>now that we have a clear state of the flash protection we may proceed with enabling the right range.</p>"},{"location":"variants/asus_kgpe_d16/spi-wp/#setting-protection-range","title":"Setting protection range","text":"<p>Copy the range base and length and invoke:</p> <pre><code>./flashrom -p internal --wp-range=0x007fc000,0x00004000\n</code></pre>"},{"location":"variants/asus_kgpe_d16/spi-wp/#setting-spi-status-register-protection","title":"Setting SPI status register protection","text":"<p>Flashrom should report <code>Sucessfully set the requested protection range.</code>. Now set the status register protection so the range protection cannot be changed:</p> <pre><code>./flashrom -p internal --wp-enable\n</code></pre> <p>Flashrom should report <code>Sucessfully set the requested mode.</code>.</p>"},{"location":"variants/asus_kgpe_d16/spi-wp/#verifying-spi-write-protection","title":"Verifying SPI write protection","text":"<p>To check whether the settings are desired invoke:</p> <pre><code>./flashrom -p internal --wp-status\n...\nWP config bits: SRP1=0 SRP0=1 CMP=0 SEC=1 TB=0 BP2=0 BP1=1 BP0=1\nProtection range: start=0x007fc000 length=0x00004000 (upper 1/512)\nProtection mode: hardware\n</code></pre> <p>If it matches what you have wanted to set it is time to lock the status register protection bit (SRP0) from being changed. SRP0 protects the CMP, SEC, TB and BPx bits from being changed. In order to lock the SRP0 bit you have to place the jumper on the WP pin and tie it to ground (GND). This will assert the WP pin and prevent any WP config bits from being changed. To verify it invoke:</p> <pre><code>./flashrom -p internal --wp-disable\n...\nWriting new WP configuration failed during verification:\nExpected configuration: SRP1=0 SRP0=0 CMP=0 SEC=1 TB=0 BP2=0 BP1=1 BP0=1\nActual configuration:   SRP1=0 SRP0=1 CMP=0 SEC=1 TB=0 BP2=0 BP1=1 BP0=1\n</code></pre> <p>You should get the above result.</p>"},{"location":"variants/asus_kgpe_d16/spi-wp/#changing-the-protection-range","title":"Changing the protection range","text":"<p>Now if you want to reprogram the protection range, you need to take off the jumper and invoke:</p> <pre><code>./flashrom -p internal --wp-disable\n</code></pre> <p>Now you should get <code>Sucessfully set the requested mode.</code> now. Check the WP status:</p> <pre><code>WP config bits: SRP1=0 SRP0=0 CMP=0 SEC=1 TB=0 BP2=0 BP1=1 BP0=1\nProtection range: start=0x007fc000 length=0x00004000 (upper 1/512)\nProtection mode: disabled\n</code></pre> <p>It must indicate <code>Protection mode: disabled</code>. Now you may reconfigure the range, e.g.</p> <pre><code>./flashrom -p internal --wp-range=0x007e0000,0x00020000\n</code></pre> <p>And proceed with enabling protection and setting back the jumper.</p>"},{"location":"variants/asus_kgpe_d16/spi-wp/#setting-flash-protection-for-vboot","title":"Setting flash protection for vboot","text":"<p>In case when vboot is enabled the protection range must be extended in order to cover other parts of the firmware. Vboot model assumes there is a read-only copy of the coreboot and payload called recovery partition. The recovery partition is supposed to be protected with a SPI write protection. The read-only region contains the bootblock, verstage (vboot stage used to verify other firmware components) and vboot keys and all other stages required to boot the platform in case of emergency. Typically the read-only partition occupies a space that matches the possible write protected regions of the flash chip. There are also read-write partitions (up to 2) that contain an updatable copies of the coreboot and payload. Unlike read-only partitions, read-write partitions are being verified using the signatures put into the read-write partitions. vboot checks the signature and decides whether read-write partition is safe to boot, otherwise it proceeds with execution of recovery firmware. The boot flow is shown on the diagram below:</p> <p></p> <p>In order to properly protect the firmware, one has to lock whole <code>WP_RO</code> region define by flashmap in coreboot. To locate the region offset and size one has to use cbfstool to retrieve layout:</p> <pre><code>cd /path/to/coreboot/build\n./cbfstool coreboot.rom layout -w\nThis image contains the following sections that can be accessed with this tool:\n\n'RW_MISC' (read-only, size 524288, offset 0)\n'UNIFIED_MRC_CACHE' (read-only, size 131072, offset 0)\n'RECOVERY_MRC_CACHE' (size 65536, offset 0)\n'RW_MRC_CACHE' (size 65536, offset 65536)\n'SMMSTORE' (preserve, size 262144, offset 131072)\n'CONSOLE' (size 131072, offset 393216)\n'RW_NVRAM' (size 16384, offset 524288)\n'RW_SECTION_A' (read-only, size 5750784, offset 540672)\n'VBLOCK_A' (size 8192, offset 540672)\n'FW_MAIN_A' (CBFS, size 5742528, offset 548864)\n'RW_FWID_A' (size 64, offset 6291392)\n'WP_RO' (read-only, size 2097152, offset 6291456)\n'RO_VPD' (preserve, size 16384, offset 6291456)\n'RO_SECTION' (read-only, size 2080768, offset 6307840)\n'FMAP' (read-only, size 2048, offset 6307840)\n'RO_FRID' (size 64, offset 6309888)\n'RO_FRID_PAD' (size 1984, offset 6309952)\n'GBB' (size 16384, offset 6311936)\n'COREBOOT' (CBFS, size 2060288, offset 6328320)\n\nIt is at least possible to perform the read action on every section listed above.\n</code></pre> <p>The above example shows the KGPE-D16 8MB target with vboot enabled. The <code>WP_RO</code> section is at offset of 6291456 bytes from the beginning of the flash and has size of 2097152 bytes. These numbers are in decimal, so one must convert them to hex. Either use an online hex converter or use the command in bash like a pro :)</p> <pre><code>printf \"0x%x\\n\" 6291456\n0x600000\nprintf \"0x%x\\n\" 2097152\n0x200000\n</code></pre> <p>So our WP range would be 2MB at 6MB offset <code>start=0x00600000 length=0x00200000 (upper 1/4)</code>. But before proceeding with setting the WP range, one may want to sign the firmware with own vboot keys. The Dasharo build come by default with Google vboot developer keys, so to take advantage of vboot, one should sign the binary before flashing and setting the WP range. Refer to vboot signing. Unfortunately the utilities support only 2 RW partitions for resiging. Otherwise a whole image must be rebuilt. After custo mkeys have been used to sign the ifmrware image and the image has been flashed proceed with enalbing the protection:</p> <pre><code>./flashrom -p internal --wp-range=0x00600000,0x00200000\n</code></pre> <p>Then proceed with Setting SPI status register protection and Verifying SPI write protection.</p> <p>At this point you should have your coreboot firmware with vboot well protected and ready to go. Place the jumper in order to prevent any changes to the configuration.</p>"},{"location":"variants/asus_kgpe_d16/test-matrix/","title":"Test matrix","text":""},{"location":"variants/asus_kgpe_d16/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p>"},{"location":"variants/asus_kgpe_d16/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot base port CBP All 2. SMBIOS DMI DMI001.001, DMI002.001, DMI003.001, DMI004.001 3. coreboot fan control FAN All 4. Custom boot menu key CBK All 5. Debian Stable and Ubuntu LTS support LBT LBT001.001, LBT001.002, LBT002.001, LBT002.002 6. Network boot PXE PXE007.001 7. USB detection UDT All 8. USB booting UBT All 9. Platform suspend and resume SUSP SUSP001.001 10. Flash write protection HWP All 11. Display ports and LCD support DSP DSP004.001, DSP004.002"},{"location":"variants/asus_kgpe_d16/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM TPM001.002 2. Verified Boot support VBO VBO006.001, VBO007.001, VBO008.001"},{"location":"variants/asus_kgpe_d16/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot bring up time measurement CBMEM All 2. Fan control measure FNM All"},{"location":"variants/asus_kgpe_d16/tpm-mboot/","title":"TPM measured boot","text":"<p>Since the Dasharo release v0.3.0 for KGPE-D16 TPM and measured boot are enabled by default. The firmware comes with 2 variants for all 3 flash size targets:</p> <ul> <li>vboot and TPM 1.2 measured boot for 2MB, 8MB and 16MB flash</li> <li>vboot and TPM 2.0 measured boot for 2MB, 8MB and 16MB flash</li> </ul>"},{"location":"variants/asus_kgpe_d16/tpm-mboot/#tpm-support","title":"TPM support","text":"<p>3mdeb office validates the following setups:</p> <ol> <li>KGPE-D16 8MB flash with ASUS TPM-L R2.0    (Infineon SLB9665 TT2.0).</li> <li>KGPE-D16 16MB flash with ASUS TPM 1.2 Rev 1.02h (Infineon SLB9635 TT1.2).</li> </ol> <p>Both chips are supported by coreboot. For the time being the platforms will be tested with ASUS modules until OSHW lpnTPM with open-source TPM firmware is ready.</p>"},{"location":"variants/asus_kgpe_d16/tpm-mboot/#measured-boot-behaviour","title":"Measured boot behaviour","text":"<p>It is also possible to have builds without vboot:</p> <ul> <li>TPM 1.2 measured boot only (no vboot) for 2MB, 8MB and 16MB flash</li> <li>TPM 2.0 measured boot only (no vboot) for 2MB, 8MB and 16MB flash</li> </ul> <p>These targets are for cases where only the bootblock is intended to be locked to form Static Root of Trust for Measurement. For details how to lock flash depending on the firmware variant (with or without vboot) refer to SPI hardware write protection.</p> <p>Note the targets without vboot do not need to have any division into read-only and read-write partitions. Everything can be contained in a single COREBOOT flashmap region like in a standard coreboot build to have the largest free space for big payloads like heads.</p> <p>The variants without vboot have enabled measured boot with an additional option to initialize the TPM in bootblock in order to send the measurements directly to TPM in bootblock and other early stages. Otherwise the TPM measurements are cached in memory and sent to TPM PCRs late in ramstage during TPM setup. The downside of this approach is that the memory could be corrupted in the meantime and the measurements could be faked before they are migrated to the TPM.</p> <p>If you check the boot logs either on serial port on via cbmem utility you should see:</p> <pre><code>coreboot-asus_kgpe-d16_v0.2.0-15-g521dec6dff Wed Dec 15 11:43:34 UTC 2021 bootblock starting (log level: 8)...\nCPU INIT detected 00000000\nFound TPM SLB9665 TT 2.0 by Infineon\ntlcl_send_startup: Startup return code is 0\nTPM: Write digests cached in TCPA log to PCR\nTPM: Write digest for FMAP: FMAP into PCR 2\ntlcl_extend: response is 0\nTPM: Write digest for FMAP: COREBOOT CBFS: bootblock into PCR 2\ntlcl_extend: response is 0\nTPM: Write digest for FMAP: COREBOOT CBFS: cmos.default into PCR 3\ntlcl_extend: response is 0\nTPM: setup succeeded\nCBFS: Found 'fallback/romstage' @0x80 size 0x2d688 in mcache @0x0004962c\nFMAP: area COREBOOT found @ 200 (8388096 bytes)\nTPM: Extending digest for FMAP: COREBOOT CBFS: fallback/romstage into PCR 2\ntlcl_extend: response is 0\nTPM: Digest of FMAP: COREBOOT CBFS: fallback/romstage to PCR 2 measured\nBS: bootblock times (exec / console): total (unknown) / 62 ms\n</code></pre> <p>When vboot is enabled and the verstage is being located, the bootblock measures itself and the verstage, but the measurements are sent to the TPM PCRs not in bootblock, but in verstage:</p> <pre><code>coreboot-asus_kgpe-d16_v0.2.0-15-g521dec6dff Wed Dec 15 11:43:34 UTC 2021 bootblock starting (log level: 8)...\nCPU INIT detected 00000000\nVBOOT: Loading verstage.\nCBFS: Found 'fallback/verstage' @0x8c300 size 0xd848 in mcache @0x0004c8fc\nFMAP: area COREBOOT found @ 609000 (2060288 bytes)\nTPM: Digest of FMAP: COREBOOT CBFS: fallback/verstage to PCR 2 logged\n\ncoreboot-asus_kgpe-d16_v0.2.0-15-g521dec6dff Wed Dec 15 11:43:34 UTC 2021 verstage starting (log level: 8)...\nVBNV: CMOS invalid, restoring from flash\nFMAP: area RW_NVRAM found @ 80000 (16384 bytes)\nspi_init: SPI base fec10000\nManufacturer: ef\nSF: Detected ef 4017 with sector size 0x1000, total 0x800000\nVBNV: Restore from flash failed\nFound TPM SLB9665 TT 2.0 by Infineon\ntlcl_send_startup: Startup return code is 0\nTPM: Write digests cached in TCPA log to PCR\nTPM: Write digest for FMAP: FMAP into PCR 2\ntlcl_extend: response is 0\nTPM: Write digest for FMAP: COREBOOT CBFS: bootblock into PCR 2\ntlcl_extend: response is 0\nTPM: Write digest for FMAP: COREBOOT CBFS: cmos.default into PCR 3\ntlcl_extend: response is 0\nTPM: Write digest for FMAP: COREBOOT CBFS: fallback/verstage into PCR 2\ntlcl_extend: response is 0\nTPM: Write digest for FMAP: COREBOOT CBFS: cmos_layout.bin into PCR 2\ntlcl_extend: response is 0\nTPM: setup succeeded\n</code></pre>"},{"location":"variants/dell_optiplex/building-manual/","title":"Dell OptiPlex 7010/9010 Dasharo - building manual","text":"<p>Please read the overview page first!</p> <p>To build Dasharo compatible with Dell OptiPlex 7010/9010, follow the steps below:</p> <ol> <li> <p>Clone the coreboot repository:</p> <pre><code>git clone https://github.com/dasharo/coreboot.git\n</code></pre> <pre><code>cd coreboot\n</code></pre> <p>Replace vX.Y.Z with valid version:</p> <pre><code>git checkout dell_optiplex_9010_vX.Y.Z\n</code></pre> <p>Checkout submodules:</p> <pre><code>git submodule update --init --recursive --checkout\n</code></pre> </li> <li> <p>Start docker container:</p> <ul> <li>To build <code>Dasharo (coreboot+SeaBIOS) v0.1.0</code>:</li> </ul> <pre><code>   docker run --rm -it \\\n-v $PWD:/home/coreboot/coreboot \\\n-w /home/coreboot/coreboot \\\ncoreboot/coreboot-sdk:2022-04-04_9a8d0a03db /bin/bash\n</code></pre> <ul> <li>To build <code>Dasharo (coreboot+UEFI) v0.1.0</code>:</li> </ul> <pre><code>   docker run --rm -it \\\n-v $PWD:/home/coreboot/coreboot \\\n-w /home/coreboot/coreboot \\\ncoreboot/coreboot-sdk:2021-09-23_b0d87f753c /bin/bash\n</code></pre> <p>To understand difference between versions please read FAQ.</p> </li> <li> <p>Inside of the container, configure and start the build process:</p> <pre><code>make distclean\n</code></pre> <ul> <li>To build <code>Dasharo (coreboot+SeaBIOS) v0.1.0</code></li> </ul> <pre><code>   cp configs/config.dell_optiplex_9010 .config\n</code></pre> <ul> <li>To build <code>Dasharo (coreboot+UEFI) v0.1.0</code></li> </ul> <pre><code>   cp configs/config.dell_optiplex_9010 .config\n</code></pre> <ul> <li>To build <code>Dasharo (coreboot+SeaBIOS) v0.1.0</code> debug version (very verbose logging).</li> </ul> <pre><code>   cp configs/config.dell_optiplex_9010.debug .config\n</code></pre> <ul> <li>To build <code>Dasharo (coreboot+UEFI) v0.1.0</code> debug version (very verbose logging).</li> </ul> <pre><code>   cp configs/config.dell_optiplex_9010.uefi.debug .config\n</code></pre> <pre><code>make olddefconfig\n</code></pre> <pre><code>make\n</code></pre> <p>or simply:</p> <pre><code>make distclean &amp;&amp; cp configs/CONFIG_NAME .config &amp;&amp; make olddefconfig &amp;&amp; make\n</code></pre> </li> </ol> <p>This will produce a Dasharo binary placed in <code>build/coreboot.rom</code>, which can be flashed in following ways, depending on your situation:</p> <ul> <li>To flash Dasharo first time refer to initial deployment manual.</li> <li>To update Dashro refer firmware update.</li> </ul>"},{"location":"variants/dell_optiplex/faq/","title":"FAQ","text":""},{"location":"variants/dell_optiplex/faq/#i-see-orange-led-blinking-but-no-output-is-my-board-broken","title":"I see orange LED blinking, but no output, is my board broken?","text":"<p>It means ME is broken and backup firmware would be required to recover it. Please follow additional recovery step to fix that problem.</p>"},{"location":"variants/dell_optiplex/faq/#i-see-white-led-but-no-output-is-my-board-broken","title":"I see white LED, but no output, is my board broken?","text":"<p>There maybe many reasons of this behavior.</p> <p>One may be, it boots fine but there is no visible output. It may mean firmware stuck at some point or maybe platform booting normally but all output is disabled.</p> <p>Debugging that requires rebuilding with <code>CONFIG_DEFAULT_CONSOLE_LOGLEVEL_8=y</code>. Instruction for that can be found here.</p>"},{"location":"variants/dell_optiplex/faq/#is-it-safe-to-work-without-heatsink","title":"Is it safe to work without heatsink?","text":"<p>It should be safe for debugging and recovery purposes. CPU after ~1min will reach temperature limits and will shutdown the platform.</p>"},{"location":"variants/dell_optiplex/faq/#cpu-was-replaced-warm-reset-required-loop","title":"CPU was replaced &amp; warm reset required loop","text":"<p>If serial console logs contain:</p> <pre><code>[NOTE ]  ME: Wrong mode : 15\n[NOTE ]  ME: HFS error : 15\n[NOTE ]  ME: FWS2: 0xffffffff\n[NOTE ]  ME:  Bist in progress: 0x1\n[NOTE ]  ME:  ICC Status      : 0x3\n[NOTE ]  ME:  Invoke MEBx     : 0x1\n[NOTE ]  ME:  CPU replaced    : 0x1\n[NOTE ]  ME:  MBP ready       : 0x1\n[NOTE ]  ME:  MFS failure     : 0x1\n[NOTE ]  ME:  Warm reset req  : 0x1\n[NOTE ]  ME:  CPU repl valid  : 0x1\n[NOTE ]  ME:  (Reserved)      : 0x3\n[NOTE ]  ME:  FW update req   : 0x1\n[NOTE ]  ME:  (Reserved)      : 0xf\n[NOTE ]  ME:  Current state   : 0xff\n[NOTE ]  ME:  Current PM event: 0xf\n[NOTE ]  ME:  Progress code   : 0xf\n[NOTE ]  CPU was replaced &amp; warm reset required...\n[INFO ]  system_reset() called!\n</code></pre> <p>It means ME is broken and backup firmware would be required to recover it. Please follow additional recovery step to fix that problem.</p> <p>This may happen accidentally when you flash whole 12MB BIOS binary without passing parameters about FMAP.</p>"},{"location":"variants/dell_optiplex/firmware-update/","title":"Firmware update","text":"<p>Please read the overview page first!</p> <p>Following documentation describe process of Dasharo open-source firmware distribution update.</p>"},{"location":"variants/dell_optiplex/firmware-update/#os-booting","title":"OS booting","text":"<p>For simplicity we recommend using network booted Dasharo Tools Suite.</p>"},{"location":"variants/dell_optiplex/firmware-update/#dasharo-corebootseabios-and-dasharo-corebootuefi-update","title":"Dasharo (coreboot+SeaBIOS) and Dasharo (coreboot+UEFI) update","text":"<ul> <li>Make sure a wired network cable to the device's Ethernet port</li> <li>Perform DTS network boot<ul> <li>Dasharo (coreboot+SeaBIOS)<ul> <li>While booting enter SeaBIOS menu using Esc</li> <li>Choose option <code>iPXE (PCI 00:19.0)</code></li> </ul> </li> <li>Dasharo (coreboot+UEFI)<ul> <li>Press F7 and choose iPXE Network boot</li> </ul> </li> </ul> </li> <li>In the Dasharo Network Boot Menu, select the <code>Dasharo Tools Suite</code> option</li> <li>Enter shell using option <code>9)</code></li> <li>Download the Dell OptiPlex 7010/9010 Dasharo from   release section or   build from source.</li> <li>Flash it using:</li> </ul> <pre><code>flashrom -p internal --ifd -i bios -w &lt;dasharo_optiplex_9010_firmware&gt;\n</code></pre> <p>Please note that not using <code>-i bios</code> may lead to this issue</p>"},{"location":"variants/dell_optiplex/hardware-matrix/","title":"Hardware configuration matrix","text":"<p>Please read the overview page first!</p> <p>The tables below contain information about current components of the testing environment for Dell OptiPlex workstations available in 3mdeb testing laboratory.</p>"},{"location":"variants/dell_optiplex/hardware-matrix/#optiplex-7010","title":"OptiPlex 7010","text":"Component Description CPU Intel Core iTBD CPU Cooler GPU N/A RAM TBD HDD TBD SSD TBD Flash memory TBD Network Local network wired connection Attached devices 1. TBD USB stick Power Supply TBD Power Control 1. Sonoff TBD Remote Testing Environment 1. RTE TBD"},{"location":"variants/dell_optiplex/hardware-matrix/#optiplex-9010","title":"OptiPlex 9010","text":"Component Description CPU Intel Core iTBD CPU Cooler GPU N/A RAM TBD HDD TBD SSD TBD Flash memory TBD Network Local network wired connection Attached devices 1. TBD USB stick Power Supply TBD Power Control 1. Sonoff Web Server Remote Testing Environment 1. RTE <code>v1.0.0</code> (firmware <code>v0.5.3</code>) connected via RS232"},{"location":"variants/dell_optiplex/hardware-matrix/#optiplex-9010-full-miczyg","title":"OptiPlex 9010 full (miczyg)","text":"<p>This is private setup.</p> Component Description CPU Intel Core i7-3770Stock Dell CPU Cooler GPU 1. Integrated Intel HD Graphics 2. Dell Radeon HD7570 low profile, half height in PCIe x16 slot RAM SK-Hynix HMT451U6BFR8A-PB x4 HDD None SSD 1. NVMe: PLEXTOR PX-512M9PeG2. SATA SSD: SSDPR-CL100-240 3. SATA SSD: Micron_1100_MTFD Flash memory 12MB (8+4) dual SPI flash Network Local network wired connection Attached devices 1. i-tec Adapter PCI-E SATA 2x M.2 Card PCI-E/SATA in PCIe x4 slot 2. PS/2 mouse: Fujitsu M530 via USB to PS/2 adapter 3. PS/2 keyboard: Media-Tech MT122K 4. Display: Samsung SyncMaster 22335. Stock Dell DVD RW Power Supply Stock Dell PSU Power Control Manual Remote Testing Environment RTE <code>v1.0.0</code> (firmware <code>v0.5.3</code>) connected via RS232"},{"location":"variants/dell_optiplex/initial-deployment/","title":"Initial deployment","text":"<p>Please read the overview page first!</p> <p>Following documentation describe process of replacing original BIOS/UEFI firmware with Dasharo open-source firmware. Following procedure is supported for following models</p> <p> Vendor Model Dell OptiPlex 7010 SFF Dell OptiPlex 7010 DT Dell OptiPlex 9010 SFF Dell OptiPlex 9010 MT <p></p>"},{"location":"variants/dell_optiplex/initial-deployment/#hardware-preparation","title":"Hardware preparation","text":""},{"location":"variants/dell_optiplex/initial-deployment/#flash-descriptor-security-override","title":"Flash descriptor security override","text":"<p>To perform any SPI NOR flash operations in the presence of ME, we have to put it in the flash descriptor security override mode. Please follow the below steps:</p> <ol> <li> <p>Open the case by lifting the handle on the case.</p> <p></p> </li> <li> <p>Lift the whole top cover and take it off.</p> <p></p> </li> <li> <p>Now, it is time to release the disk dock. Lift the handle of the CD/DVD drive    bay.</p> <p></p> </li> <li> <p>Pull the CD/DVD drive bay to the CPU fan side.</p> <p></p> </li> <li> <p>Move the blue disk dock handle to the CPU fan side.</p> <p></p> </li> <li> <p>The screw should be at the giant hole now. Lift the whole dock to    remove it.</p> <p></p> </li> <li> <p>When the dock is removed, the service mode jumper should be visible.</p> <p></p> </li> <li> <p>Place the jumper in the place marked by the red rectangle.</p> <p></p> </li> <li> <p>It should look like this.</p> <p></p> </li> <li> <p>Power on the machine. You should see a warning that the service jumper is active. Press F1 to proceed and boot to your Linux system.</p> <p></p> </li> </ol>"},{"location":"variants/dell_optiplex/initial-deployment/#initial-deployment_1","title":"Initial deployment","text":"<p>To ensure a smooth deployment process, it is recommended to use the latest version of DTS available from the releases page. Once you have obtained it, you can then proceed with following the Dasharo zero-touch initial deployment section procedure. This will help you set up Dasharo effectively and without manual intervention.</p>"},{"location":"variants/dell_optiplex/initial-deployment/#verification","title":"Verification","text":"<ol> <li>If everything went well (flashrom has verified the flash content),</li> <li>Shut down the machine, move the jumper to the original place</li> <li>Power on the machine.</li> <li>After rebooting, you should see the Dasharo Workstation logo when booting.    When the logo appears, you may press Esc to select the boot device if    you want to reboot from another source.</li> </ol> <p>From that point you can use firmware update methods to update your firmware.</p>"},{"location":"variants/dell_optiplex/initial-deployment/#troubleshooting","title":"Troubleshooting","text":"<p>If you do not see the logo after a few seconds, something probably went wrong, or you encountered a bug. If the LED on the power button shines white, that means the platform booted correctly.</p> <p></p> <p>If the power button LED constantly shines in orange color, that means you have hit an error. The LED will start blinking soon.</p> <p> If you see the logo and after that system does not starts (black screen), please take the following steps:</p> <ol> <li>Put a bootable USB stick to the USB port.</li> <li>Restart the computer using the power button.</li> <li>Press the Esc key to enter a boot menu.</li> <li>Choose a USB drive from the list.</li> <li>Re-install the operating system.</li> </ol> <p>Common deployment problems you can find in FAQ.</p>"},{"location":"variants/dell_optiplex/initial-deployment/#ubuntu-installation","title":"Ubuntu installation","text":"<p>Ubuntu legacy installers have problems with graphical setup mode. When you see this error:</p> <pre><code>graphics initialization failed\nError setting up gfxboot\nboot:_\n</code></pre> <p>You need a workaround to proceed with the installation. To boot the installer, type <code>live-install</code> and press <code>ENTER</code>. It will boot to Ubuntu Live, and the installer will launch automatically.</p> <p>Version affected: Dasharo Workstation v0.1.</p> <p>If you see blinking yellow LED and black screen after reboot: 1. Unplug the power supply cable 2. Wait for the 30s 3. Plug in the power supply again (machine should start automatically)</p>"},{"location":"variants/dell_optiplex/initial-deployment/#bug-reporting","title":"Bug reporting","text":"<p>If you encountered an error or bug, please report it in the Dasharo Issues repo.</p>"},{"location":"variants/dell_optiplex/overview/","title":"Overview","text":"<p>Dell OptiPlex 7010/9010 SFF is small SOHO desktop computer sometimes used as firewall or NAS. To learn more about our motivation for the coreboot port and Dasharo compatible with Dell OptiPlex 7010/9010 SFF please check references section. If you want to build, initially deploy, update or recover your setup please check documentation sections on the left.</p>"},{"location":"variants/dell_optiplex/overview/#status","title":"Status","text":"<p>Dasharo compatible with Dell OptiPlex 7010/9010 is a community-driven effort. We work on this in our free time, since we have no sponsor for this project. To address the issue we organize virtual hackathon called OptiPlex Tuesday on Dasharo Matrix almost every Tuesday. If you are interested in this project, you can consider joining the event or supporting us in other way.</p> <p>The most advanced code is on rel_v0.1.0 branch and the most advanced documentation related to <code>rel_v0.1.0</code> branch is already available from menu on the left. This code supports only <code>Dasharo (coreboot+SeaBIOS)</code>, so legacy boot. UEFI is also quite ready, but we need to release <code>v0.1.0</code> properly first.</p>"},{"location":"variants/dell_optiplex/overview/#references","title":"References","text":"<ul> <li>Dell OptiPlex and coreboot - a story about porting cursed hardware (part 1)</li> <li>Dell OptiPlex and coreboot - a story about porting cursed hardware (part 2)</li> <li>Dasharo for Dell OptiPlex 7010 / 9010</li> </ul>"},{"location":"variants/dell_optiplex/recovery/","title":"Recovery","text":"<p>Please read the overview page first!</p> <p>Following documentation describes the process of recovering hardware from brick state with RTE and Dasharo open-source firmware. Following procedure is supported for following models</p> <p> Vendor Model Dell OptiPlex 7010 SFF Dell OptiPlex 7010 DT Dell OptiPlex 9010 SFF <p></p>"},{"location":"variants/dell_optiplex/recovery/#step-1-prepare-hardware","title":"Step 1: Prepare hardware","text":"<ol> <li>To prepare hardware please follow    hardware preparation    procedure.</li> <li>Follow instruction in the video to remove heatsink:</li> </ol>"},{"location":"variants/dell_optiplex/recovery/#step-2-find-spi_1-spi_2spi_3","title":"Step 2: Find SPI_1, SPI_2/SPI_3","text":""},{"location":"variants/dell_optiplex/recovery/#step-3-connect-soic-8-pomona-clip-between-rte-and-target","title":"Step 3: Connect SOIC-8 Pomona clip between RTE and target","text":"<p>Connect SOIC-8 Pomona according to MX25L3206E datasheet.</p> <p> </p> <p> </p> <p> RTE J7 Pomona SOIC clip CS pin 1 (upside) MISO pin 2 (upside) GND pin 4 (upside) VCC pin 5 (downside) SCLK pin 7 (downside) MOSI pin 8 (downside) <p></p> <p>Numbers 1-4 have to be on one side and numbers 5-8 have to be on the other side of the clip.</p> <p> </p> <p> </p> <p>Clip on the <code>SPI_1</code> chip. Match pin 1 (<code>CS</code>) of the Pomona clip with the first pin of <code>SPI_1</code> chip, marked with a small dot engraved on the chip.</p> <p></p>"},{"location":"variants/dell_optiplex/recovery/#step-4-connect-rte","title":"Step 4: Connect RTE","text":"<ol> <li>Connect J2 Orange Pi Zero system debug output</li> <li>Power the board and confirm it boots</li> <li>Please note typical convention of USB-UART converter colors is as follows<ul> <li>black - GND</li> <li>red - +5V</li> <li>green - TX</li> <li>white - RX</li> </ul> </li> <li> <p>Connect terminal to RTE and read OS version:</p> <pre><code>sudo minicom -b 115200 -D /dev/ttyUSB0 -o -C /tmp/minicom.cap\n</code></pre> <ul> <li><code>-b 115200</code> sets baudrate</li> <li><code>-D /dev/ttyUSB0</code> points to USB-UART converter device, it can be   different if you already have some devices connected or you use different   operating system</li> <li><code>-o</code> skip initialization</li> <li><code>-C /tmp/minicom.cap</code> capture serial terminal output, if you will have   problems with exercises please post this file</li> <li>Login using following credentials:</li> </ul> <pre><code>login: root\npassword: meta-rte\n</code></pre> </li> </ol>"},{"location":"variants/dell_optiplex/recovery/#step-5-prepare-recovery-binary","title":"Step 5: Prepare recovery binary","text":"<p>Following procedure assume that you use recovery binary created during backup process. Backup has 12MB, so it have to be split</p> <pre><code>split -b4M bios_backup_YYYYMMDD.bin\n</code></pre>"},{"location":"variants/dell_optiplex/recovery/#step-6-flash-4mb-bios-part","title":"Step 6: Flash 4MB (BIOS) part","text":"<pre><code>echo 1 &gt; /sys/class/gpio/gpio405/value\n</code></pre> <pre><code>echo 1 &gt; /sys/class/gpio/gpio406/value\n</code></pre> <pre><code>echo 1 &gt; /sys/class/gpio/gpio404/value\n</code></pre> <p><code>xac</code> is third file resulting from the previous binary split, so it contains Dasharo code and data which fits into 4MB and in case of Dell OptiPlex 9010/7010 should be flashed to 4MB SPI.</p> <pre><code>flashrom -w xac -p linux_spi:dev=/dev/spidev1.0,spispeed=16000 -c \"MX25L3205D/MX25L3208D\"\n</code></pre>"},{"location":"variants/dell_optiplex/recovery/#optional-step-7-flash-8mb-me-part","title":"(Optional) Step 7: Flash 8MB (ME) part","text":"<p>If a more serious problem occurs, like broken ME, it may be necessary to use your firmware backup and restore content of 8MB chip.</p>"},{"location":"variants/dell_optiplex/recovery/#step-7a-connect-soic-16-pomona-clip-between-rte-and-target","title":"Step 7a: Connect SOIC-16 Pomona clip between RTE and target","text":"<p>Connect SOIC-16 Pomona according to MX25L6406E datasheet.</p> <p> </p> <p> </p> <p> RTE J7 Pomona SOIC clip VCC pin 2 (upside) CS pin 7 (upside) MISO pin 8 (upside) SCLK pin 16 (downside) MOSI pin 15 (downside) GND pin 10 (downside) <p></p> <p>Numbers 1-8 have to be on one side and numbers 9-16 have to be on the other side of the clip.</p> <p> </p> <p> </p> <p>Clip on the <code>SPI_2/SPI_3</code> chip. Match pin 1 (<code>HOLD#</code>) of the Pomona clip with the first pin of <code>SPI_2/SPI_3</code> chip, marked with a small dot engraved on the chip.</p> <p></p>"},{"location":"variants/dell_optiplex/recovery/#step-7b-flash-8mb-me-part","title":"Step 7b: Flash 8MB (ME) part","text":"<pre><code>echo 1 &gt; /sys/class/gpio/gpio405/value\n</code></pre> <pre><code>echo 1 &gt; /sys/class/gpio/gpio406/value\n</code></pre> <pre><code>echo 1 &gt; /sys/class/gpio/gpio404/value\n</code></pre>"},{"location":"variants/dell_optiplex/recovery/#dasharo-recovery","title":"Dasharo recovery","text":"<p>Use following procedure if your 4M flash contain Dasharo open-source firmware.</p> <pre><code>cat &gt; dell_optiplex.layout &lt;&lt;EOF\n00000000:00000fff fd\n00001000:00004fff gbe\n00005000:005fffff me\n00600000:007fffff unused\nEOF\n</code></pre> <pre><code>flashrom -w your_bios_backup.bin -p linux_spi:dev=/dev/spidev1.0,spispeed=16000 -c \"MX25L6406E/MX25L6408E\" -i fd -i me --layout dell_optiplex.layout\n</code></pre>"},{"location":"variants/dell_optiplex/recovery/#vendor-bios-recovery","title":"Vendor BIOS recovery","text":"<p>Use following procedure if your 4M flash contain vendor BIOS.</p> <pre><code>flashrom -w your_bios_backup_8M.bin -p linux_spi:dev=/dev/spidev1.0,spispeed=16000 -c \"MX25L6406E/MX25L6408E\"\n</code></pre>"},{"location":"variants/dell_optiplex/releases/","title":"Dasharo compatible with Dell OptiPlex 7010/9010 SFF","text":"<p>Please read the overview page first!</p> <p>Following Release Notes describe status of Open Source Firmware development for Dell OptiPlex 7010 SFF, DT and Dell OptiPlex 9010 SFF, MT.</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p>Subscribe to Dell OptiPlex 7010/9010 Dasharo Release Newsletter</p>"},{"location":"variants/dell_optiplex/test-matrix/","title":"Test matrix","text":""},{"location":"variants/dell_optiplex/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p>"},{"location":"variants/dell_optiplex/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. Display ports and LCD support DSP DSP003.001, DSP003.003, DSP004.001, DSP004.003 3. USB HID and MSC Support USB All 4. SMBIOS DMI DMI002.001, DMI003.001, DMI004.001, DMI005.001, DMI006.001 5. Custom boot logo CLG All 6. Audio subsystem AUD AUD001.001, AUD004.001, AUD005.001, AUD006.001 7. NVMe support\u00b9 NVM NVM001.001, NVM001.002 8. Network boot PXE Without PXE007.001 9. Debian Stable and Ubuntu LTS support LBT LBT003.001, LBT003.002, LBT004.001, LBT004.002 10. Custom boot menu key CBK All 11. PCI Express ports support PEX PEX001.001 12. EC and Super I/O initialization SIO SIO001.001, SIO002.001, SIO002.002, SIO003.001, SIO004.001, SIO004.002 13. Fan control FAN FAN001.002\u00b2 <p>1) Requires a PCIe x4 to M.2 adapter 2) Fans have to be checked manually. No support for reading the fan speed.    There is also no W83795G HWM on this machine.</p>"},{"location":"variants/dell_optiplex/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM TPM001.002 2. Measured Boot support MBO All"},{"location":"variants/dell_optiplex/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot bring up time measurement CBMEM All"},{"location":"variants/msi_z690/building-manual/","title":"Building Manual","text":"<p>We moved the page to MSI Desktops -&gt; Building Manual</p>"},{"location":"variants/msi_z690/community-test-results/","title":"Community Test Results","text":"<p>We moved the page to MSI Desktops -&gt; Community Test Results</p>"},{"location":"variants/msi_z690/cpu-hcl/","title":"CPU HCL","text":"<p>We moved the page to MSI Desktops -&gt; Hardware Compatibility</p>"},{"location":"variants/msi_z690/development/","title":"Development","text":"<p>We moved the page to MSI Desktops -&gt; Development</p>"},{"location":"variants/msi_z690/faq/","title":"FAQ","text":"<p>We moved the page to MSI Desktops -&gt; FAQ</p>"},{"location":"variants/msi_z690/firmware-update/","title":"Firmware Update","text":"<p>We moved the page to MSI Desktops -&gt; Firmware Update</p>"},{"location":"variants/msi_z690/gpu-hcl/","title":"GPU HCL","text":"<p>We moved the page to MSI Desktops -&gt; Hardware Compatibility</p>"},{"location":"variants/msi_z690/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/msi_z690/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configuration used for validation of the coreboot port on the MSI PRO Z690-A workstation. For additional information, please check the FAQ section.</p>"},{"location":"variants/msi_z690/hardware-matrix/#msi-pro-z690-a-wifi-ddr4-sn-07d2511_la1e012608","title":"MSI PRO Z690-A WiFi DDR4, SN: 07D2511_LA1E012608","text":"Component Description CPU Intel Core i5-12600K 3.7 GHz CPU Cooler Noctua NH-U12S RAM Slot 1: Kingston KF436C17BBK4/32 Slot 2: Kingston KF436C17BBK4/32 Slot 3: Kingston KF436C17BBK4/32 Slot 4: Kingston KF436C17BBK4/32 Flash memory Macronix MX25U25673G SSD Intel 670p 512 GB M26472-201 NVME USB pendrives 1. SanDisk Ultra  Flair USB 3.0 16 GB 2. Kingston DataTraveler 3.1Gen1 16 GB SD cards SanDisk Ultra microSD HC I 16 GB Attached devices 1. Logitech, Inc. Keyboard K120 2. Dell Mouse MS116p 3. 1-port USB Type-C Network Local network wired connection Power Supply SeaSonic FOCUS Plus Platinum Power Control Sonoff S20 EU type E Remote Testing Environment RTE v1.1.0 KVM PiKVM based on Raspberry Pi Zero 2w"},{"location":"variants/msi_z690/hardware-matrix/#msi-pro-z690-a-wifi-ddr4-sn-07d2511-la1e346864","title":"MSI PRO Z690-A WiFi DDR4, SN: 07D2511 LA1E346864","text":"Component Description CPU Intel Core i5-12600K 3.7 GHz CPU Cooler Noctua NH-U12S RAM Slot 1: Kingston KF436C17BBK4/32 Slot 2: Kingston KF436C17BBK4/32 Slot 3: Kingston KF436C17BBK4/32 Slot 4: Kingston KF436C17BBK4/32 Flash memory Macronix MX25U25673G SSD Intel 670p 512 GB M26472-201 NVME USB pendrives 1. SanDisk Ultra  Flair USB 3.0 16 GB 2. Kingston DataTraveler 3.1Gen1 16 GB SD cards SanDisk Ultra microSD HC I 16 GB Attached devices 1. Logitech, Inc. Keyboard K120 2. Dell Mouse MS116p 3. 1-port USB Type-C Network Local network wired connection Power Supply SeaSonic FOCUS Plus Platinum Power Control Sonoff S20 EU type E Remote Testing Environment RTE v1.1.0"},{"location":"variants/msi_z690/hardware-matrix/#msi-pro-z690-a-ddr5-sn-07d2511_la1e360456","title":"MSI PRO Z690-A DDR5, SN: 07D2511_LA1E360456","text":"Component Description CPU Intel Core i5-13600K 3.5 GHz CPU Cooler Noctua NH-U12S RAM Slot 1: CRUCIAL CT8G48C40U5 Slot 2: CRUCIAL CT8G48C40U5 Slot 3: CRUCIAL CT8G48C40U5 Slot 4: CRUCIAL CT8G48C40U5 Flash memory Macronix MX25U25635F SSD Intel 670p 512 GB M26472-201 NVME USB pendrives SanDisk Ultra  Flair USB 3.0 16 GB Attached devices 1. Logitech, Inc. Keyboard K120 2. Dell Mouse MS116p Network Local network wired connection Power Supply SeaSonic Focus PX-750 Power Control Sonoff S20 EU type E Remote Testing Environment RTE v1.1.0 KVM PiKVM based on Raspberry Pi Zero 2w"},{"location":"variants/msi_z690/initial-deployment/","title":"Initial Deployment","text":"<p>We moved the page to MSI Desktops -&gt; Initial Deployment</p>"},{"location":"variants/msi_z690/memory-hcl/","title":"Memory HCL","text":"<p>We moved the page to MSI Desktops -&gt; Hardware Compatibility</p>"},{"location":"variants/msi_z690/openness_analysis/","title":"Dasharo Openness Score","text":"<p>This document aims to compare the openness of Dasharo firmware and AMI BIOS for MSI PRO Z690-A DDR4 WiFI.</p> <p>There is an ongoing discussion about the methodology of the openness metric.</p>"},{"location":"variants/msi_z690/openness_analysis/#bios-versions-used-in-the-analysis","title":"BIOS versions used in the analysis","text":"<ul> <li>Dasharo v1.0.0</li> <li>AMI BIOS v1.0</li> </ul>"},{"location":"variants/msi_z690/openness_analysis/#msi-original-bios-from-ami","title":"MSI original BIOS from AMI","text":"<p>In the case of the AMI BIOS, the entire image should be considered proprietary. There are several parts of the image that have a well-known structure or make use of a public standard. However, to decode these structures, one needs to employ reverse-engineering tools and techniques to know what structures are present. For simplicity we treat UEFI variables as BIOS data. All empty padding regions between FFS and all volume free spaces are treated as unused space.</p>"},{"location":"variants/msi_z690/openness_analysis/#dasharo-bios","title":"Dasharo BIOS","text":""},{"location":"variants/msi_z690/openness_analysis/#cbfs-regions","title":"CBFS regions","text":"<p>The below table shows only a single FMAP region COREBOOT. There are also two RW vboot partitions containing copies of the same components from COREBOOT region (except the verstage, bootblock and cbfs master header). Note that there are other regions to store non-volatile data like MRC cache, UEFI variables or vboot state backup.</p> <p>Region COREBOOT:</p> File Size (bytes) Is it open-source? cbfs master header 32 \u2714 fallback/romstage 95152 \u2714 cpu_microcode_blob.bin 944144 \u2716 intel_fit 80 \u2714 fallback/ramstage 127231(LZMA) \u2714 config 1378 \u2714 revision 842 \u2714 build_info 142 \u2714 fallback/dsdt.aml 9973 \u2714 vbt.bin 1254 (LZMA) \u2714 (empty) 2596 N/A fspm.bin 720896 \u2716 fsps.bin 290481 (LZ4) \u2716 fallback/postcar 37504 \u2714 fallback/payload 1813047 (LZMA) \u2714 (with exceptions) fallback/verstage 77008 \u2714 (empty) 1055076 N/A bootblock 31808 \u2714 <p>The payload used is Tianocore EDK2 UEFIPayload. In order to support network boot over i225 Ethernet, an i225 EFI driver is included in the payload. The driver is 154064 bytes in size uncompressed (63445 LZMA compressed). The 63445 bytes will be added to closed source pool and removed from the payload size in the calculations.</p> <p>Note that UEFIPayload has support for Option ROM loading, for example to support external graphics card output during POST. It is an additional closed-source code which depends on the hardware configuration and is not included in the calculations.</p> Type Total size (bytes) Percent COREBOOT region 5208644 N/A empty 1057672 N/A code size (open + closed) 4150972 N/A open-source 2132006 51.36% closed-source 2018966 48.64% <p>Region FW_MAIN_A/FW_MAIN_B:</p> File Size (bytes) Is it open-source? fallback/romstage 95152 \u2714 cpu_microcode_blob.bin 944144 \u2716 fallback/ramstage 127231(LZMA) \u2714 config 1378 \u2714 revision 842 \u2714 build_info 142 \u2714 fallback/dsdt.aml 9973 \u2714 (empty) 100 N/A fspm.bin 720896 \u2716 fsps.bin 290481 (LZ4) \u2716 vbt.bin 1254 (LZMA) \u2714 fallback/postcar 37504 \u2714 fallback/payload 1813047 (LZMA) \u2714 (with exceptions) (empty) 1306724 N/A <p>The FW_MAIN_A/FW_MAIN_B regions have been expanded first with CBFStool to show whole empty space for given region.</p> Type Total size (bytes) Percent FW_MAIN_A/B region 5340928 N/A empty 1306824 N/A code size (open + closed) 4042044 N/A open-source 2023078 50.05% closed-source 2018966 49.95% <p>COREBOOT has slightly higher open-source code percentage due to verstage and bootblock not being present in FW_MAIN_A/B regions. Summary for all 3 regions:</p>"},{"location":"variants/msi_z690/openness_analysis/#whole-flash-image","title":"Whole flash image","text":"<p>To get the overall BIOS region and full image percentage of open source code we ignore unused space or FMAP regions which do not have CBFS and are merely data generated during build process or boot process. The BIOS region percentage is calculated as follows:</p> <p><code>(COREBOOT region open-source size + FW_MAIN_A/B open-source size * 2) * 100</code> divided by <code>(COREBOOT region code size + FW_MAIN_A/B code size * 2)</code>.</p> <p>Full image code only percentage is calculated as follows:</p> <p><code>(COREBOOT region open-source size + FW_MAIN_A/B open-source size * 2) * 100</code> divided by <code>(ME + descriptor + COREBOOT region code size + FW_MAIN_A/B code size * 2)</code>.</p> Region Size (bytes) Open-source percent (bytes) descriptor 0x1000 0% ME 0x3D9000 0% unused hole 0xC26000 N/A BIOS 0x1000000 50.5% Summary 0x2000000 38% <p>Comparison of pure code open-source vs closed-source.</p> <p></p> <p></p> <p>This was rather expected result.</p> <p>AMI BIOS region statistics:</p> Type Total size (bytes) Percent BIOS data (UEFI var) 524288 N/A empty 7638472 N/A code size (open + closed) 8614456 N/A open-source 0 0% closed-source 8614456 100% <p>Full BIOS region openness compared to AMI BIOS with data and free space:</p> <p></p> <p></p> <p>That mean</p> <p>Full image openness code only compared to AMI BIOS:</p> <p></p> <p></p> <p>Few conclusions from the above charts:</p> <ul> <li>Dasharo needs more space for BIOS data, it is mainly dictated by the usage of   vboot which needs a significant amount of space for VBLOCKs, GBB and other   stuff</li> <li>BIOS data is rather comparable between the firmware distributions, although   it must be noted that vboot also generates BIOS data as explained above</li> <li>Dasharo has much less free space than AMI, however it must be noted that   Dasharo contains 3! copies of functional firmware, but AMI only a single   copy. Without vboot, BIOS region free space would reach over 70%!</li> <li>While BIOS region's Dasharo Openness Score is 50%, when compared with Intel   ME and descriptor, the overall Dasharo Openness Score is 38%</li> <li>ME share is different because the size of BIOS code is different on both   distributions</li> </ul>"},{"location":"variants/msi_z690/openness_analysis/#summary","title":"Summary","text":"Image Open-source percent (bytes) AMI BIOS 0% Dasharo 38% <p>Dasharo code takes approximately 4MB of space for a single region + some space for data which is less than 1MB. This reduces the single copy of firmware from 8MB to roughly 4MB compared to AMI BIOS. This is roughly 50% reduction of TCB! More over, given the 50% share in size of open-source code, Dasharo liberates BIOS in 75%!</p> <p></p> <p></p> <p>Few conclusions:</p> <ul> <li>Although the reduction of TCB is 50% it cannot be seen on the charts due to   3 copies of the firmware in Dasharo image. It also effectively increases the   percentage of BIOS code both open and closed source in the full image.</li> <li>More significant differences would be seen with vboot disabled, there would   be more free space and even less BIOS code both open and closed</li> </ul>"},{"location":"variants/msi_z690/overview/","title":"Overview","text":"<p>We moved the page to MSI Desktops -&gt; Overview</p> <p> </p>"},{"location":"variants/msi_z690/recovery/","title":"Recovery","text":"<p>We moved the page to MSI Desktops -&gt; Recovery</p>"},{"location":"variants/msi_z690/releases/","title":"MSI PRO Z690-A (WIFI) (DDR4) Dasharo Release Notes","text":"<p>Following Release Notes describe status of Open Source Firmware development for MSI PRO Z690-A (WIFI) DDR4 and MSI PRO Z690-A (WIFI).</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> Subscribe to Dasharo compatible with MSI PRO Z690-A Newsletter </p> <p>Test results for this platform can be found here.</p>"},{"location":"variants/msi_z690/releases/#v112-2023-09-06","title":"v1.1.2 - 2023-09-06","text":""},{"location":"variants/msi_z690/releases/#added","title":"Added","text":"<ul> <li>MSI FLASHBIOS recovery support</li> <li>Raptor Lake-S CPU support</li> <li>MSI ACPI device that triggers automatic driver and utility installation manager</li> <li>Support for logo customization</li> <li>UEFI 2.8 errata C compliance in EDKII fork</li> <li>Firmware Update Mode feature</li> </ul>"},{"location":"variants/msi_z690/releases/#changed","title":"Changed","text":"<ul> <li>This is a Dasharo Entry Subscription release</li> <li>Updated microcode to newer version, refer to SBOM</li> <li>Updated ME to newer version, refer to SBOM</li> </ul>"},{"location":"variants/msi_z690/releases/#fixed","title":"Fixed","text":"<ul> <li>Nvidia RTX 3060 does not spawn HD Audio device in Device Manager</li> <li>MSI FLASHBIOS feature is not working</li> <li>Reset to defaults with F9 causes the wrong settings to be restored</li> <li>Popup with information about recovery mode is displayed after flashing with a valid binary</li> <li>Too low watchdog timeout value causing reset loops on DDR5 boards with   bigger amount of RAM</li> <li>Chipset Watchdog timeout value does not change actual watchdog trigger time</li> <li>Missing ACPI objects errors in Linux dmesg</li> <li>Missing Setup Password option</li> </ul>"},{"location":"variants/msi_z690/releases/#known-issues","title":"Known issues","text":"<ul> <li>Windows 11 installer unable to detect i225 Ethernet NIC</li> <li>No audio playback via headset</li> <li>Cannot wake from suspend via RTC on QubesOS</li> </ul>"},{"location":"variants/msi_z690/releases/#binaries","title":"Binaries","text":"<p>This is a Dasharo Entry Subscription Release. To obtain access to the pre-built binaries you will have to become the Dasharo Entry Subscription subscriber. You will get the access to all of the firmware updates for the duration of the subscription via Dasharo Entry Subscription newsletter.</p>"},{"location":"variants/msi_z690/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 4.18 revision 197229de</li> <li>Dasharo EDKII fork based on edk2-stable202002 revision 94f562a7</li> <li>iPXE based on 6ba671acd9 revision 6ba671ac</li> <li>vboot based on b76cd8c806 revision b76cd8c8</li> <li>Intel Management Engine based on v16.1.30.2255 revision 2a8875ec</li> <li>Intel Flash Descriptor based on v1.0 revision 2a8875ec</li> <li>Intel Firmware Support Package based on ADL-S C.0.75.10 revision 2fea9a2f</li> <li>Intel microcode based on ADL C0 0x0000002c revision microcode-20230613</li> <li>Intel microcode based on ADL H0 0x0000002c revision microcode-20230613</li> <li>Intel microcode based on RPL B0 0x00000113 revision microcode-20230613</li> </ul>"},{"location":"variants/msi_z690/releases/#v111-2023-02-23","title":"v1.1.1 - 2023-02-23","text":"<p>Test results for this release can be found here.</p> <p>To get more details about the changes one may read the Dasharo v1.1.1 release blog post</p>"},{"location":"variants/msi_z690/releases/#added_1","title":"Added","text":"<ul> <li>Early boot DMA protection menu option</li> <li>ACPI PCI interrupt routing for CPU PCIe Root Ports</li> <li>OC Watchdog ACPI device as in MSI firmware</li> </ul>"},{"location":"variants/msi_z690/releases/#changed_1","title":"Changed","text":"<ul> <li>Updated SMMSTORE driver to upstream version in UEFI Payload</li> <li>Improved visual comfort in the boot manager</li> </ul>"},{"location":"variants/msi_z690/releases/#fixed_1","title":"Fixed","text":"<ul> <li>MSI PRO Z690-A WIFI DDR4 doesn't initialize IGP on certain Processors models</li> <li>MSI PRO Z690-A WIFI DDR4 with two Video Cards (2x Radeon 5600XT) has issues related to MMIO resource allocation</li> <li>Suspend doesn't work in Qubes OS with v1.1.0</li> <li>Intel XTU on Windows reports \"The platform does not support overclocking\" on the MSI PRO Z690-A WIFI DDR4 with a K-series Processor</li> <li>SATA ports malfunction or Hot-Plug function disabled</li> <li>Platform sometimes automatically powers on after power off</li> <li>GPIO controller ACPI device yellow bang in Windows device manager</li> <li>Resource conflicts with chipset internal P2SB PCI device being incorrectly   defined and initialized in coreboot</li> <li>Reset button hanging the platform for up to 2 minutes due to watchdog bug</li> </ul>"},{"location":"variants/msi_z690/releases/#known-issues_1","title":"Known issues","text":"<ul> <li>MSI FLASHBIOS feature is not working</li> <li>Reset to defaults with F9 causes the wrong settings to be restored</li> </ul>"},{"location":"variants/msi_z690/releases/#binaries_1","title":"Binaries","text":"<p>msi_ms7d25_v1.1.1_ddr4.rom sha256 sha256.sig</p> <p>msi_ms7d25_v1.1.1_ddr5.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/msi_z690/releases/#sbom-software-bill-of-materials_1","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 912a262b7bf revision aa4701cd</li> <li>Dasharo EDKII fork based on dd7523b5b1 revision a913e338</li> </ul>"},{"location":"variants/msi_z690/releases/#v110-2022-11-22","title":"v1.1.0 - 2022-11-22","text":""},{"location":"variants/msi_z690/releases/#added_2","title":"Added","text":"<ul> <li>Vboot recovery popup informing that platform has booted in recovery mode</li> <li>TCG2 TPM Physical Presence Interface support</li> <li>Support for DDR5 board variant</li> <li>PS/2 Controller enable/disable option</li> <li>Chipset watchdog support during boot and watchdog configuration menu</li> <li>Early boot DMA protection</li> <li>Option to reset Secure Boot keys to defaults</li> <li>Intel ME disable support and menu options</li> <li>Dasharo setup password</li> <li>SED/OPAL disk password support</li> <li>SATA disk password</li> <li>Firmware performance reporting</li> <li>USB stack and mass storage enable/disable option</li> <li>Network Boot enable/disable option</li> <li>SMM BIOS Write Protection support and enable/disable option</li> <li>AcpiView command to UEFI Shell</li> <li>Platform will beep 12 times and blink HDD led on critical firmware errors,   e.g. if memory training failed</li> <li>PCIe 5.0 firmware caching in flash which allows to disable ME without losing   PCIe 5.0 port functionality</li> <li>cbmem logging from UEFI Payload is now supported and one can check complete   firmware logs from OS using coreboot's cbmem utility</li> <li>Added Intel default settings for missing Alder Lake S CPUs</li> </ul>"},{"location":"variants/msi_z690/releases/#changed_2","title":"Changed","text":"<ul> <li>Added new ACPI Platform driver that installs coreboot exposed ACPI tables and   all allows native EDK2 ACPI table protocol to install new tables, e.g.   Firmware Performance Data Table, BGRT (Boot Logo) of VFCT (AMD GPU ACPI   table)</li> <li>Secure Boot is now disabled by default with all keys erased</li> <li>iPXE is now built from source using coreboot-sdk and   included externally into UEFI Payload</li> <li>Dasharo setup menu full screen mode support</li> <li>Disabled PCIe ASPM and Clock PM for better PCIe device compatibility</li> <li>Disabled GPIO programming by FSP, coreboot handles the GPIO completely. This   additionally fixes a bug in FSP which did not enable SATA DEVSLP properly.</li> <li>Changed Super I/O pin for PECI mode to reflect vendor firmware setting</li> <li>Switched from IOT FSP to public ADL Client FSP</li> <li>Switched to include microcode from public Intel microcode repository</li> <li>Disabled PCIe hotplug</li> <li>Network boot disabled by default, now configurable via menu option</li> </ul>"},{"location":"variants/msi_z690/releases/#fixed_2","title":"Fixed","text":"<ul> <li>Vboot recovery popup is displayed before logo, so that logo do not disappear   after popup is displayed</li> <li>Wrong Tau values from Turbo Boost</li> <li>PCI Express OptionROM loading causing certain dGPU cards to not work during   POST</li> <li>PS/2 keyboard detection and inclusion to platform Console Input   causing long delays in Ventoy or lockups in USB enumeration</li> <li>Incorrect USB2 PHY tuning values for USB-C ports causing hard USB controller   lockups during USB enumeration and resulting in firmware hangs as long as USB   Type-C devices were plugged or devices being unable to detect and enumerate   in OS</li> <li>Broken PCI resource parsing above 4G</li> <li>Incorrect SMBIOS product name for non-WiFi variants</li> <li>USB storage devices disappear after reboot/power failure</li> </ul>"},{"location":"variants/msi_z690/releases/#known-issues_2","title":"Known issues","text":"<ul> <li>MSI FLASHBIOS feature is not working</li> <li>MMIO resource allocation issues with two Video Cards</li> <li>Slow video performance with Radeon 5600XT</li> <li>Reset to defaults with F9 causes the wrong settings to be restored</li> </ul>"},{"location":"variants/msi_z690/releases/#binaries_2","title":"Binaries","text":"<p>msi_ms7d25_v1.1.0_ddr4.rom sha256 sha256.sig</p> <p>msi_ms7d25_v1.1.0_ddr5.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p> <p>Commands snippet:</p> <pre><code>gpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/keys/master-key/3mdeb-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/3mdeb-dasharo-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/msi_ms7d25/dasharo-release-1.x-compatible-with-msi-ms-7d25-signing-key.asc\ngpg --list-sigs \"3mdeb Master Key\" \"3mdeb Dasharo Master Key\" \"Dasharo release 1.x compatible with MSI MS-7D25 signing key\"\n# DDR4\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.0/msi_ms7d25_v1.1.0_ddr4.rom\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.0/msi_ms7d25_v1.1.0_ddr4.rom.sha256\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.0/msi_ms7d25_v1.1.0_ddr4.rom.sha256.sig\nsha256sum -c msi_ms7d25_v1.1.0_ddr4.rom.sha256\ngpg --verify msi_ms7d25_v1.1.0_ddr4.rom.sha256.sig msi_ms7d25_v1.1.0_ddr4.rom.sha256\n# DDR5\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.0/msi_ms7d25_v1.1.0_ddr5.rom\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.0/msi_ms7d25_v1.1.0_ddr5.rom.sha256\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.1.0/msi_ms7d25_v1.1.0_ddr5.rom.sha256.sig\nsha256sum -c msi_ms7d25_v1.1.0_ddr5.rom.sha256\ngpg --verify msi_ms7d25_v1.1.0_ddr5.rom.sha256.sig msi_ms7d25_v1.1.0_ddr5.rom.sha256\n</code></pre>"},{"location":"variants/msi_z690/releases/#sbom-software-bill-of-materials_2","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 912a262b7bf revision b76a1467</li> <li>Dasharo EDKII fork based on dd7523b5b1 revision 5738f9e8</li> </ul>"},{"location":"variants/msi_z690/releases/#v100-2022-05-27","title":"v1.0.0 - 2022-05-27","text":""},{"location":"variants/msi_z690/releases/#added_3","title":"Added","text":"<ul> <li>Serial number and UUID in CBFS support</li> <li>TPM Physical Presence Interface support</li> </ul>"},{"location":"variants/msi_z690/releases/#changed_3","title":"Changed","text":"<ul> <li>Updated i225 EFI driver to version 0.10.04 to reduce the POST time</li> <li>Vboot submodule revision to fix recovery mode loop</li> </ul>"},{"location":"variants/msi_z690/releases/#fixed_3","title":"Fixed","text":"<ul> <li>fTPM is not working</li> </ul>"},{"location":"variants/msi_z690/releases/#known-issues_3","title":"Known issues","text":"<ul> <li>USB storage devices disappear after reboot/power failure</li> </ul>"},{"location":"variants/msi_z690/releases/#binaries_3","title":"Binaries","text":"<p>MSI PRO Z690-A WIFI DDR4 v1.0.0 sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p> <p>Commands snippet:</p> <pre><code>gpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/keys/master-key/3mdeb-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/3mdeb-dasharo-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/msi_ms7d25/dasharo-release-1.x-compatible-with-msi-ms-7d25-signing-key.asc\ngpg --list-sigs \"3mdeb Master Key\" \"3mdeb Dasharo Master Key\" \"Dasharo release 1.x compatible with MSI MS-7D25 signing key\"\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.0.0/msi_ms7d25_v1.0.0.rom\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.0.0/msi_ms7d25_v1.0.0.rom.sha256\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v1.0.0/msi_ms7d25_v1.0.0.rom.sha256.sig\nsha256sum -c msi_ms7d25_v1.0.0.rom.sha256\ngpg --verify msi_ms7d25_v1.0.0.rom.sha256.sig msi_ms7d25_v1.0.0.rom.sha256\n</code></pre>"},{"location":"variants/msi_z690/releases/#sbom-software-bill-of-materials_3","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on a552cfc9 revision d22caaa0a</li> <li>edk2 based on 4d2846ba revision 0c94299b</li> </ul>"},{"location":"variants/msi_z690/releases/#v040-2022-05-13","title":"v0.4.0 - 2022-05-13","text":""},{"location":"variants/msi_z690/releases/#added_4","title":"Added","text":"<ul> <li>Verified boot support</li> </ul>"},{"location":"variants/msi_z690/releases/#fixed_4","title":"Fixed","text":"<ul> <li>Some PCIe ports are not working</li> </ul>"},{"location":"variants/msi_z690/releases/#known-issues_4","title":"Known issues","text":"<ul> <li>USB storage devices disappear after reboot/power failure</li> <li>fTPM is not working</li> </ul>"},{"location":"variants/msi_z690/releases/#binaries_4","title":"Binaries","text":"<p>MSI PRO Z690-A WIFI DDR4 v0.4.0 sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p> <p>Commands snippet:</p> <pre><code>gpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/keys/master-key/3mdeb-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/3mdeb-dasharo-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/msi_ms7d25/dasharo-release-0.x-compatible-with-msi-ms-7d25-signing-key.asc\ngpg --list-sigs \"3mdeb Master Key\" \"3mdeb Dasharo Master Key\" \"Dasharo release 0.x compatible with MSI MS-7D25 signing key\"\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v0.4.0/msi_ms7d25_v0.4.0.rom\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v0.4.0/msi_ms7d25_v0.4.0.rom.sha256\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v0.4.0/msi_ms7d25_v0.4.0.rom.sha256.sig\nsha256sum -c msi_ms7d25_v0.4.0.rom.sha256\ngpg --verify msi_ms7d25_v0.4.0.rom.sha256.sig msi_ms7d25_v0.4.0.rom.sha256\n</code></pre>"},{"location":"variants/msi_z690/releases/#sbom-software-bill-of-materials_4","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on a552cfc9 revision 31c1da6b</li> <li>edk2 based on 4d2846ba revision 5494c8e2</li> </ul>"},{"location":"variants/msi_z690/releases/#v030-2022-05-05","title":"v0.3.0 - 2022-05-05","text":""},{"location":"variants/msi_z690/releases/#added_5","title":"Added","text":"<ul> <li>Mainboard-specific SMBIOS data for slots and ports</li> <li>PCI Subsystem ID configuration</li> <li>CPU VR and PCH FIVR configuration</li> <li>Memory HCL</li> <li>UEFI Secure Boot</li> <li>TPM Support</li> <li>Measured Boot</li> <li>Custom boot menu keys</li> </ul>"},{"location":"variants/msi_z690/releases/#known-issues_5","title":"Known issues","text":"<ul> <li>USB storage devices disappear after reboot/power failure</li> <li>Some PCIe ports are not working</li> <li>fTPM is not working</li> </ul>"},{"location":"variants/msi_z690/releases/#binaries_5","title":"Binaries","text":"<p>MSI PRO Z690-A WIFI DDR4 v0.3.0 sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p> <p>Commands snippet:</p> <pre><code>gpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/keys/master-key/3mdeb-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/3mdeb-dasharo-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/msi_ms7d25/dasharo-release-0.x-compatible-with-msi-ms-7d25-signing-key.asc\ngpg --list-sigs \"3mdeb Master Key\" \"3mdeb Dasharo Master Key\" \"Dasharo release 0.x compatible with MSI MS-7D25 signing key\"\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v0.3.0/msi_ms7d25_v0.3.0.rom\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v0.3.0/msi_ms7d25_v0.3.0.rom.sha256\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v0.3.0/msi_ms7d25_v0.3.0.rom.sha256.sig\nsha256sum -c msi_ms7d25_v0.3.0.rom.sha256\ngpg --verify msi_ms7d25_v0.3.0.rom.sha256.sig msi_ms7d25_v0.3.0.rom.sha256\n</code></pre>"},{"location":"variants/msi_z690/releases/#sbom-software-bill-of-materials_5","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on a552cfc9 revision b45173e9</li> <li>edk2 based on 4d2846ba revision 5494c8e2</li> </ul>"},{"location":"variants/msi_z690/releases/#v020-2022-04-22","title":"v0.2.0 - 2022-04-22","text":""},{"location":"variants/msi_z690/releases/#added_6","title":"Added","text":"<ul> <li>Configurable boot order</li> <li>Configurable boot options</li> <li>NVMe support</li> <li>Integrated WiFi and BT support</li> <li>PCIe support</li> <li>Network boot with integrated Ethernet</li> <li>Audio support</li> </ul>"},{"location":"variants/msi_z690/releases/#known-issues_6","title":"Known issues","text":"<ul> <li>USB storage devices disappear after reboot/power failure</li> <li>Some PCIe ports are not working</li> </ul>"},{"location":"variants/msi_z690/releases/#binaries_6","title":"Binaries","text":"<p>MSI PRO Z690-A WIFI DDR4 v0.2.0 sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p> <p>Commands snippet:</p> <pre><code>gpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/keys/master-key/3mdeb-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/3mdeb-dasharo-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/msi_ms7d25/dasharo-release-0.x-compatible-with-msi-ms-7d25-signing-key.asc\ngpg --list-sigs \"3mdeb Master Key\" \"3mdeb Dasharo Master Key\" \"Dasharo release 0.x compatible with MSI MS-7D25 signing key\"\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v0.2.0/msi_ms7d25_v0.2.0.rom\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v0.2.0/msi_ms7d25_v0.2.0.rom.sha256\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/v0.2.0/msi_ms7d25_v0.2.0.rom.sha256.sig\nsha256sum -c msi_ms7d25_v0.2.0.rom.sha256\ngpg --verify msi_ms7d25_v0.2.0.rom.sha256.sig msi_ms7d25_v0.2.0.rom.sha256\n</code></pre>"},{"location":"variants/msi_z690/releases/#sbom-software-bill-of-materials_6","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on a552cfc9 revision 83fbdcf1</li> <li>edk2 based on 4d2846ba revision 0a188758</li> </ul>"},{"location":"variants/msi_z690/releases/#v010-2022-04-13","title":"v0.1.0 - 2022-04-13","text":""},{"location":"variants/msi_z690/releases/#added_7","title":"Added","text":"<ul> <li>Initial support for the MSI PRO Z690-A WIFI DDR4 platform</li> <li>Dasharo boot logo</li> <li>Dasharo SMBIOS compatibility</li> <li>UEFI compatibility</li> <li>UEFI shell</li> <li>One-time boot feature</li> <li>External HDMI and Display Port rear panel display support</li> <li>USB support</li> </ul>"},{"location":"variants/msi_z690/releases/#known-issues_7","title":"Known issues","text":"<ul> <li>USB storage devices disappear after reboot/power failure</li> </ul>"},{"location":"variants/msi_z690/releases/#binaries_7","title":"Binaries","text":"<p>MSI PRO Z690-A WIFI DDR4 v0.1.0 sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p> <p>Commands snippet:</p> <pre><code>gpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/keys/master-key/3mdeb-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/3mdeb-dasharo-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/msi_ms7d25/dasharo-release-0.x-compatible-with-msi-ms-7d25-signing-key.asc\ngpg --list-sigs \"3mdeb Master Key\" \"3mdeb Dasharo Master Key\" \"Dasharo release 0.x compatible with MSI MS-7D25 signing key\"\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/msi_ms7d25_v0.1.0.rom\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/msi_ms7d25_v0.1.0.rom.sha256\nwget https://3mdeb.com/open-source-firmware/Dasharo/msi_ms7d25/msi_ms7d25_v0.1.0.rom.sha256.sig\nsha256sum -c msi_ms7d25_v0.1.0.rom.sha256\ngpg --verify msi_ms7d25_v0.1.0.rom.sha256.sig msi_ms7d25_v0.1.0.rom.sha256\n</code></pre>"},{"location":"variants/msi_z690/releases/#sbom-software-bill-of-materials_7","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on a552cfc9 revision 53948cd8</li> <li>edk2 based on 4d2846ba revision 4d2846ba</li> </ul>"},{"location":"variants/msi_z690/test-matrix/","title":"Test matrix","text":""},{"location":"variants/msi_z690/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p> <p>Note, that the below-described test scope is used during Dasharo Certification Procedure for both tested platforms: <code>MSI PRO Z690-A WiFi DDR4</code> and <code>MSI PRO Z690-A DDR5</code>.</p>"},{"location":"variants/msi_z690/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. UEFI compatible interface EFI All 3. UEFI Shell USH All 4. Display ports and LCD support DSP DSP002.001, DSP002.002, DSP002.003, DSP003.001, DSP003.002, DSP003.003 5. USB HID and MSC Support USB USB001.001, USB001.002, USB001.003, USB002.001, USB002.002 USB002.003 6. SMBIOS DMI All 7. Custom boot logo CLG All 8. M.2 WiFi/Bluetooth WLE All 9. Audio subsystem AUD AUD001.001, AUD001.002, AUD004.001, AUD004.002 AUD005.001, AUD005.002 AUD006.001, AUD006.002 10. NVMe support NVM All 11. Network boot PXE Without PXE007.001 12. Debian Stable and Ubuntu LTS support LBT LBT004.001, LBT004.002 13. Windows booting WBT WBT001.001 14. Custom Boot Keys CBK All 15. Dasharo Tools Suite DTS DTS001.001, DTS002.001, DTS003.001, DTS004.001, DTS005.001, DTS006.001 16. CPU status CPU CPU001.001, CPU001.002 17. Platform suspend and resume SUSP All 18. Device power control operations DPC All"},{"location":"variants/msi_z690/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM Without TPM001.001 and TPM002.001 2. Verified Boot support VBO Without VBO006.001, VBO007.001 3. Measured Boot support MBO All 4. Secure Boot support SBO All 5. ME disable/neuter support MNE without MNE005.001 6. BIOS lock support BLS All 7. SMM BIOS write protection SMM All 8. Early boot DMA protection EDP All 9. UEFI Setup password PSW All 10. Network stack enable/disable NBA All 11. USB stack enable/disable USS All"},{"location":"variants/msi_z690/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot bring up time measurement CBMEM All"},{"location":"variants/msi_z790/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/msi_z790/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configuration used for validation of the coreboot port on the MSI PRO Z790-P workstation. For additional information, please check the FAQ section.</p>"},{"location":"variants/msi_z790/hardware-matrix/#msi-pro-z790-p-sn-601-7e06-030b2210001398","title":"MSI PRO Z790-P, SN: 601-7E06-030B2210001398","text":"Component Description CPU Intel Core i5-13600K 3.5 GHz CPU cooler Noctua NH-U12S CPU Cooler RAM Slot 1: Kingston KF556C40BB-8 Slot 1: Kingston KF556C40BB-8 Slot 1: Kingston KF556C40BB-8 Slot 1: Kingston KF556C40BB-8 Flash memory Macronix MX25U25635F SSD Intel 670p 512 GB M26472-201 NVME USB pendrives 1. Adata C008 USB 2.0 16 GB 2. Kingston DataTraveler USB 3.2 16 GB SD cards SanDisk Ultra microSD HC I 16 GB Attached devices 1. Logitech, Inc. Keyboard K120 2. Dell Mouse MS116p 3. 1-port USB Type-C Network Local network wired connection Power Supply SeaSonic FOCUS Plus Platinum Power Control Sonoff S20 EU type E Remote Testing Environment RTE v1.1.0 KVM PiKVM based on Raspberry Pi 4"},{"location":"variants/msi_z790/releases/","title":"MSI PRO Z790-P (WIFI) (DDR4) Dasharo Release Notes","text":"<p>Following Release Notes describe status of open-source firmware development for MSI PRO Z790-P (WIFI) (DDR4)</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> <p>Subscribe to MSI PRO Z790-P (WIFI) (DDR4) Dasharo Release Newsletter</p> <p></p>"},{"location":"variants/msi_z790/releases/#v090-2023-08-31","title":"v0.9.0 - 2023-08-31","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/msi_z790/releases/#added","title":"Added","text":"<ul> <li>MSI FLASHBIOS recovery support</li> <li>Raptor Lake-S CPU support</li> <li>MSI PRO Z790-P board support with the same feature set as PRO Z690-A</li> <li>MSI ACPI device that triggers automatic driver and utility installation manager</li> <li>Support for logo customization</li> <li>UEFI 2.8 errata C compliance in EDKII fork</li> <li>Firmware Update Mode feature</li> </ul>"},{"location":"variants/msi_z790/releases/#changed","title":"Changed","text":"<ul> <li>This is a Dasharo Entry Subscription release</li> <li>Updated microcode to newer version, refer to SBOM</li> <li>Updated ME to newer version, refer to SBOM</li> </ul>"},{"location":"variants/msi_z790/releases/#fixed","title":"Fixed","text":"<ul> <li>Nvidia RTX 3060 does not spawn HD Audio device in Device Manager</li> <li>MSI FLASHBIOS feature is not working</li> <li>Reset to defaults with F9 causes the wrong settings to be restored</li> <li>Popup with information about recovery mode is displayed after flashing with a valid binary</li> <li>Too low watchdog timeout value causing reset loops on DDR5 boards with   bigger amount of RAM</li> <li>Chipset Watchdog timeout value does not change actual watchdog trigger time</li> <li>Missing ACPI objects errors in Linux dmesg</li> <li>Missing Setup Password option</li> </ul>"},{"location":"variants/msi_z790/releases/#binaries","title":"Binaries","text":"<p>This is a Dasharo Entry Subscription Release. To obtain access to the pre-built binaries you will have to become the Dasharo Entry Subscription subscriber. You will get the access to all of the firmware updates for the duration of the subscription via Dasharo Entry Subscription newsletter.</p>"},{"location":"variants/msi_z790/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 4.18 revision 197229de</li> <li>Dasharo EDKII fork based on edk2-stable202002 revision 94f562a7</li> <li>iPXE based on 6ba671acd9 revision 6ba671ac</li> <li>vboot based on b76cd8c806 revision b76cd8c8</li> <li>Intel Management Engine based on v16.1.30.2255 revision 2a8875ec</li> <li>Intel Flash Descriptor based on v1.0 revision 2a8875ec</li> <li>Intel Firmware Support Package based on IoT RPL-S PV 3492_03 revision 2fea9a2f</li> <li>Intel microcode based on ADL C0 0x0000002c revision microcode-20230613</li> <li>Intel microcode based on ADL H0 0x0000002c revision microcode-20230613</li> <li>Intel microcode based on RPL B0 0x00000113 revision microcode-20230613</li> </ul>"},{"location":"variants/msi_z790/test-matrix/","title":"Test matrix","text":""},{"location":"variants/msi_z790/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p> <p>Note, that the below-described test scope is used during Dasharo Certification Procedure for <code>MSI PRO Z790-P</code> platform.</p>"},{"location":"variants/msi_z790/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. UEFI compatible interface EFI All 3. UEFI Shell USH All 4. Display ports and LCD support DSP DSP002.001, DSP002.002, DSP002.003, DSP003.001, DSP003.002, DSP003.003 5. USB HID and MSC Support USB USB001.001, USB001.002, USB001.003, USB002.001, USB002.002 USB002.003 6. SMBIOS DMI All 7. Custom boot logo CLG All 8. M.2 WiFi/Bluetooth WLE All 9. Audio subsystem AUD AUD001.001, AUD001.002, AUD004.001, AUD004.002 AUD005.001, AUD005.002 AUD006.001, AUD006.002 10. NVMe support NVM All 11. Network boot PXE Without PXE007.001 12. Debian Stable and Ubuntu LTS support LBT LBT004.001, LBT004.002 13. Windows booting WBT WBT001.001 14. Custom Boot Keys CBK All 15. Dasharo Tools Suite DTS DTS001.001, DTS002.001, DTS003.001, DTS004.001, DTS005.001, DTS006.001 16. CPU status CPU CPU001.001, CPU001.002 17. Platform suspend and resume SUSP SUSP001.001, SUSP002.001, SUSP003.001, SUSP005.001"},{"location":"variants/msi_z790/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM Without TPM001.001 and TPM002.001 2. Verified Boot support VBO Without VBO006.001, VBO007.001 3. Measured Boot support MBO All 4. Secure Boot support SBO All 5. ME disable/neuter support MNE without MNE005.001 6. BIOS lock support BLS All 7. SMM BIOS write protection SMM All 8. Early boot DMA protection EDP All 9. UEFI Setup password PSW All 10. Network stack enable/disable NBA All 11. USB stack enable/disable USS All"},{"location":"variants/msi_z790/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot bring up time measurement CBMEM All"},{"location":"variants/novacustom_ns5x_adl/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/novacustom_ns5x_adl/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configurations used for validation of the coreboot port on the NovaCustom NS5x/7x laptops.</p>"},{"location":"variants/novacustom_ns5x_adl/hardware-matrix/#ports-specification","title":"Ports specification","text":""},{"location":"variants/novacustom_ns5x_adl/hardware-matrix/#right-side-view","title":"Right side view","text":"No. Description 1. Speaker 2. 2-In-1 Audio Jack (Headphone / Microphone) 3. MicroSD Card Reader 4. USB 2.0 Port 5. LED Indicator 6. Power Button 7. RJ-45 LAN Jack 8. Security Lock Slot"},{"location":"variants/novacustom_ns5x_adl/hardware-matrix/#left-side-view","title":"Left side view","text":"No. Description 1. DC-In Jack 2. HDMI-Out Port 3. USB 3.2 Gen 2 Type-A Port 4. USB 3.2 Gen 2 Type-C Port 5. Thunderbolt 4 Port with Power Delivery (DC-IN) 6. Speaker <p>The graphics used are from pages 17-18 of the official service manual for the NS51/70 platforms.</p>"},{"location":"variants/novacustom_ns5x_adl/hardware-matrix/#ns5xpu","title":"NS5xPU","text":"Component Description CPU Intel(R) Core(TM) i5-1240P Internal Cooling RAM Slot 1: KVR32S22S8/8 Slot 2: KVR32S22S8/8 SSD Samsung SSD 990 PRO 1 TB Flash memory GigaDevice 25B1256EYIG 32 MB USB pendrives SanDisk Ultra USB 3.0 32 GB USB Keyboard Logitech, Inc. Keyboard K120 Wireless card Intel Wi-Fi 6 AX201 Display Display 1: HDMI 1920x1080p Network Local network wired connection Internal devices 1. 1920x1080 14 inch screen 2. Internal keyboard with LED backlight 3. Touchpad 4. Camera 5. Audio subsystem Attached devices Thunderbolt 4 Port: Wavlink 100W PD Pro docking station USB Type-C Port: Adapter USB-C-RJ45 with connected Ethernet cable Power Supply Chicony 19V, 4.74A, 90 W"},{"location":"variants/novacustom_ns5x_adl/hardware-matrix/#ns7xpu","title":"NS7xPU","text":"Component Description CPU Intel(R) Core(TM) i7-1260P Internal Cooling RAM Slot 1: KVR32S22S8/8 Slot 2: KVR32S22S8/8 SSD Samsung SSD 980 PRO 250 GB Flash memory GigaDevice 25B1256EYIG 32 MB USB pendrives SanDisk Ultra USB 3.0 32 GB USB Keyboard Logitech, Inc. Keyboard K120 Wireless card Intel Wi-Fi 6 AX201 Display Display 1: HDMI 1920x1080p Network Local network wired connection Internal devices 1. 1920x1080 14 inch screen 2. Internal keyboard with LED backlight 3. Touchpad 4. Camera 5. Audio subsystem Attached devices Thunderbolt 4 Port: Wavlink 100W PD Pro docking station USB Type-C Port: Adapter USB-C-RJ45 with connected Ethernet cable Power Supply Chicony 19V, 4.74A, 90 W"},{"location":"variants/novacustom_ns5x_adl/openness-score/","title":"Dasharo Openness Score","text":"<p>Openness Score for novacustom_ns5x_adl_v1.7.1_full.rom</p> <p>Open-source code percentage: 34.9% Closed-source code percentage: 65.1%</p> <ul> <li>Image size: 33554432 (0x2000000)</li> <li>Number of regions: 27</li> <li>Number of CBFSes: 3</li> <li>Total open-source code size: 4560426 (0x45962a)</li> <li>Total closed-source code size: 8497434 (0x81a91a)</li> <li>Total data size: 686647 (0xa7a37)</li> <li>Total empty size: 19809925 (0x12e4685)</li> </ul> <p></p> <p></p> <p>Numbers given above already include the calculations from CBFS regions presented below</p>"},{"location":"variants/novacustom_ns5x_adl/openness-score/#fmap-regions","title":"FMAP regions","text":"FMAP region Offset Size Category SI_ME 0x1000 0x4ff000 closed-source SI_DESC 0x0 0x1000 data RECOVERY_MRC_CACHE 0x1000000 0x10000 data RW_MRC_CACHE 0x1010000 0x10000 data SMMSTORE 0x1020000 0x40000 data SHARED_DATA 0x1060000 0x2000 data VBLOCK_DEV 0x1062000 0x2000 data RW_NVRAM 0x1064000 0x6000 data CONSOLE 0x106a000 0x20000 data VBLOCK_A 0x118a000 0x10000 data RW_FWID_A 0x1bfffc0 0x40 data RO_VPD 0x1c00000 0x4000 data FMAP 0x1c04000 0x800 data RO_FRID 0x1c04800 0x40 data RO_FRID_PAD 0x1c04840 0x7c0 data GBB 0x1c05000 0x3000 data UNUSED 0x500000 0xb00000 empty"},{"location":"variants/novacustom_ns5x_adl/openness-score/#cbfs-bootsplash","title":"CBFS BOOTSPLASH","text":"<ul> <li>CBFS size: 1048576</li> <li>Number of files: 1</li> <li>Open-source files size: 0 (0x0)</li> <li>Closed-source files size: 0 (0x0)</li> <li>Data size: 28 (0x1c)</li> <li>Empty size: 1048548 (0xfffe4)</li> </ul> <p>Numbers given above are already normalized (i.e. they already include size of metadata and possible closed-source LAN drivers included in the payload which are not visible in the table below)</p> CBFS filename CBFS filetype Size Compression Category (empty) null 1048548 none empty"},{"location":"variants/novacustom_ns5x_adl/openness-score/#cbfs-fw_main_a","title":"CBFS FW_MAIN_A","text":"<ul> <li>CBFS size: 10903488</li> <li>Number of files: 13</li> <li>Open-source files size: 2230325 (0x220835)</li> <li>Closed-source files size: 1629325 (0x18dc8d)</li> <li>Data size: 8805 (0x2265)</li> <li>Empty size: 7035033 (0x6b5899)</li> </ul> <p>Numbers given above are already normalized (i.e. they already include size of metadata and possible closed-source LAN drivers included in the payload which are not visible in the table below)</p> CBFS filename CBFS filetype Size Compression Category fallback/romstage stage 95512 none open-source fallback/ramstage stage 152847 LZMA open-source fallback/dsdt.aml raw 22875 none open-source fallback/postcar stage 42408 none open-source fallback/payload simple elf 1916683 none open-source cpu_microcode_blob.bin microcode 546816 none closed-source fspm.bin fsp 786432 none closed-source fsps.bin fsp 296077 LZ4 closed-source config raw 5535 LZMA data revision raw 856 none data build_info raw 98 none data vbt.bin raw 1290 LZMA data (empty) null 740 none empty"},{"location":"variants/novacustom_ns5x_adl/openness-score/#cbfs-coreboot","title":"CBFS COREBOOT","text":"<ul> <li>CBFS size: 4161536</li> <li>Number of files: 18</li> <li>Open-source files size: 2330101 (0x238df5)</li> <li>Closed-source files size: 1629325 (0x18dc8d)</li> <li>Data size: 10102 (0x2776)</li> <li>Empty size: 192008 (0x2ee08)</li> </ul> <p>Numbers given above are already normalized (i.e. they already include size of metadata and possible closed-source LAN drivers included in the payload which are not visible in the table below)</p> CBFS filename CBFS filetype Size Compression Category fallback/romstage stage 95512 none open-source fallback/ramstage stage 152847 LZMA open-source fallback/dsdt.aml raw 22875 none open-source fallback/postcar stage 42408 none open-source fallback/payload simple elf 1916683 none open-source bootblock bootblock 99776 none open-source cpu_microcode_blob.bin microcode 546816 none closed-source fspm.bin fsp 786432 none closed-source fsps.bin fsp 296077 LZ4 closed-source cbfs_master_header cbfs header 28 none data intel_fit intel_fit 80 none data config raw 5535 LZMA data revision raw 856 none data build_info raw 98 none data vbt.bin raw 1290 LZMA data cmos_layout.bin cmos_layout 800 none data (empty) null 484 none empty (empty) null 191524 none empty"},{"location":"variants/novacustom_ns5x_adl/releases/","title":"NovaCustom NS5x/7x 12th Gen Dasharo Release Notes","text":"<p>Following Release Notes describe status of open-source firmware development for NovaCustom NS5x/7x 12th Gen</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> <p>Subscribe to NovaCustom NS5x/7x 12th Gen Dasharo Release Newsletter</p> <p></p>"},{"location":"variants/novacustom_ns5x_adl/releases/#v171-2023-11-06","title":"v1.7.1 - 2023-11-06","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/novacustom_ns5x_adl/releases/#added","title":"Added","text":"<ul> <li>Firmware update mode</li> <li>BIOS boot medium write-protection</li> <li>SMM BIOS write protection</li> <li>Early boot DMA protection</li> <li>Early Sign of Life display output</li> <li>Current limiting for USB-PD power supplies</li> <li>Setup menu password configuration</li> <li>Wi-Fi / Bluetooth module disable option in setup menu</li> <li>Built-in webcam disable option in setup menu</li> <li>USB stack disable option in setup menu</li> <li>Network stack disable option in setup menu</li> <li>Battery threshold options in setup menu</li> <li>Block boot when battery is too low</li> <li>Power on AC option in setup menu</li> <li>Firmware display on external monitor when lid is closed</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/releases/#changed","title":"Changed","text":"<ul> <li>Rebased on coreboot release 4.21</li> <li>Removed software keyboard backlight controls for improved backlight reliability</li> <li>Disabled EC debug logging for improved security</li> <li>Set throttling temperature to 75 degrees C</li> <li>UEFI 2.8 specification compliance</li> <li>Improved battery charging logic</li> <li>Improved USB-C docking station compatibility</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/releases/#fixed","title":"Fixed","text":"<ul> <li>Low performance when booting on battery power only</li> <li>Firmware defaults to maximum CD clock, preventing flicker-free booting</li> <li>Power delivery compatibility</li> <li>Better support for USB-PD power supplies</li> <li>After changing the Intel ME mode the Reset option in the setup menu turns off the device</li> <li>Laptops randomly go into suspend mode from which they can not wake up.</li> <li>Reset to defaults with F9 causes the wrong settings to be restored</li> <li>Keyboard backlight not working after restart</li> <li>Warning sign in device manager under the touchpad device</li> <li>Popup with information about recovery mode is displayed after flashing with a valid binary</li> <li>The power LED is not always blinking while in sleep mode on Windows 11</li> <li>Internal keyboard stops working randomly in firmware</li> <li>DTS on network boot fails to boot</li> <li>Firmware Update Mode does not automatically boot into DTS</li> <li>Permanent keyboard illumination after cold boot fails: keyboard light level is not saved correctly</li> <li>Controlling keyboard illumination (brightess and on/off) does not work</li> <li>Permanent keyboard illumination not working in Ubuntu 22.04</li> <li>Controlling brightness and turning off RGB keyboard illumination does not work (Ubuntu 22.04)</li> <li>Wi-Fi card is not recognized on Windows 11</li> <li>No HDMI audio on Windows 11</li> <li>No HDMI display output on Windows 11</li> <li>No USB-C display output on Windows 11</li> <li>Keyboard backlight is disabled after suspend (Windows 11)</li> <li>Reset by F9 sets battery thresholds to 0</li> <li>The docking station is not detected after cold-boot, warm-boot and reboot</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/releases/#known-issues","title":"Known issues","text":"<ul> <li>Docking station may fail to be initialized if connected before booting and connected to multiple monitors</li> <li>Connecting and immediately disconnecting the charger, sets the battery status in OS to 'charging' for about 2 minutes</li> <li>Power state after power failure option does not work as intended</li> <li>No ability to change active PCR banks with TPM PPI in FW</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/releases/#binaries","title":"Binaries","text":"<p>novacustom_ns5x_adl_ec_v1.7.1.rom sha256 sha256.sig</p> <p>novacustom_ns5x_adl_v1.7.1.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_ns5x_adl/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 4.21 revision 36032e55</li> <li>Dasharo EDKII fork based on edk2-stable202002 revision b68e46b0</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/releases/#v160-2023-04-07","title":"v1.6.0 - 2023-04-07","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/novacustom_ns5x_adl/releases/#added_1","title":"Added","text":"<ul> <li>Intel Management Engine Disable</li> <li>The same keyboard illumination setting is restored after suspend or poweroff</li> <li>One of the two fan profiles can now be selected in Setup Menu</li> <li>Fn lock hotkey feature</li> <li>Setup menu option for switching between S0ix and S3 suspend mode</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/releases/#changed_1","title":"Changed","text":"<ul> <li>Keys must be provisioned prior enabling Secure Boot</li> <li>The function keys responsible for entering the setup and boot menu in BIOS   have been changed from ESC/F12 to F2/F7</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/releases/#fixed_1","title":"Fixed","text":"<ul> <li>Waking up from sleep on Ubuntu 22.04 is not 100% reliable (Dasharo issue #205)</li> <li>The connected RJ45 cable to the Ethernet socket causes a hardware error on Windows 11 (Dasharo issue #264)</li> <li>Laptop not starting after fully discharging (NS70PU) (Dasharo issue #287)</li> <li>The Auto Boot time-out value is not respected (Dasharo issue #292)</li> <li>ACPI boot errors during booting Ubuntu 22.04 (Dasharo issue #293)</li> <li>Windows update KB5012170 cannot be installed (Dasharo issue #294)</li> <li>Internal keyboard sometimes does not work in firmware (Dasharo issue #295)</li> <li>SMMStore sometimes gets wiped out by UEFI payload on NovaCustom ADL laptops (Dasharo issue #298)</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/releases/#known-issues_1","title":"Known issues","text":"<ul> <li>The power LED is not always blinking while in sleep mode on Windows 11 (Dasharo issue #182)</li> <li>Suspend does not work correctly while a SATA disk is installed (Dasharo issue #230)</li> <li>Touchpad isn't work on Debian 11.3 (Dasharo issue #240)</li> <li>Sleep sometimes not working (Dasharo issue #261)</li> <li>Popup with information about recovery mode is displayed after flashing with a valid binary (Dasharo issue #269)</li> <li>Missing information about cache  (Dasharo issue #343)</li> <li>Keyboard backlight not working after restart (Dasharo issue #349)</li> <li>Connecting and immediately disconnecting the charger, sets the battery status in OS to charging for about 2 minutes  (Dasharo issue #350)</li> <li>Reset to defaults with F9 causes the wrong settings to be restored (Dasharo issue #355)</li> <li>Laptop not suspending while connected to a USB-C docking station (Dasharo issue #368)</li> <li>Keyboard backlight brightness is not properly restored after cold-boot (Dasharo issue #402)</li> <li>After changing the Intel ME mode the Reset option in the setup menu turns off the device (Dasharo issue #403)</li> <li>The docking station is not detected after cold-boot and warm-boot (Dasharo issue #404)</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/releases/#binaries_1","title":"Binaries","text":"<p>novacustom_ns5x_adl_ec_v1.6.0.rom sha256 sha256.sig</p> <p>novacustom_ns5x_adl_v1.6.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_ns5x_adl/releases/#sbom-software-bill-of-materials_1","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 1a8eb6c02103727431ac1ea23f4f507e49f3cde7 revision ae10b20f</li> <li>Dasharo EDKII fork based on e0334c228ce4ba51f47ff79a118f214031d4650f revision bd421b40</li> <li>Intel ME version 16.1.25.1865</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/releases/#v150-non-public-engineering-release","title":"v1.5.0 - Non-public engineering release","text":""},{"location":"variants/novacustom_ns5x_adl/releases/#v140-2022-11-06","title":"v1.4.0 - 2022-11-06","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/novacustom_ns5x_adl/releases/#added_2","title":"Added","text":"<ul> <li>Support for NovaCustom NS5x/NS7x 12th Gen</li> <li>UEFI Boot Support</li> <li>Configurable boot order</li> <li>Configurable boot options</li> <li>UEFI Secure Boot support</li> <li>NovaCustom boot logo</li> <li>Vboot Verified Boot</li> <li>Vboot recovery mode information popup</li> <li>Dasharo setup menu full screen mode support</li> <li>Support for RGB backlit keyboard</li> <li>Support for open-source EC firmware</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/releases/#known-issues_2","title":"Known issues","text":"<ul> <li>The power LED is not always blinking while in sleep mode on Windows 11 (Dasharo issue #182)</li> <li>Suspend does not work correctly while a SATA disk is installed (Dasharo issue #230)</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/releases/#binaries_2","title":"Binaries","text":"<p>novacustom_ns5x_adl_ec_v1.4.0.rom sha256 sha256.sig</p> <p>novacustom_ns5x_adl_v1.4.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_ns5x_adl/releases/#sbom-software-bill-of-materials_2","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 1a8eb6c02103 revision cf81af26</li> <li>Dasharo EDKII fork based on dd7523b5b123 revision abfdef40</li> </ul>"},{"location":"variants/novacustom_ns5x_adl/test-matrix/","title":"Test matrix","text":""},{"location":"variants/novacustom_ns5x_adl/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests to which the DUT is subjected before the release of the new binary.</p>"},{"location":"variants/novacustom_ns5x_adl/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. UEFI compatible interface EFI All 3. Display ports and LCD support DSP DSP001.001, DSP001.002, DSP001.003, DSP002.001, DSP002.002 4. Embedded Controller and Super I/O initialization ECR All 5. NVMe support NVM All 6. Custom logo CLG All 7. Custom boot keys CBK All 8. USB HID and MSC Support USB All 9. Debian Stable and Ubuntu LTS support LBT LBT004.001, LBT004.002 10. UEFI Shell USH All 11. Windows booting WBT WBT001.001 12. Audio subsystem AUD All 13. USB-C support UTC All 14. Network boot PXE Without PXE007.001 15. M.2 WiFi/Bluetooth WLE All 16. SD card support SDC All 17. USB Camera verification CAM All 18. Fan speed measure FAN FAN001.001 19. SMBIOS DMI Without DMI001.001 20. Firmware update using fwupd FFW All 21. Dasharo Tools Suite DTS DTS006.001, DTS007.001 22. CPU status CPU All 23. Embedded controller flashing ECF All 24. Logo customization functionality LCM LCM001.001 25. Firmware locally building and flashing FLB All 26. Custom Boot Order CBO CBO001.002 27. QubesOS support QBS All 28. Fedora support FED All 29. Platform suspend and resume SUSP Without SUSP004.001 and SUSP006.001 30. Boot blocking BBB All 31. [Reset to defaults][RTD] RTD All 32. Suspend mechanism switchcing (S0ix/S3) SMS All 33. [Platform hibernation and resume][HBN] HBN All 34. Sign of life SOL All 35. [Power after fail][PSF] PSF All"},{"location":"variants/novacustom_ns5x_adl/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM Without TPM001.001 and TPM002.001 2. Verified Boot support VBO Without VBO006.001 and VBO007.001 3. Measured Boot support MBO All 4. Secure Boot support SBO Without SBO006.001, SBO007.001 and SBO008.001 5. ME disable/neuter support MNE Without MNE006.001 6. USB stack USS All 7. Network boot availability PXE All 8. BIOS lock support BLS All 9. Early boot DMA protection EDP All 10. SMM BIOS write protection SMM All 11. UEFI Setup password PSW All 12. [Wi-Fi / Bluetooth switch][WBS] WBS All 13. [Camera switch][CHS] CHS All"},{"location":"variants/novacustom_ns5x_adl/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot boot measure CBMEM All 2. CPU temperature measure CPT All 3. CPU frequency measure CPF All 4. Custom fan curve CFC All 5. Platform stability STB All"},{"location":"variants/novacustom_ns5x_adl/test-matrix/#module-dasharo-stability","title":"Module: Dasharo stability","text":"No. Supported test suite Test suite ID Supported test cases 1. USB Type-A devices detection SUD All 2. M.2 Wi-fi SMW All 3. NVMe detection SNV All 4. NET interface detection NET All 5. [TPM detection][TPD] TPD TPD003.001, TPD004.001"},{"location":"variants/novacustom_ns5x_tgl/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/novacustom_ns5x_tgl/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configurations used for validation of the coreboot port on the NovaCustom NS51/NS70 laptops.</p>"},{"location":"variants/novacustom_ns5x_tgl/hardware-matrix/#ports-specification","title":"Ports specification","text":""},{"location":"variants/novacustom_ns5x_tgl/hardware-matrix/#right-side-view","title":"Right side view","text":"No. Description 1. Speaker 2. 2-In-1 Audio Jack (Headphone / Microphone) 3. MicroSD Card Reader 4. USB 2.0 Port 5. LED Indicator 6. Power Button 7. RJ-45 LAN Jack 8. Security Lock Slot"},{"location":"variants/novacustom_ns5x_tgl/hardware-matrix/#left-side-view","title":"Left side view","text":"No. Description 1. DC-In Jack 2. HDMI-Out Port 3. USB 3.2 Gen 2 Type-A Port 4. USB 3.2 Gen 2 Type-C Port 5. Thunderbolt 4 Port with Power Delivery (DC-IN) 6. Speaker <p>The graphics used are from pages 17-18 of the official service manual for the NS51/70 platforms.</p>"},{"location":"variants/novacustom_ns5x_tgl/hardware-matrix/#ns51","title":"NS51","text":"Component Description CPU Intel(R) Core(TM) i5-1135G7 Internal Cooling RAM Slot 1: KVR32S22D8/16 Slot 2: KVR32S22D8/16 SSD 1. Samsung SSD 980 PRO 250 GB 2. Samsung SSD 980 PRO 500 GB Flash memory Winbond 25Q128JVSQ 2118 16 MB USB pendrives SanDisk Ultra USB 3.0 32 GB USB Keyboard Logitech, Inc. Keyboard K120 Wireless card Intel Wi-Fi 6 AX201 Display Display 1: HDMI 1920x1080p Network Local network wired connection Internal devices 1. 1920x1080 14 inch screen 2. Internal keyboard with LED backlight 3. Touchpad 4. Camera 5. Audio subsystem Attached devices Thunderbolt 4 Port: Wavlink 100W PD Pro docking station USB Type-C Port: Adapter USB-C-RJ45 with connected Ethernet cable Power Supply Chicony 19V, 3.42A, 65 W"},{"location":"variants/novacustom_ns5x_tgl/hardware-matrix/#ns70","title":"NS70","text":"Component Description CPU Intel(R) Core(TM) i5-1135G7 Internal Cooling RAM Slot 1: KVR32S22S8/8 Slot 2: KVR32S22S8/8 SSD Samsung SSD 980 1 TB Flash memory GigaDevice 25B127DSIG 16 MB USB pendrives SanDisk Ultra USB 3.0 32 GB USB Keyboard Logitech, Inc. Keyboard K120 Wireless card Intel Wi-Fi 6 AX201 Display Display 1: HDMI 1920x1080p Network Local network wired connection Internal devices 1. 1920x1080 14 inch screen 2. Internal keyboard with LED backlight 3. Touchpad 4. Camera 5. Audio subsystem Attached devices Thunderbolt 4 Port: Wavlink 100W PD Pro docking station USB Type-C Port: Adapter USB-C-RJ45 with connected Ethernet cable Power Supply Chicony 19V, 3.42A, 65 W"},{"location":"variants/novacustom_ns5x_tgl/openness-score/","title":"Dasharo Openness Score","text":"<p>Openness Score for novacustom_ns5x_tgl_v1.5.1_full.rom</p> <p>Open-source code percentage: 37.5% Closed-source code percentage: 62.5%</p> <ul> <li>Image size: 16777216 (0x1000000)</li> <li>Number of regions: 26</li> <li>Number of CBFSes: 3</li> <li>Total open-source code size: 4512952 (0x44dcb8)</li> <li>Total closed-source code size: 7509228 (0x7294ec)</li> <li>Total data size: 628567 (0x99757)</li> <li>Total empty size: 4126469 (0x3ef705)</li> </ul> <p></p> <p></p> <p>Numbers given above already include the calculations from CBFS regions presented below</p>"},{"location":"variants/novacustom_ns5x_tgl/openness-score/#fmap-regions","title":"FMAP regions","text":"FMAP region Offset Size Category SI_ME 0x1000 0x4ff000 closed-source SI_DESC 0x0 0x1000 data RECOVERY_MRC_CACHE 0x500000 0x10000 data RW_MRC_CACHE 0x510000 0x10000 data SMMSTORE 0x520000 0x40000 data SHARED_DATA 0x560000 0x2000 data VBLOCK_DEV 0x562000 0x2000 data RW_NVRAM 0x564000 0x6000 data CONSOLE 0x56a000 0x20000 data VBLOCK_A 0x68a000 0x2000 data RW_FWID_A 0xbfffc0 0x40 data RO_VPD 0xc00000 0x4000 data FMAP 0xc04000 0x800 data RO_FRID 0xc04800 0x40 data RO_FRID_PAD 0xc04840 0x7c0 data GBB 0xc05000 0x3000 data"},{"location":"variants/novacustom_ns5x_tgl/openness-score/#cbfs-bootsplash","title":"CBFS BOOTSPLASH","text":"<ul> <li>CBFS size: 1048576</li> <li>Number of files: 1</li> <li>Open-source files size: 0 (0x0)</li> <li>Closed-source files size: 0 (0x0)</li> <li>Data size: 28 (0x1c)</li> <li>Empty size: 1048548 (0xfffe4)</li> </ul> <p>Numbers given above are already normalized (i.e. they already include size of metadata and possible closed-source LAN drivers included in the payload which are not visible in the table below)</p> CBFS filename CBFS filetype Size Compression Category (empty) null 1048548 none empty"},{"location":"variants/novacustom_ns5x_tgl/openness-score/#cbfs-fw_main_a","title":"CBFS FW_MAIN_A","text":"<ul> <li>CBFS size: 5717952</li> <li>Number of files: 13</li> <li>Open-source files size: 2209820 (0x21b81c)</li> <li>Closed-source files size: 1135222 (0x115276)</li> <li>Data size: 8405 (0x20d5)</li> <li>Empty size: 2364505 (0x241459)</li> </ul> <p>Numbers given above are already normalized (i.e. they already include size of metadata and possible closed-source LAN drivers included in the payload which are not visible in the table below)</p> CBFS filename CBFS filetype Size Compression Category fallback/romstage stage 89032 none open-source fallback/ramstage stage 141024 LZMA open-source fallback/dsdt.aml raw 22589 none open-source fallback/postcar stage 40492 none open-source fallback/payload simple elf 1916683 none open-source cpu_microcode_blob.bin microcode 207872 none closed-source fspm.bin fsp 651264 none closed-source fsps.bin fsp 276086 LZ4 closed-source config raw 5199 LZMA data revision raw 856 none data build_info raw 98 none data vbt.bin raw 1308 LZMA data (empty) null 2276 none empty"},{"location":"variants/novacustom_ns5x_tgl/openness-score/#cbfs-coreboot","title":"CBFS COREBOOT","text":"<ul> <li>CBFS size: 4161536</li> <li>Number of files: 19</li> <li>Open-source files size: 2303132 (0x23249c)</li> <li>Closed-source files size: 1135222 (0x115276)</li> <li>Data size: 9766 (0x2626)</li> <li>Empty size: 713416 (0xae2c8)</li> </ul> <p>Numbers given above are already normalized (i.e. they already include size of metadata and possible closed-source LAN drivers included in the payload which are not visible in the table below)</p> CBFS filename CBFS filetype Size Compression Category fallback/romstage stage 89032 none open-source fallback/ramstage stage 141024 LZMA open-source fallback/dsdt.aml raw 22589 none open-source fallback/postcar stage 40492 none open-source fallback/payload simple elf 1916683 none open-source bootblock bootblock 93312 none open-source cpu_microcode_blob.bin microcode 207872 none closed-source fspm.bin fsp 651264 none closed-source fsps.bin fsp 276086 LZ4 closed-source cbfs_master_header cbfs header 28 none data intel_fit intel_fit 80 none data config raw 5199 LZMA data revision raw 856 none data build_info raw 98 none data vbt.bin raw 1308 LZMA data cmos_layout.bin cmos_layout 852 none data etc/ps2-keyboard-spinup raw 8 none data (empty) null 1060 none empty (empty) null 712356 none empty"},{"location":"variants/novacustom_ns5x_tgl/releases/","title":"NovaCustom NS5x/7x 11th Gen Dasharo Release Notes","text":"<p>Following Release Notes describe status of open-source firmware development for NovaCustom NS5x/7x 11th Gen</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> <p>Subscribe to NovaCustom NS5x/7x 11th Gen Dasharo Release Newsletter</p> <p></p>"},{"location":"variants/novacustom_ns5x_tgl/releases/#v151-2023-11-06","title":"v1.5.1 - 2023-11-06","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/novacustom_ns5x_tgl/releases/#added","title":"Added","text":"<ul> <li>Firmware update mode</li> <li>BIOS boot medium write-protection</li> <li>SMM BIOS write protection</li> <li>Early boot DMA protection</li> <li>Early Sign of Life display output</li> <li>Current limiting for USB-PD power supplies</li> <li>Setup menu password configuration</li> <li>Wi-Fi / Bluetooth module disable option in setup menu</li> <li>Built-in webcam disable option in setup menu</li> <li>USB stack disable option in setup menu</li> <li>Network stack disable option in setup menu</li> <li>Battery threshold options in setup menu</li> <li>Intel ME disable option in setup menu</li> <li>Block boot when battery is too low</li> <li>Power on AC option in setup menu</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#changed","title":"Changed","text":"<ul> <li>Rebased on coreboot release 4.21</li> <li>Removed software keyboard backlight controls for improved backlight reliability</li> <li>Disabled EC debug logging for improved security</li> <li>Set throttling temperature to 75 degrees C</li> <li>UEFI 2.8 specification compliance</li> <li>Improved battery charging logic</li> <li>Improved USB-C docking station compatibility</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#fixed","title":"Fixed","text":"<ul> <li>Low performance when booting on battery power only</li> <li>Power delivery compatibility</li> <li>Better support for USB-PD power supplies</li> <li>After changing the Intel ME mode the Reset option in the setup menu turns off the device</li> <li>Laptops randomly go into suspend mode from which they can not wake up.</li> <li>Reset to defaults with F9 causes the wrong settings to be restored</li> <li>Keyboard backlight not working after restart</li> <li>Warning sign in device manager under the touchpad device</li> <li>Popup with information about recovery mode is displayed after flashing with a valid binary</li> <li>The power LED is not always blinking while in sleep mode on Windows 11</li> <li>Internal keyboard stops working randomly in firmware</li> <li>DTS on network boot fails to boot</li> <li>Firmware Update Mode does not automatically boot into DTS</li> <li>Permanent keyboard illumination after cold boot fails: keyboard light level is not saved correctly</li> <li>Controlling keyboard illumination (brightess and on/off) does not work</li> <li>Permanent keyboard illumination not working in Ubuntu 22.04</li> <li>Controlling brightness and turning off RGB keyboard illumination does not work (Ubuntu 22.04)</li> <li>Wi-Fi card is not recognized on Windows 11</li> <li>No HDMI audio on Windows 11</li> <li>No HDMI display output on Windows 11</li> <li>No USB-C display output on Windows 11</li> <li>Keyboard backlight is disabled after suspend (Windows 11)</li> <li>Reset by F9 sets battery thresholds to 0</li> <li>The docking station is not detected after cold-boot, warm-boot and reboot</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#known-issues","title":"Known issues","text":"<ul> <li>Docking station may fail to be initialized if connected before booting and connected to multiple monitors</li> <li>Connecting and immediately disconnecting the charger, sets the battery status in OS to 'charging' for about 2 minutes</li> <li>Power state after power failure option does not work as intended</li> <li>No ability to change active PCR banks with TPM PPI in FW</li> <li>Windows 11 fails to resume from S3 on some board revisions</li> <li>Windows 11 fails to resume from hibernation</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#binaries","title":"Binaries","text":"<p>novacustom_ns5x_tgl_ec_v1.5.1.rom sha256 sha256.sig</p> <p>novacustom_ns5x_tgl_v1.5.1.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_ns5x_tgl/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 4.21 revision 36032e55</li> <li>Dasharo EDKII fork based on edk2-stable202002 revision b68e46b0</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#v140-2023-03-02","title":"v1.4.0 - 2023-03-02","text":""},{"location":"variants/novacustom_ns5x_tgl/releases/#added_1","title":"Added","text":"<ul> <li>The same keyboard illumination setting is restored after suspend or poweroff</li> <li>One of the two fan profiles can now be selected in Setup Menu</li> <li>Fn lock hotkey feature</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#changed_1","title":"Changed","text":"<ul> <li>Keys must be provisioned prior enabling Secure Boot</li> <li>Trackpad no longer working after 1.3.0 upgrade from 1.1.0 (Dasharo issue #313)</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#known-issues_1","title":"Known issues","text":"<ul> <li>Low level interfering crackling/popping of the speakers while playing no sound (Dasharo issue #224)</li> <li>The power LED is not always blinking while in sleep mode on Windows 11 (Dasharo issue #182)</li> <li>Keyboard backlight turns on after resuming from sleep mode  (Dasharo issue #332)</li> <li>The screen brightness level gets stuck when key are held or pressed too fast (Dasharo issue #341)</li> <li>Connecting and immediately disconnecting the charger, sets the battery status in OS to 'charging' for about 2 minutes (Dasharo issue #350)</li> <li>Reset to defaults with F9 causes the wrong settings to be restored (Dasharo issue #355)</li> <li>Connecting the RJ45 cable to the Gigabit Ethernet port on the docking station does not result in obtaining an Internet connection (Dasharo issue #356)</li> <li>Unable to login to Windows 11 with the docking station connected (Dasharo issue #357)</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#binaries_1","title":"Binaries","text":"<p>novacustom_ns5x_tgl_ec_v1.4.0.rom sha256 sha256.sig</p> <p>novacustom_ns5x_tgl_v1.4.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_ns5x_tgl/releases/#sbom-software-bill-of-materials_1","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 1a8eb6c02103727431ac1ea23f4f507e49f3cde7 revision 636f432a</li> <li>EDK2 based on e0334c228ce4ba51f47ff79a118f214031d4650f revision 2c61576a</li> <li>Intel ME version 15.0.30.1776</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#v130-2022-09-01","title":"v1.3.0 - 2022-09-01","text":""},{"location":"variants/novacustom_ns5x_tgl/releases/#ec-firmware-transition","title":"EC firmware transition","text":"<p>Please note, that version 1.3.0 of <code>Dasharo BIOS firmware</code> works correctly only with the <code>Dasharo EC firmware</code>. This is the first release when this open-source EC firmware is used, so additional steps need to be taken when upgrading.</p> <p>Please refer to the Firmware update section for more details on upgrading your firmware.</p>"},{"location":"variants/novacustom_ns5x_tgl/releases/#added_2","title":"Added","text":"<ul> <li> <p>Enabled Vboot Verified Boot</p> </li> <li> <p>Vboot Recovery Popup</p> </li> <li> <p>Fullscreen setup menu</p> </li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#changed_2","title":"Changed","text":"<ul> <li> <p>Rebased on upstream coreboot revision 1a8eb6c0</p> </li> <li> <p>Support for Open EC Firmware</p> </li> <li> <p>Disabled UEFI Secure Boot by default</p> </li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#fixed_1","title":"Fixed","text":"<ul> <li>The touchpad ON/OFF switch Fn key is not functional</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#binaries_2","title":"Binaries","text":"<p>novacustom_ns5x_v1.3.0.rom sha256 sha256.sig novacustom_ns5x_v1.3.0_ec.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_ns5x_tgl/releases/#sbom-software-bill-of-materials_2","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 1a8eb6c02103727431ac1ea23f4f507e49f3cde7 revision 1153a18d</li> <li>EDK2 based on e0334c228ce4ba51f47ff79a118f214031d4650f revision abfdef40</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#v120-2022-05-26","title":"v1.2.0 - 2022-05-26","text":""},{"location":"variants/novacustom_ns5x_tgl/releases/#added_3","title":"Added","text":"<ul> <li>Persistent RGB keyboard settings</li> <li>Increased power limits to CPU defaults (28W PL1 / 35W PL2)</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#fixed_2","title":"Fixed","text":"<ul> <li>CVE-2022-29264 SMM loader vulnerability</li> <li>Incorrect vendor name in SMBIOS</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#known-issues_2","title":"Known issues","text":"<ul> <li>CPU not running on expected frequency and usage NS50MU</li> <li>UCM-UCSI ACPI device displays an error in Windows Device Manager</li> <li>Headsets connected to the docking station are not recognizable on NS70/50 v1.2.0</li> <li>General problem with charging the DUT via the docking station using USB Type-C slot NS70/50 v1.2.0</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#binaries_3","title":"Binaries","text":"<p>novacustom_ns5x_v1.2.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_ns5x_tgl/releases/#sbom-software-bill-of-materials_3","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 4.16 revision b087dcbd</li> <li>tianocore based on e0334c228ce4ba51f47ff79a118f214031d4650f revision 90364638</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#v110-2022-04-22","title":"v1.1.0 - 2022-04-22","text":""},{"location":"variants/novacustom_ns5x_tgl/releases/#added_4","title":"Added","text":"<ul> <li>Support for NovaCustom NS7x</li> <li>Support for RGB Keyboard</li> <li>Persistent boot logo implementation</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#changed_3","title":"Changed","text":"<ul> <li>Temporarily disable vboot due to the risk of bricinkg certain units when flashing via internal programmer</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#known-issues_3","title":"Known issues","text":"<ul> <li>CPU not running on expected frequency and usage NS50MU</li> <li>UCM-UCSI ACPI device displays an error in Windows Device Manager</li> <li>The touchpad ON/OFF switch Fn key is not functional</li> <li>Incorrect vendor name in SMBIOS</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#binaries_4","title":"Binaries","text":"<p>novacustom_ns5x_v1.1.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_ns5x_tgl/releases/#sbom-software-bill-of-materials_4","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 4.16 revision c2f031af</li> <li>tianocore based on e0334c228ce4ba51f47ff79a118f214031d4650f revision 4d2846ba</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#v100-2022-03-23","title":"v1.0.0 - 2022-03-23","text":""},{"location":"variants/novacustom_ns5x_tgl/releases/#added_5","title":"Added","text":"<ul> <li>Support for NovaCustom NS5x</li> <li>Support for EC firmware 1.07.07</li> <li>UEFI Boot Support</li> <li>Configurable boot order</li> <li>Configurable boot options</li> <li>UEFI Secure Boot support</li> <li>NovaCustom boot logo</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#known-issues_4","title":"Known issues","text":"<ul> <li>The touchpad ON/OFF switch Fn key is not functional</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/releases/#binaries_5","title":"Binaries","text":"<p>novacustom_ns5x_v1.0.0.rom sha256 sha256.sig</p>"},{"location":"variants/novacustom_ns5x_tgl/releases/#sbom-software-bill-of-materials_5","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 4.16 revision ecf1e9b8</li> <li>tianocore based on e0334c228ce4ba51f47ff79a118f214031d4650f revision ec6805c2</li> </ul>"},{"location":"variants/novacustom_ns5x_tgl/test-matrix/","title":"Test matrix","text":""},{"location":"variants/novacustom_ns5x_tgl/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests to which the DUT is subjected before the release of the new binary.</p>"},{"location":"variants/novacustom_ns5x_tgl/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. UEFI compatible interface EFI All 3. Display ports and LCD support DSP DSP001.001, DSP001.002, DSP001.003, DSP002.001, DSP002.002 4. Embedded Controller and Super I/O initialization ECR All 5. NVMe support NVM All 6. Custom logo CLG All 7. Custom boot keys CBK All 8. USB HID and MSC Support USB All 9. Debian Stable and Ubuntu LTS support LBT LBT004.001, LBT004.002 10. UEFI Shell USH All 11. Windows booting WBT WBT001.001 12. Audio subsystem AUD All 13. USB-C support UTC All 14. Network boot PXE Without PXE007.001 15. M.2 WiFi/Bluetooth WLE All 16. SD card support SDC All 17. USB Camera verification CAM All 18. Fan speed measure FAN FAN001.001 19. SMBIOS DMI Without DMI001.001 20. Firmware update using fwupd FFW All 21. Dasharo Tools Suite DTS DTS006.001, DTS007.001 22. CPU status CPU All 23. Embedded controller flashing ECF All 24. Logo customization functionality LCM LCM001.001 25. Firmware locally building and flashing FLB All 26. Custom Boot Order CBO CBO001.002 27. QubesOS support QBS All 28. Fedora support FED All 29. Platform suspend and resume SUSP Without SUSP004.001 and SUSP006.001 30. Boot blocking BBB All 31. [Reset to defaults][RTD] RTD All 32. Suspend mechanism switchcing (S0ix/S3) SMS All 33. [Platform hibernation and resume][HBN] HBN All 34. Sign of life SOL All 35. [Power after fail][PSF] PSF All"},{"location":"variants/novacustom_ns5x_tgl/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM Without TPM001.001 and TPM002.001 2. Verified Boot support VBO Without VBO006.001 and VBO007.001 3. Measured Boot support MBO All 4. Secure Boot support SBO Without SBO006.001, SBO007.001 and SBO008.001 5. ME disable/neuter support MNE Without MNE006.001 6. USB stack USS All 7. Network boot availability PXE All 8. BIOS lock support BLS All 9. Early boot DMA protection EDP All 10. SMM BIOS write protection SMM All 11. UEFI Setup password PSW All 12. [Wi-Fi / Bluetooth switch][WBS] WBS All 13. [Camera switch][CHS] CHS All"},{"location":"variants/novacustom_ns5x_tgl/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot boot measure CBMEM All 2. CPU temperature measure CPT All 3. CPU frequency measure CPF All 4. Custom fan curve CFC All 5. Platform stability STB All"},{"location":"variants/novacustom_ns5x_tgl/test-matrix/#module-dasharo-stability","title":"Module: Dasharo stability","text":"No. Supported test suite Test suite ID Supported test cases 1. USB Type-A devices detection SUD All 2. M.2 Wi-fi SMW All 3. NVMe detection SNV All 4. NET interface detection NET All 5. [TPM detection][TPD] TPD TPD003.001, TPD004.001"},{"location":"variants/novacustom_nv4x_adl/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/novacustom_nv4x_adl/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configurations used for validation of the coreboot port on the NovaCustom NV4X laptop.</p>"},{"location":"variants/novacustom_nv4x_adl/hardware-matrix/#ports-specification","title":"Ports specification","text":""},{"location":"variants/novacustom_nv4x_adl/hardware-matrix/#right-side-view","title":"Right side view","text":"No. Description 1. Speaker 2. 2-In-1 Audio Jack (Headphone / Microphone) 3. USB 3.2 Gen 2 Type-C Port 4. USB 3.2 Gen 2 Type-A Port 5. HDMI-Out Port 6. Power Button 7. DC-In Jack 8. Led Indicator"},{"location":"variants/novacustom_nv4x_adl/hardware-matrix/#left-side-view","title":"Left side view","text":"No. Description 1. Security Lock Slot 2. RJ-45 LAN Jack 3. USB 3.2 Gen 2 Type-A Port 4. SD Card Reader 5. Thunderbolt 4 Port with Power Delivery (DC-IN) 6. Speaker <p>The graphics used are from pages 17-18 of the official service manual for the NV41 platforms.</p>"},{"location":"variants/novacustom_nv4x_adl/hardware-matrix/#nv41pz","title":"NV41PZ","text":"Component Description CPU Intel(R) Core(TM) i5-1240P Internal Cooling RAM Slot 1: KVR32S22S8/8 Slot 2: KVR32S22S8/8 SSD Samsung SSD 980 PRO 250 GB Flash memory Macronix MX25L25673GZ4I-08G USB pendrives SanDisk Ultra USB 3.0 32 GB USB Keyboard Logitech, Inc. Keyboard K120 Wireless card 1 Intel Wi-Fi 6 AX201 Wireless card 2 Atheros QCNFA222 Display Display 1: HDMI 1920x1080p Network Local network wired connection Internal devices 1. 1920x1080 14 inch screen 2. Internal keyboard with LED backlight 3. Touchpad 4. Camera 5. Audio subsystem Attached devices Thunderbolt 4 Port: Wavlink 100W PD Pro docking station USB Type-C Port: Adapter USB-C-RJ45 with connected Ethernet cable Power Supply Chicony 19V, 4.74A, 90 W Power Control SonOff S26 KVM PiKVM based on Raspberry Pi 4"},{"location":"variants/novacustom_nv4x_adl/openness-score/","title":"Dasharo Openness Score","text":"<p>Openness Score for novacustom_nv4x_adl_v1.7.1_full.rom</p> <p>Open-source code percentage: 34.9% Closed-source code percentage: 65.1%</p> <ul> <li>Image size: 33554432 (0x2000000)</li> <li>Number of regions: 27</li> <li>Number of CBFSes: 3</li> <li>Total open-source code size: 4558876 (0x45901c)</li> <li>Total closed-source code size: 8497434 (0x81a91a)</li> <li>Total data size: 686483 (0xa7993)</li> <li>Total empty size: 19811639 (0x12e4d37)</li> </ul> <p></p> <p></p> <p>Numbers given above already include the calculations from CBFS regions presented below</p>"},{"location":"variants/novacustom_nv4x_adl/openness-score/#fmap-regions","title":"FMAP regions","text":"FMAP region Offset Size Category SI_ME 0x1000 0x4ff000 closed-source SI_DESC 0x0 0x1000 data RECOVERY_MRC_CACHE 0x1000000 0x10000 data RW_MRC_CACHE 0x1010000 0x10000 data SMMSTORE 0x1020000 0x40000 data SHARED_DATA 0x1060000 0x2000 data VBLOCK_DEV 0x1062000 0x2000 data RW_NVRAM 0x1064000 0x6000 data CONSOLE 0x106a000 0x20000 data VBLOCK_A 0x118a000 0x10000 data RW_FWID_A 0x1bfffc0 0x40 data RO_VPD 0x1c00000 0x4000 data FMAP 0x1c04000 0x800 data RO_FRID 0x1c04800 0x40 data RO_FRID_PAD 0x1c04840 0x7c0 data GBB 0x1c05000 0x3000 data UNUSED 0x500000 0xb00000 empty"},{"location":"variants/novacustom_nv4x_adl/openness-score/#cbfs-bootsplash","title":"CBFS BOOTSPLASH","text":"<ul> <li>CBFS size: 1048576</li> <li>Number of files: 1</li> <li>Open-source files size: 0 (0x0)</li> <li>Closed-source files size: 0 (0x0)</li> <li>Data size: 28 (0x1c)</li> <li>Empty size: 1048548 (0xfffe4)</li> </ul> <p>Numbers given above are already normalized (i.e. they already include size of metadata and possible closed-source LAN drivers included in the payload which are not visible in the table below)</p> CBFS filename CBFS filetype Size Compression Category (empty) null 1048548 none empty"},{"location":"variants/novacustom_nv4x_adl/openness-score/#cbfs-fw_main_a","title":"CBFS FW_MAIN_A","text":"<ul> <li>CBFS size: 10903488</li> <li>Number of files: 13</li> <li>Open-source files size: 2229678 (0x2205ae)</li> <li>Closed-source files size: 1629325 (0x18dc8d)</li> <li>Data size: 8698 (0x21fa)</li> <li>Empty size: 7035787 (0x6b5b8b)</li> </ul> <p>Numbers given above are already normalized (i.e. they already include size of metadata and possible closed-source LAN drivers included in the payload which are not visible in the table below)</p> CBFS filename CBFS filetype Size Compression Category fallback/romstage stage 95160 none open-source fallback/ramstage stage 152839 LZMA open-source fallback/dsdt.aml raw 22894 none open-source fallback/postcar stage 42408 none open-source fallback/payload simple elf 1916377 none open-source cpu_microcode_blob.bin microcode 546816 none closed-source fspm.bin fsp 786432 none closed-source fsps.bin fsp 296077 LZ4 closed-source config raw 5475 LZMA data revision raw 856 none data build_info raw 98 none data vbt.bin raw 1290 LZMA data (empty) null 1188 none empty"},{"location":"variants/novacustom_nv4x_adl/openness-score/#cbfs-coreboot","title":"CBFS COREBOOT","text":"<ul> <li>CBFS size: 4161536</li> <li>Number of files: 18</li> <li>Open-source files size: 2329198 (0x238a6e)</li> <li>Closed-source files size: 1629325 (0x18dc8d)</li> <li>Data size: 10045 (0x273d)</li> <li>Empty size: 192968 (0x2f1c8)</li> </ul> <p>Numbers given above are already normalized (i.e. they already include size of metadata and possible closed-source LAN drivers included in the payload which are not visible in the table below)</p> CBFS filename CBFS filetype Size Compression Category fallback/romstage stage 95160 none open-source fallback/ramstage stage 152839 LZMA open-source fallback/dsdt.aml raw 22894 none open-source fallback/postcar stage 42408 none open-source fallback/payload simple elf 1916377 none open-source bootblock bootblock 99520 none open-source cpu_microcode_blob.bin microcode 546816 none closed-source fspm.bin fsp 786432 none closed-source fsps.bin fsp 296077 LZ4 closed-source cbfs_master_header cbfs header 28 none data intel_fit intel_fit 80 none data config raw 5475 LZMA data revision raw 856 none data build_info raw 98 none data vbt.bin raw 1290 LZMA data cmos_layout.bin cmos_layout 800 none data (empty) null 36 none empty (empty) null 192932 none empty"},{"location":"variants/novacustom_nv4x_adl/releases/","title":"NovaCustom NV4x 12th Gen Dasharo Release Notes","text":"<p>Following Release Notes describe status of open-source firmware development for NovaCustom NV4x 12th Gen</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> <p>Subscribe to NovaCustom NV4x 12th Gen Dasharo Release Newsletter</p> <p></p>"},{"location":"variants/novacustom_nv4x_adl/releases/#v171-2023-11-06","title":"v1.7.1 - 2023-11-06","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/novacustom_nv4x_adl/releases/#added","title":"Added","text":"<ul> <li>Firmware update mode</li> <li>BIOS boot medium write-protection</li> <li>SMM BIOS write protection</li> <li>Early boot DMA protection</li> <li>Early Sign of Life display output</li> <li>Current limiting for USB-PD power supplies</li> <li>Setup menu password configuration</li> <li>Wi-Fi / Bluetooth module disable option in setup menu</li> <li>Built-in webcam disable option in setup menu</li> <li>USB stack disable option in setup menu</li> <li>Network stack disable option in setup menu</li> <li>Battery threshold options in setup menu</li> <li>Block boot when battery is too low</li> <li>Power on AC option in setup menu</li> <li>Firmware display on external monitor when lid is closed</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#changed","title":"Changed","text":"<ul> <li>Rebased on coreboot release 4.21</li> <li>Removed software keyboard backlight controls for improved backlight reliability</li> <li>Disabled EC debug logging for improved security</li> <li>Set throttling temperature to 75 degrees C</li> <li>UEFI 2.8 specification compliance</li> <li>Improved battery charging logic</li> <li>Improved USB-C docking station compatibility</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#fixed","title":"Fixed","text":"<ul> <li>Low performance when booting on battery power only</li> <li>Power delivery compatibility</li> <li>Better support for USB-PD power supplies</li> <li>After changing the Intel ME mode the Reset option in the setup menu turns off the device</li> <li>Laptops randomly go into suspend mode from which they can not wake up.</li> <li>Reset to defaults with F9 causes the wrong settings to be restored</li> <li>Keyboard backlight not working after restart</li> <li>Warning sign in device manager under the touchpad device</li> <li>Popup with information about recovery mode is displayed after flashing with a valid binary</li> <li>The power LED is not always blinking while in sleep mode on Windows 11</li> <li>Internal keyboard stops working randomly in firmware</li> <li>DTS on network boot fails to boot</li> <li>Firmware Update Mode does not automatically boot into DTS</li> <li>Permanent keyboard illumination after cold boot fails: keyboard light level is not saved correctly</li> <li>Controlling keyboard illumination (brightess and on/off) does not work</li> <li>Permanent keyboard illumination not working in Ubuntu 22.04</li> <li>Controlling brightness and turning off RGB keyboard illumination does not work (Ubuntu 22.04)</li> <li>Wi-Fi card is not recognized on Windows 11</li> <li>No HDMI audio on Windows 11</li> <li>No HDMI display output on Windows 11</li> <li>No USB-C display output on Windows 11</li> <li>Keyboard backlight is disabled after suspend (Windows 11)</li> <li>Reset by F9 sets battery thresholds to 0</li> <li>The docking station is not detected after cold-boot, warm-boot and reboot</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#known-issues","title":"Known issues","text":"<ul> <li>Docking station may fail to be initialized if connected before booting and connected to multiple monitors</li> <li>Connecting and immediately disconnecting the charger, sets the battery status in OS to 'charging' for about 2 minutes</li> <li>Power state after power failure option does not work as intended</li> <li>No ability to change active PCR banks with TPM PPI in FW</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#binaries","title":"Binaries","text":"<p>novacustom_nv4x_adl_ec_v1.7.1.rom sha256 sha256.sig</p> <p>novacustom_nv4x_adl_v1.7.1.rom sha256 sha256.sig</p> <p>novacustom_nv4x_adl_v1.7.1_dev_signed.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_nv4x_adl/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 4.21 revision 36032e55</li> <li>Dasharo EDKII fork based on edk2-stable202002 revision b68e46b0</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#v160-2023-04-19","title":"v1.6.0 - 2023-04-19","text":""},{"location":"variants/novacustom_nv4x_adl/releases/#added_1","title":"Added","text":"<ul> <li>Intel Management Engine Disable</li> <li>The same keyboard illumination setting is restored after suspend or poweroff</li> <li>One of the two fan profiles can now be selected in Setup Menu</li> <li>Fn lock hotkey feature</li> <li>Setup menu option for switching between S0ix and S3 suspend mode</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#changed_1","title":"Changed","text":"<ul> <li>Keys must be provisioned prior enabling Secure Boot</li> <li>The function keys responsible for entering the setup and boot menu in BIOS   have been changed from ESC/F12 to F2/F7</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#fixed_1","title":"Fixed","text":"<ul> <li>The power LED is not always blinking while in sleep mode on Ubuntu 22.04 (#260)</li> <li>Suspend mode not working under Qubes OS 4.1 (#266)</li> <li>Docking station under Qubes OS (#267)</li> <li>The Auto Boot time-out value is not respected (#292)</li> <li>ACPI boot errors during booting Ubuntu 22.04 (#293)</li> <li>Windows update KB5012170 cannot be installed (#294)</li> <li>Internal keyboard sometimes does not work in firmware (#295)</li> <li>Laptop hangs up after 20 cycles of the suspend procedure (#305)</li> <li>Keyboard backlight not working after restart (#349)</li> <li>Function key display on/off does not completely blank the screen (#354)</li> <li>Connecting the RJ45 cable to the Gigabit Ethernet port on the docking station does not result in obtaining an Internet connection (#356)</li> <li>Unable to wake up from suspend (#362)</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#known-issues_1","title":"Known issues","text":"<ul> <li>The power LED is not always blinking while in sleep mode on Windows 11 (#182)</li> <li>Popup with information about recovery mode is displayed after flashing with a valid binary (#269)</li> <li>Missing information about cache (#343)</li> <li>Connecting and immediately disconnecting the charger, sets the battery status in OS to charging for about 2 minutes (#350)</li> <li>Reset to defaults with F9 causes the wrong settings to be restored (#355)</li> <li>Unwanted reset of BIOS settings (#365)</li> <li>Laptop not suspending while connected to a USB-C docking station (#368)</li> <li>The docking station is not detected after cold-boot and warm-boot (#404)</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#binaries_1","title":"Binaries","text":"<p>novacustom_nv4x_adl_ec_v1.6.0.rom sha256 sha256.sig</p> <p>novacustom_nv4x_adl_v1.6.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_nv4x_adl/releases/#sbom-software-bill-of-materials_1","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 1a8eb6c02103727431ac1ea23f4f507e49f3cde7 revision a3056ac5</li> <li>Dasharo EDKII fork based on e0334c228ce4ba51f47ff79a118f214031d4650f revision bd421b40</li> <li>Intel ME version 16.1.25.1865</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#v150-non-public-engineering-release","title":"v1.5.0 - Non-public engineering release","text":""},{"location":"variants/novacustom_nv4x_adl/releases/#v140-2022-12-13","title":"v1.4.0 - 2022-12-13","text":""},{"location":"variants/novacustom_nv4x_adl/releases/#added_2","title":"Added","text":"<ul> <li>Support for NovaCustom NV4x 12th Gen</li> <li>UEFI Boot Support</li> <li>Configurable boot order</li> <li>Configurable boot options</li> <li>UEFI Secure Boot support</li> <li>NovaCustom boot logo</li> <li>Vboot Verified Boot</li> <li>Vboot Recovery Popup</li> <li>Fullscreen setup menu</li> <li>Open-source Embedded Controller Firmware</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#fixed_2","title":"Fixed","text":"<ul> <li>The external headset connected to the jack slot doesn't work</li> <li>ISO keyboard issue for non-US layouts NV4xMx</li> <li>Sleep sometimes not working</li> <li>The connected RJ45 cable to the Ethernet socket causes a hardware error on Windows 11</li> <li>The touchpad ON/OFF switch Fn key is not functional</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#known-issues_2","title":"Known issues","text":"<ul> <li>Popup with information about recovery mode is displayed after flashing with a valid binary</li> <li>The power LED is not blinking during sleep mode when the docking station is connected on Windows 11</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/releases/#binaries_2","title":"Binaries","text":"<p>novacustom_nv4x_adl_ec_v1.4.0.rom sha256 sha256.sig</p> <p>novacustom_nv4x_adl_v1.4.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_nv4x_adl/releases/#sbom-software-bill-of-materials_2","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 1a8eb6c02103727431ac1ea23f4f507e49f3cde7 revision cd975d74</li> <li>Dasharo EDKII fork based on e0334c228ce4ba51f47ff79a118f214031d4650f revision abfdef40</li> </ul>"},{"location":"variants/novacustom_nv4x_adl/test-matrix/","title":"Test matrix","text":""},{"location":"variants/novacustom_nv4x_adl/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p>"},{"location":"variants/novacustom_nv4x_adl/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. UEFI compatible interface EFI All 3. Display ports and LCD support DSP DSP001.001, DSP001.002, DSP001.003, DSP002.001, DSP002.002 4. Embedded Controller and Super I/O initialization ECR Without ECR021.001, ECR021.002, ECR022.001, ECR022.002, ECR023.001, ECR023.002, ECR024.001, ECR024.002 5. NVMe support NVM All 6. Custom logo CLG All 7. Custom boot keys CBK All 8. USB HID and MSC Support USB All 9. Debian Stable and Ubuntu LTS support LBT LBT004.001, LBT004.002 10. UEFI Shell USH All 11. Windows booting WBT WBT001.001 12. Audio subsystem AUD All 13. USB-C support UTC All 14. Network boot PXE Without PXE007.001 15. M.2 WiFi/Bluetooth WLE All 16. SD card support SDC All 17. USB Camera verification CAM All 18. Fan speed measure FAN FAN001.001 19. SMBIOS DMI Without DMI001.001 20. Firmware update using fwupd FFW All 21. Dasharo Tools Suite DTS DTS006.001, DTS007.001 22. CPU status CPU All 23. Embedded controller flashing ECF All 24. Logo customization functionality LCM LCM001.001 25. Firmware locally building and flashing FLB All 26. Custom Boot Order CBO CBO001.002 27. QubesOS support QBS All 28. Fedora support FED All 29. Platform suspend and resume SUSP Without SUSP004.001 and SUSP006.001 30. Boot blocking BBB All 31. [Reset to defaults][RTD] RTD All 32. Suspend mechanism switchcing (S0ix/S3) SMS All 33. [Platform hibernation and resume][HBN] HBN All 34. Sign of life SOL All 35. [Power after fail][PSF] PSF All"},{"location":"variants/novacustom_nv4x_adl/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM Without TPM001.001 and TPM002.001 2. Verified Boot support VBO Without VBO006.001 and VBO007.001 3. Measured Boot support MBO All 4. Secure Boot support SBO Without SBO006.001, SBO007.001 and SBO008.001 5. ME disable/neuter support MNE Without MNE006.001 6. USB stack USS All 7. Network boot availability PXE All 8. BIOS lock support BLS All 9. Early boot DMA protection EDP All 10. SMM BIOS write protection SMM All 11. UEFI Setup password PSW All 12. [Wi-Fi / Bluetooth switch][WBS] WBS All 13. [Camera switch][CHS] CHS All"},{"location":"variants/novacustom_nv4x_adl/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot boot measure CBMEM All 2. CPU temperature measure CPT All 3. CPU frequency measure CPF All 4. Custom fan curve CFC All 5. Platform stability STB All"},{"location":"variants/novacustom_nv4x_adl/test-matrix/#module-dasharo-stability","title":"Module: Dasharo stability","text":"No. Supported test suite Test suite ID Supported test cases 1. USB Type-A devices detection SUD All 2. M.2 Wi-fi SMW All 3. NVMe detection SNV All 4. NET interface detection NET All 5. [TPM detection][TPD] TPD TPD003.001, TPD004.001"},{"location":"variants/novacustom_nv4x_tgl/compatibility-check-results-ubuntu/","title":"Checkbox logs comparison","text":""},{"location":"variants/novacustom_nv4x_tgl/compatibility-check-results-ubuntu/#introduction","title":"Introduction","text":"<p>Checkbox is a flexible test automation software. It\u2019s the main tool used in Ubuntu Certification program.</p> <p>You can use this software without any modification to check if your system is behaving correctly or you can develop your own set of tests to check your needs.</p> <p>Checkbox optionally generates test reports in different formats (JSON, HTML, etc.) that can be used to easily share the results of a test session.</p>"},{"location":"variants/novacustom_nv4x_tgl/compatibility-check-results-ubuntu/#checkbox-comparison-vendor-firmware-vs-dasharo","title":"Checkbox comparison - vendor firmware vs Dasharo","text":""},{"location":"variants/novacustom_nv4x_tgl/compatibility-check-results-ubuntu/#testing-assumptions","title":"Testing assumptions","text":"<ol> <li>Tests have been conducted on the same OS version (Ubuntu 22.04 LTS).</li> <li>Tests have been conducted on the same device, firstly with vendor firmware and secondly with Dasharo firmware (version 1.2.1).</li> </ol>"},{"location":"variants/novacustom_nv4x_tgl/compatibility-check-results-ubuntu/#test-results","title":"Test results","text":"<ol> <li>Test results - vendor firmware:<ul> <li>PASSED: 74,</li> <li>FAILED: 80,</li> <li>NOT SUPPORTED: 25.</li> </ul> </li> <li>Test results - Dasharo firmware:<ul> <li>PASSED: 74,</li> <li>FAILED: 80,</li> <li>NOT SUPPORTED: 25.</li> </ul> </li> </ol>"},{"location":"variants/novacustom_nv4x_tgl/compatibility-check-results-ubuntu/#fails-comparison","title":"Fails comparison","text":"<p>The following table collects information about all errors detected by the certification program. In the second column test case name is described and in the third and fourth columns, the information about bug appearance on vendor/Dasharo firmware is shown.</p> No. Test case name Dasharo firmware Vendor firmware 1 graphics/1_driver_version_TigerLake-LP_GT2__Iris_Xe_Graphics_ YES YES 2 graphics/1_driver_version_TigerLake-LP_GT2__Iris_Xe_Graphics_ YES YES 3 bluetooth4/beacon_eddystone_url_hci0 YES YES 4 mediacard/storage-preinserted-disk/by-uuid/0868-01F6 YES YES 5 mediacard/storage-preinserted-disk/by-uuid/2adea2a3-f163-4d14-b6f3-b8d628611e23 YES YES 6 mediacard/storage-preinserted-disk/by-uuid/2d67f8a9-7f79-4419-b1d3-e096ca010512 YES YES 7 mediacard/storage-preinserted-disk/by-uuid/3bb6b676-1c4d-4ffb-8ede-e68f513fcdf1 YES YES 8 wireless/wireless_connection_open_ac_nm_wlp55s0 YES YES 9 wireless/wireless_connection_open_ax_nm_wlp55s0 YES YES 10 wireless/wireless_connection_open_bg_nm_wlp55s0 YES YES 11 wireless/wireless_connection_open_n_nm_wlp55s0 YES YES 12 wireless/wireless_connection_wpa_ac_nm_wlp55s0 YES YES 13 wireless/wireless_connection_wpa_ax_nm_wlp55s0 YES YES 14 wireless/wireless_connection_wpa_bg_nm_wlp55s0 YES YES 15 wireless/wireless_connection_wpa_n_nm_wlp55s0 YES YES 16 tpm2.0_4.1.1/tpm2_import YES YES 17 tpm2.0_4.1.1/tpm2_clockrateadjust YES YES 18 tpm2.0_4.1.1/tpm2_loadexternal YES YES 19 tpm2.0_4.1.1/tpm2_rsadecrypt YES YES 20 tpm2.0_4.1.1/tpm2_activecredential YES YES 21 tpm2.0_4.1.1/tpm2_attestation YES YES 22 tpm2.0_4.1.1/tpm2_certify YES YES 23 tpm2.0_4.1.1/tpm2_certifycreation YES YES 24 tpm2.0_4.1.1/tpm2_changeauth YES YES 25 tpm2.0_4.1.1/tpm2_checkquote YES YES 26 tpm2.0_4.1.1/tpm2_clear YES YES 27 tpm2.0_4.1.1/tpm2_create YES YES 28 tpm2.0_4.1.1/tpm2_createak YES YES 29 tpm2.0_4.1.1/tpm2_createek YES YES 30 tpm2.0_4.1.1/tpm2_createpolicy YES YES 31 tpm2.0_4.1.1/tpm2_createprimary YES YES 32 tpm2.0_4.1.1/tpm2_dictionarylockout YES YES 33 tpm2.0_4.1.1/tpm2_duplicate YES YES 34 tpm2.0_4.1.1/tpm2_evictcontrol YES YES 35 tpm2.0_4.1.1/tpm2_flushcontext YES YES 36 tpm2.0_4.1.1/tpm2_getcap YES YES 37 tpm2.0_4.1.1/tpm2_getekcertificate YES YES 38 tpm2.0_4.1.1/tpm2_getrandom YES YES 39 tpm2.0_4.1.1/tpm2_gettestresult YES YES 40 tpm2.0_4.1.1/tpm2_gettime YES YES 41 tpm2.0_4.1.1/tpm2_hash YES YES 42 tpm2.0_4.1.1/tpm2_hmac YES YES 43 tpm2.0_4.1.1/tpm2_import_tpm YES YES 44 tpm2.0_4.1.1/tpm2_incrementalselftest YES YES 45 tpm2.0_4.1.1/tpm2_load YES YES 46 tpm2.0_4.1.1/tpm2_makecredential YES YES 47 tpm2.0_4.1.1/tpm2_nv YES YES 48 tpm2.0_4.1.1/tpm2_nvcertify YES YES 49 tpm2.0_4.1.1/tpm2_nvinc YES YES 50 tpm2.0_4.1.1/tpm2_output_formats YES YES 51 tpm2.0_4.1.1/tpm2_pcrevent YES YES 52 tpm2.0_4.1.1/tpm2_pcrextend YES YES 53 tpm2.0_4.1.1/tpm2_pcrlist YES YES 54 tpm2.0_4.1.1/tpm2_pcrreset YES YES 55 tpm2.0_4.1.1/tpm2_print YES YES 56 tpm2.0_4.1.1/tpm2_quote YES YES 57 tpm2.0_4.1.1/tpm2_readclock YES YES 58 tpm2.0_4.1.1/tpm2_readpublic YES YES 59 tpm2.0_4.1.1/tpm2_rsaencrypt YES YES 60 tpm2.0_4.1.1/tpm2_selftest YES YES 61 tpm2.0_4.1.1/tpm2_send YES YES 62 tpm2.0_4.1.1/tpm2_setclock YES YES 63 tpm2.0_4.1.1/tpm2_setprimarypolicy YES YES 64 tpm2.0_4.1.1/tpm2_sign YES YES 65 tpm2.0_4.1.1/tpm2_startup YES YES 66 tpm2.0_4.1.1/tpm2_stirrandom YES YES 67 tpm2.0_4.1.1/tpm2_testparms YES YES 68 tpm2.0_4.1.1/tpm2_unseal YES YES 69 tpm2.0_4.1.1/tpm2_verifysignature YES YES 70 audio/detect_sinks_sources YES YES 71 suspend/1_driver_version_after_suspend_TigerLake-LP_GT2__Iris_Xe_Graphics__auto YES YES 72 suspend/2_driver_version_after_suspend_TU117M_auto YES YES 73 suspend/audio_before_suspend YES YES 74 suspend/bluetooth_obex_send_after_suspend_auto YES YES 75 suspend/bluetooth_obex_send_before_suspend YES YES 76 usb/storage-preinserted-disk/by-uuid/0868-01F6 YES YES 77 usb/storage-preinserted-disk/by-uuid/2adea2a3-f163-4d14-b6f3-b8d628611e23 YES YES 78 usb/storage-preinserted-disk/by-uuid/2d67f8a9-7f79-4419-b1d3-e096ca010512 YES YES 79 usb/storage-preinserted-disk/by-uuid/3bb6b676-1c4d-4ffb-8ede-e68f513fcdf1 YES YES 80 usb/storage-preinserted-disk/by-uuid/452E-652F YES YES"},{"location":"variants/novacustom_nv4x_tgl/compatibility-check-results-ubuntu/#logs-from-tests","title":"Logs from tests","text":"<p>Logs are available under this link.</p>"},{"location":"variants/novacustom_nv4x_tgl/compatibility-check-results-ubuntu/#summary","title":"Summary","text":"<p>Test results are the same for vendor and dasharo firmware, with no differences.</p>"},{"location":"variants/novacustom_nv4x_tgl/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/novacustom_nv4x_tgl/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configurations used for validation of the coreboot port on the NovaCustom NV4X laptop.</p>"},{"location":"variants/novacustom_nv4x_tgl/hardware-matrix/#ports-specification","title":"Ports specification","text":""},{"location":"variants/novacustom_nv4x_tgl/hardware-matrix/#right-side-view","title":"Right side view","text":"No. Description 1. Speaker 2. 2-In-1 Audio Jack (Headphone / Microphone) 3. USB 3.2 Gen 2 Type-C Port 4. USB 3.2 Gen 2 Type-A Port 5. HDMI-Out Port 6. Power Button 7. DC-In Jack 8. Led Indicator"},{"location":"variants/novacustom_nv4x_tgl/hardware-matrix/#left-side-view","title":"Left side view","text":"No. Description 1. Security Lock Slot 2. RJ-45 LAN Jack 3. USB 3.2 Gen 2 Type-A Port 4. SD Card Reader 5. Thunderbolt 4 Port with Power Delivery (DC-IN) 6. Speaker <p>The graphics used are from pages 17-18 of the official service manual for the NV41 platforms.</p>"},{"location":"variants/novacustom_nv4x_tgl/hardware-matrix/#nv41mz","title":"NV41MZ","text":"Component Description CPU Intel(R) Core(TM) i7-1165G7 Internal Cooling RAM Slot 1: KVR29S21S6/8 Slot 2: KVR29S21S6/8 SSD Samsung 980 PRO NVMe 500 GB Flash memory GigaDevice 25B127DSIG 16 MB USB pendrives SanDisk Ultra USB 3.0 32 GB USB Keyboard Logitech, Inc. Keyboard K120 Wireless card 1 Intel Wi-Fi 6 AX201 Wireless card 2 Atheros QCNFA222 Display Display 1: HDMI 1920x1080p Network Local network wired connection Internal devices 1. 1920x1080 14 inch screen 2. Internal keyboard with LED backlight 3. Touchpad 4. Camera 5. Audio subsystem Attached devices Thunderbolt 4 Port: Wavlink 100W PD Pro docking station USB Type-C Port: Adapter USB-C-RJ45 with connected Ethernet cable Power Supply Chicony 19V, 3.42A, 65 W"},{"location":"variants/novacustom_nv4x_tgl/hardware-matrix/#nv41mb","title":"NV41MB","text":"Component Description CPU Intel(R) Core(TM) i7-1165G7 Internal Cooling GPU NVIDIA GeForce GTX1650 4 GB RAM Slot 1: KVR29S21D8/32 Slot 2: KVR29S21D8/32 SSD Samsung 980 PRO NVMe 250 GB Flash memory GigaDevice 25B127DSIG 16 MB USB pendrives SanDisk Ultra USB 3.0 32 GB USB Keyboard Logitech, Inc. Keyboard K120 Wireless card Intel Wi-Fi 6 AX201 Display Display 1: HDMI 1920x1080p Network Local network wired connection Internal devices 1. 1920x1080 14 inch screen 2. Internal keyboard with LED backlight 3. Touchpad 4. Camera 5. Audio subsystem Attached devices Thunderbolt 4 Port: Wavlink 100W PD Pro docking station USB Type-C Port: Adapter USB-C-RJ45 with connected Ethernet cable Power Supply Chicony 19V, 4.74A, 90 W"},{"location":"variants/novacustom_nv4x_tgl/lvfs_report/","title":"NovaCustom fwupd/LVFS support service","text":""},{"location":"variants/novacustom_nv4x_tgl/lvfs_report/#introduction","title":"Introduction","text":"<p>This document contains the report of the discovery of the most appropriate fwupd/LVFS firmware update method, including potential risks and roadblocks.</p>"},{"location":"variants/novacustom_nv4x_tgl/lvfs_report/#device-specification","title":"Device specification","text":"<p>NovaCustom NV4x system firmware</p> <ul> <li>Intel i7-1165G7 (Tiger Lake ULV platform)</li> <li>Samsung 980PRO NVMe SSD</li> <li>2x SO-DIMM DDR4 system memory</li> <li>Optional NVIDIA discrete graphics</li> <li>Dasharo coreboot-based firmware</li> <li>Firmware stored on a SPI flash chip, flashable internally via flashrom</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/lvfs_report/#update-protocol","title":"Update protocol","text":"<ul> <li>The device is flashable internally via flashrom</li> <li>No special unlocks necessary for flashing the required BIOS flash portions   (only requirement is that UEFI Secure Boot is disabled while updating)</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/lvfs_report/#feasibility-analysis","title":"Feasibility analysis","text":"<ul> <li>Tiger Lake-U is supported in flashrom<ul> <li>Present since this commit,   not yet released to stable as of 14.01.2022</li> </ul> </li> <li>flashrom is supported in fwupd<ul> <li>flashrom plugin is enabled by default in many common desktop Linux   distributions, including Ubuntu (starting with 21.10) and Arch Linux</li> <li>enabling a device in the flashrom plugin is a matter of adding   device-specific entries to the plugin quirk list</li> </ul> </li> <li>Potential risk: vboot support in fwupd<ul> <li>flashrom supports flashing vboot rw slots, which are coreboot images   located within the BIOS partition of the flash</li> <li>however, fwupd only implements flashing the entire BIOS region of the SPI   flash, which includes other firmware components such as vboot keys,   vboot recovery partition and user settings</li> <li>the device currently has vboot partially implemented - the BIOS flash   is not protected and the binaries are signed with (public) developer keys</li> <li>this means we can currently update the BIOS using the traditional fwupd   update path</li> <li>once we decide to change the vboot keys and lock down the rest of the,   flash, proper vboot support will need to be implemented in fwupd</li> <li>until then, it will not be possible to enable vboot fully</li> </ul> </li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/lvfs_report/#further-steps-vboot-support","title":"Further steps: Vboot support","text":"<ul> <li>In case full vboot support in fwupd is desired, the following are currently   missing and need to be implemented:<ul> <li>Support reading and processing VBNV (Vboot non-volatile store) data in   fwupd:<ul> <li>this store contains information about the current vboot state,   e.g. currently booted slot (A/B/Recovery), recovery reason, firmware   signature verification status. This information is stored in CMOS, but   the exact offset varies by device - so a method for determining the offset   is also required.</li> <li>For Google Chromebooks, this offset is exposed in a Chromebook-specific   ACPI device which we cannot use in non-Chromebook device. An alternative   interface or possibly a quirk in fwupd's flashrom plugin will need to be   added (though this approach is not preferred by fwupd maintainers).</li> </ul> </li> <li>Support for flashing fmap regions in fwupd's flashrom plugin:<ul> <li>currently,   fwupd only attempts to read flash layout from the Intel Flash Descriptor   located in the flash. This only allows fwupd to flash the entire BIOS   region, while vboot requires only a portion of the BIOS partition to be   updated at a given time, with some of the BIOS partition being read-only.   This means that with vboot fully enabled, updating will fail by attempting   to write to a read-only portion of the flash.</li> <li>Vboot partitions (slots) are a subset of the bios partition and are defined   in FMAP (flashmap). Support for it will need to be implemented in fwupd   (possible by utilizing libflashrom).   Additionally, some user settings like boot order and setup options are   stored in a separate FMAP region, so implementing FMAP support in fwupd   will allow us to preserve them across firmware updates.</li> </ul> </li> <li>Vboot A/B slot support<ul> <li>In Google Chromebooks, the firmware updater   only updates one slot at a time and if it succeeds (the device reboots   into it successfully and works stably), then it will also update the other   slot to the same (now confirmed good) firmware. fwupd does not currently   support anything like this, so support for it will also need to be   implemented.</li> </ul> </li> <li>Prior work:<ul> <li>fwupd #1370</li> <li>fwupd #1481</li> <li>LKML thread</li> </ul> </li> </ul> </li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/openness-score/","title":"Dasharo Openness Score","text":"<p>Openness Score for novacustom_nv4x_tgl_v1.5.1_full.rom</p> <p>Open-source code percentage: 37.5% Closed-source code percentage: 62.5%</p> <ul> <li>Image size: 16777216 (0x1000000)</li> <li>Number of regions: 26</li> <li>Number of CBFSes: 3</li> <li>Total open-source code size: 4511162 (0x44d5ba)</li> <li>Total closed-source code size: 7509228 (0x7294ec)</li> <li>Total data size: 628729 (0x997f9)</li> <li>Total empty size: 4128097 (0x3efd61)</li> </ul> <p></p> <p></p> <p>Numbers given above already include the calculations from CBFS regions presented below</p>"},{"location":"variants/novacustom_nv4x_tgl/openness-score/#fmap-regions","title":"FMAP regions","text":"FMAP region Offset Size Category SI_ME 0x1000 0x4ff000 closed-source SI_DESC 0x0 0x1000 data RECOVERY_MRC_CACHE 0x500000 0x10000 data RW_MRC_CACHE 0x510000 0x10000 data SMMSTORE 0x520000 0x40000 data SHARED_DATA 0x560000 0x2000 data VBLOCK_DEV 0x562000 0x2000 data RW_NVRAM 0x564000 0x6000 data CONSOLE 0x56a000 0x20000 data VBLOCK_A 0x68a000 0x2000 data RW_FWID_A 0xbfffc0 0x40 data RO_VPD 0xc00000 0x4000 data FMAP 0xc04000 0x800 data RO_FRID 0xc04800 0x40 data RO_FRID_PAD 0xc04840 0x7c0 data GBB 0xc05000 0x3000 data"},{"location":"variants/novacustom_nv4x_tgl/openness-score/#cbfs-bootsplash","title":"CBFS BOOTSPLASH","text":"<ul> <li>CBFS size: 1048576</li> <li>Number of files: 1</li> <li>Open-source files size: 0 (0x0)</li> <li>Closed-source files size: 0 (0x0)</li> <li>Data size: 28 (0x1c)</li> <li>Empty size: 1048548 (0xfffe4)</li> </ul> <p>Numbers given above are already normalized (i.e. they already include size of metadata and possible closed-source LAN drivers included in the payload which are not visible in the table below)</p> CBFS filename CBFS filetype Size Compression Category (empty) null 1048548 none empty"},{"location":"variants/novacustom_nv4x_tgl/openness-score/#cbfs-fw_main_a","title":"CBFS FW_MAIN_A","text":"<ul> <li>CBFS size: 5717952</li> <li>Number of files: 12</li> <li>Open-source files size: 2209341 (0x21b63d)</li> <li>Closed-source files size: 1135222 (0x115276)</li> <li>Data size: 8472 (0x2118)</li> <li>Empty size: 2364917 (0x2415f5)</li> </ul> <p>Numbers given above are already normalized (i.e. they already include size of metadata and possible closed-source LAN drivers included in the payload which are not visible in the table below)</p> CBFS filename CBFS filetype Size Compression Category fallback/romstage stage 88136 none open-source fallback/ramstage stage 141422 LZMA open-source fallback/dsdt.aml raw 22608 none open-source fallback/postcar stage 40492 none open-source fallback/payload simple elf 1916683 none open-source cpu_microcode_blob.bin microcode 207872 none closed-source fspm.bin fsp 651264 none closed-source fsps.bin fsp 276086 LZ4 closed-source config raw 5210 LZMA data revision raw 856 none data build_info raw 98 none data vbt.bin raw 1308 LZMA data"},{"location":"variants/novacustom_nv4x_tgl/openness-score/#cbfs-coreboot","title":"CBFS COREBOOT","text":"<ul> <li>CBFS size: 4161536</li> <li>Number of files: 19</li> <li>Open-source files size: 2301821 (0x231f7d)</li> <li>Closed-source files size: 1135222 (0x115276)</li> <li>Data size: 9861 (0x2685)</li> <li>Empty size: 714632 (0xae788)</li> </ul> <p>Numbers given above are already normalized (i.e. they already include size of metadata and possible closed-source LAN drivers included in the payload which are not visible in the table below)</p> CBFS filename CBFS filetype Size Compression Category fallback/romstage stage 88136 none open-source fallback/ramstage stage 141422 LZMA open-source fallback/dsdt.aml raw 22608 none open-source fallback/postcar stage 40492 none open-source fallback/payload simple elf 1916683 none open-source bootblock bootblock 92480 none open-source cpu_microcode_blob.bin microcode 207872 none closed-source fspm.bin fsp 651264 none closed-source fsps.bin fsp 276086 LZ4 closed-source cbfs_master_header cbfs header 28 none data intel_fit intel_fit 80 none data config raw 5210 LZMA data revision raw 856 none data build_info raw 98 none data vbt.bin raw 1308 LZMA data cmos_layout.bin cmos_layout 852 none data etc/ps2-keyboard-spinup raw 8 none data (empty) null 1444 none empty (empty) null 713188 none empty"},{"location":"variants/novacustom_nv4x_tgl/releases/","title":"NovaCustom NV4x 11th Gen Dasharo Release Notes","text":"<p>Following Release Notes describe status of open-source firmware development for NovaCustom NV4x 11th Gen</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> <p>Subscribe to NovaCustom NV4x 11th Gen Dasharo Release Newsletter</p> <p></p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v151-2023-11-06","title":"v1.5.1 - 2023-11-06","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#added","title":"Added","text":"<ul> <li>Firmware update mode</li> <li>BIOS boot medium write-protection</li> <li>SMM BIOS write protection</li> <li>Early boot DMA protection</li> <li>Early Sign of Life display output</li> <li>Current limiting for USB-PD power supplies</li> <li>Setup menu password configuration</li> <li>Wi-Fi / Bluetooth module disable option in setup menu</li> <li>Built-in webcam disable option in setup menu</li> <li>USB stack disable option in setup menu</li> <li>Network stack disable option in setup menu</li> <li>Battery threshold options in setup menu</li> <li>Intel ME disable option in setup menu</li> <li>Block boot when battery is too low</li> <li>Power on AC option in setup menu</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#changed","title":"Changed","text":"<ul> <li>Rebased on coreboot release 4.21</li> <li>Removed software keyboard backlight controls for improved backlight reliability</li> <li>Disabled EC debug logging for improved security</li> <li>Set throttling temperature to 75 degrees C</li> <li>UEFI 2.8 specification compliance</li> <li>Improved battery charging logic</li> <li>Improved USB-C docking station compatibility</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#fixed","title":"Fixed","text":"<ul> <li>Low performance when booting on battery power only</li> <li>Power delivery compatibility</li> <li>Better support for USB-PD power supplies</li> <li>After changing the Intel ME mode the Reset option in the setup menu turns off the device</li> <li>Laptops randomly go into suspend mode from which they can not wake up.</li> <li>Reset to defaults with F9 causes the wrong settings to be restored</li> <li>Keyboard backlight not working after restart</li> <li>Warning sign in device manager under the touchpad device</li> <li>Popup with information about recovery mode is displayed after flashing with a valid binary</li> <li>The power LED is not always blinking while in sleep mode on Windows 11</li> <li>Internal keyboard stops working randomly in firmware</li> <li>DTS on network boot fails to boot</li> <li>Firmware Update Mode does not automatically boot into DTS</li> <li>Permanent keyboard illumination after cold boot fails: keyboard light level is not saved correctly</li> <li>Controlling keyboard illumination (brightess and on/off) does not work</li> <li>Permanent keyboard illumination not working in Ubuntu 22.04</li> <li>Controlling brightness and turning off RGB keyboard illumination does not work (Ubuntu 22.04)</li> <li>Wi-Fi card is not recognized on Windows 11</li> <li>No HDMI audio on Windows 11</li> <li>No HDMI display output on Windows 11</li> <li>No USB-C display output on Windows 11</li> <li>Keyboard backlight is disabled after suspend (Windows 11)</li> <li>Reset by F9 sets battery thresholds to 0</li> <li>The docking station is not detected after cold-boot, warm-boot and reboot</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues","title":"Known issues","text":"<ul> <li>Docking station may fail to be initialized if connected before booting and connected to multiple monitors</li> <li>Connecting and immediately disconnecting the charger, sets the battery status in OS to 'charging' for about 2 minutes</li> <li>Power state after power failure option does not work as intended</li> <li>No ability to change active PCR banks with TPM PPI in FW</li> <li>Windows 11 fails to resume from S3 on some board revisions</li> <li>Windows 11 fails to resume from hibernation</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries","title":"Binaries","text":"<p>novacustom_nv4x_tgl_ec_v1.5.1.rom sha256 sha256.sig</p> <p>novacustom_nv4x_tgl_v1.5.1.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 4.21 revision 36032e55</li> <li>Dasharo EDKII fork based on edk2-stable202002 revision b68e46b0</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v140-2023-02-24","title":"v1.4.0 - 2023-02-24","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#added_1","title":"Added","text":"<ul> <li>The same keyboard illumination setting is restored after suspend or poweroff</li> <li>One of the two fan profiles can now be selected in Setup Menu</li> <li>Fn lock hotkey feature</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#changed_1","title":"Changed","text":"<ul> <li>Keys must be provisioned prior enabling Secure Boot</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#fixed_1","title":"Fixed","text":"<ul> <li>ISO keyboard issue for non-US layouts (Dasharo issue #259)</li> <li>The NVIDIA graphics power management isn't properly functional (Dasharo issue #145)</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues_1","title":"Known issues","text":"<ul> <li>Low level interfering crackling/popping of the speakers while playing no sound (Dasharo issue #224)</li> <li>Waking up from sleep on Ubuntu 22.04 is not 100% reliable (Dasharo issue #205)</li> <li>The power LED is not always blinking while in sleep mode on Windows 11 (Dasharo issue #182)</li> <li>No video output via USB-C after shutdown if PowerDelivery (PD) is active NV40MZ  (Dasharo issue #237)</li> <li>Buggy touchpad when charging via USB-C (NV40MZ)  (Dasharo issue #265)</li> <li>Keyboard backlight turns on after resuming from sleep mode  (Dasharo issue #332)</li> <li>The screen brightness level gets stuck when key are held or pressed too fast (Dasharo issue #341)</li> <li>Connecting and immediately disconnecting the charger, sets the battery status in OS to 'charging' for about 2 minutes (Dasharo issue #350)</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_1","title":"Binaries","text":"<p>novacustom_nv4x_tgl_ec_v1.4.0.rom sha256 sha256.sig</p> <p>novacustom_nv4x_tgl_v1.4.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_1","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on 1a8eb6c02103727431ac1ea23f4f507e49f3cde7 revision 636f432a</li> <li>Dasharo EDKII fork based on e0334c228ce4ba51f47ff79a118f214031d4650f revision 2c61576a</li> <li>Intel ME version 15.0.30.1776</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v130-2022-10-18","title":"v1.3.0 - 2022-10-18","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#ec-firmware-transition","title":"EC firmware transition","text":"<p>Please note, that version 1.3.0 of <code>Dasharo BIOS firmware</code> works correctly only with the <code>Dasharo EC firmware</code>. This is the first release when this open-source EC firmware is used, so additional steps need to be taken when upgrading.</p> <p>Please refer to the Firmware update section for more details on upgrading your firmware.</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#added_2","title":"Added","text":"<ul> <li>Vboot recovery mode information popup</li> <li>Dasharo setup menu full screen mode support</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#changed_2","title":"Changed","text":"<ul> <li>Rebased on upstream coreboot revision from 18 Aug 2022</li> <li>Support for open-source EC firmware (transition procedure is required)</li> <li>Disabled UEFI Secure Boot by default</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#fixed_2","title":"Fixed","text":"<ul> <li>Custom fan curve is not applied after suspend (Dasharo issue #45)</li> <li>The touchpad ON/OFF switch Fn key is not functional (Dasharo issue #38)</li> <li>UCM-UCSI ACPI device displays an error in Windows Device Manager</li> <li>Laptop cannot output video via the Tunderbolt 4 USB Type-C port</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues_2","title":"Known issues","text":"<ul> <li>Low level interfering crackling/popping of the speakers while playing no sound (Dasharo issue #224)</li> <li>Waking up from sleep on Ubuntu 22.04 is not 100% reliable (Dasharo issue #205)</li> <li>After emergency shutdown, keyboard doesn't work before OS (Dasharo issue #199)</li> <li>The power LED is not always blinking while in sleep mode on Windows 11 (Dasharo issue #182)</li> <li>The NVIDIA graphics power management isn't properly functional (Dasharo issue #145)</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_2","title":"Binaries","text":"<p>novacustom_nv4x_ec_v1.3.0.rom sha256 sha256.sig</p> <p>novacustom_nv4x_v1.3.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_2","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>Dasharo coreboot fork based on bcc2fb719aaf2d466f9fb429b892f2d268bed5a7 revision a087c3e2</li> <li>Dasharo EDKII fork based on e0334c228ce4ba51f47ff79a118f214031d4650f revision abfdef40</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v121-2022-06-23","title":"v1.2.1 - 2022-06-23","text":""},{"location":"variants/novacustom_nv4x_tgl/releases/#fixed_3","title":"Fixed","text":"<ul> <li>cbfstool logo replacement not working on NV4x v1.2.0</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues_3","title":"Known issues","text":"<ul> <li>Custom fan curve is not applied after suspend (Dasharo issue #45)</li> <li>UCM-UCSI ACPI device displays an error in Windows Device Manager</li> <li>USB4 Root Device Router device displays an error in Windows 11 Device Manager</li> <li>Windows 10 SD card reader driver needs manual installation on NV41MB</li> <li>Low level interfering crackling/popping of the speakers while playing no sound</li> <li>Laptop cannot output video via the Tunderbolt 4 USB Type-C port</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_3","title":"Binaries","text":"<p>novacustom_nv4x_v1.2.1.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_3","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on e3e965b1 revision baada726</li> <li>edk2 based on 2020.03.17 revision cad23725</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v120-2022-06-10","title":"v1.2.0 - 2022-06-10","text":""},{"location":"variants/novacustom_nv4x_tgl/releases/#added_3","title":"Added","text":"<ul> <li>Renamed device to NovaCustom NV4x</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#fixed_4","title":"Fixed","text":"<ul> <li>Wake from suspend doesn't work with certain SSDs</li> <li>CVE-2022-29264 SMM loader vulnerability</li> <li>Fix BIOS vendor name in SMBIOS</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues_4","title":"Known issues","text":"<ul> <li>Custom fan curve is not applied after suspend (Dasharo issue #45)</li> <li>UCM-UCSI ACPI device displays an error in Windows Device Manager</li> <li>USB4 Root Device Router device displays an error in Windows 11 Device Manager</li> <li>Windows 10 SD card reader driver needs manual installation on NV41MB</li> <li>Low level interfering crackling/popping of the speakers while playing no sound</li> <li>Laptop cannot output video via the Tunderbolt 4 USB Type-C port</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_4","title":"Binaries","text":"<p>novacustom_nv4x_v1.2.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_4","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on e3e965b1 revision baada726</li> <li>edk2 based on 2020.03.17 revision cad23725</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v110-2022-03-23","title":"v1.1.0 - 2022-03-23","text":""},{"location":"variants/novacustom_nv4x_tgl/releases/#added_4","title":"Added","text":"<ul> <li>Add Dasharo Tools Suite network boot integration</li> <li>Add a persistent bootlogo implementation</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues_5","title":"Known issues","text":"<ul> <li>UCM-UCSI ACPI device displays an error in Windows Device Manager</li> <li>USB4 Root Device Router device displays an error in Windows 11 Device Manager</li> <li>Windows 10 SD card reader driver needs manual installation on NV41MB</li> <li>Low level interfering crackling/popping of the speakers while playing no sound</li> <li>Laptop cannot output video via the Tunderbolt 4 USB Type-C port</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_5","title":"Binaries","text":"<p>clevo_nv41mz_v1.1.0.rom sha256 sha256.sig</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_5","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on ae9a8447 revision 0722fdf0</li> <li>edk2 based on 2020.03.17 revision ec6805c2</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v101-2022-03-01","title":"v1.0.1 - 2022-03-01","text":""},{"location":"variants/novacustom_nv4x_tgl/releases/#added_5","title":"Added","text":"<ul> <li>Change DMI fields to match previous Insyde firmware</li> <li>Hide unknown ACPI devices</li> <li>Set correct Realtek HD Audio subsystem ID</li> <li>Set correct ACPI path for the TPM</li> <li>Set TPM IRQ in a manner understood by Windows</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#removed","title":"Removed","text":"<ul> <li>Removed proprietary blobs from built coreboot images</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#fixed_5","title":"Fixed","text":"<ul> <li>Updating firmware using fwupd</li> <li>MIC-in phone jack not working</li> <li>This PC can't run Windows 11 error while installing Windows 11 from a USB pen drive</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues_6","title":"Known issues","text":"<ul> <li>Custom fan curve is not functional after suspend</li> <li>UCM-UCSI ACPI device displays an error in Windows Device Manager</li> <li>USB4 Root Device Router device displays an error in Windows 11 Device Manager</li> <li>Windows 10 SD card reader driver needs manual installation on NV41MB</li> <li>Low level interfering crackling/popping of the speakers while playing no sound</li> <li>Laptop cannot output video via the Tunderbolt 4 USB Type-C port</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_6","title":"Binaries","text":"<p>clevo_nv41mz_v1.0.1.rom sha256 sha256.sig</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_6","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on ae9a8447 revision 3a3808f9</li> <li>edk2 based on 2020.03.17 revision e0334c22</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v100-2022-01-19","title":"v1.0.0 - 2022-01-19","text":""},{"location":"variants/novacustom_nv4x_tgl/releases/#added_6","title":"Added","text":"<ul> <li>Documentation for touchpad hotkey enablement on Linux</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#removed_1","title":"Removed","text":"<ul> <li>Removed proprietary blobs from built coreboot images</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#fixed_6","title":"Fixed","text":"<ul> <li>The touchpad ON/OFF switch Fn key is not functional</li> <li>Charging indicator displays wrong state if power adapter was unplugged while   in sleep mode</li> <li>Bluetooth does not work under Windows</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues_7","title":"Known issues","text":"<ul> <li>Unable to download the system by using iPXE</li> <li>Laptop cannot output video via the Tunderbolt 4 USB Type-C port</li> <li>Windows 10 SD card reader driver needs manual installation on NV41MB</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_7","title":"Binaries","text":"<p>clevo_nv41mz_v1.0.0.rom sha256 sha256.sig</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_7","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on ae9a8447 revision e995fc1c</li> <li>edk2 based on 2020.03.17 revision 59ae285f</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v050-2021-11-19","title":"v0.5.0 - 2021-11-19","text":""},{"location":"variants/novacustom_nv4x_tgl/releases/#added_7","title":"Added","text":"<ul> <li>vboot Verified Boot</li> <li>TPM Measured Boot</li> <li>Custom fan curve</li> <li>Microcode for Tiger Lake stepping 0x2</li> <li>Documentation for EC firmware update</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#changed_3","title":"Changed","text":"<ul> <li>Disabled unused DPTF device</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#fixed_7","title":"Fixed","text":"<ul> <li>Performance drop when the power adaptor is disconnected</li> <li>High Nvidia GPU energy draw at idle in Windows</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues_8","title":"Known issues","text":"<ul> <li>Unable to download the system by using iPXE</li> <li>Laptop cannot output video via the Tunderbolt 4 USB Type-C port</li> <li>The touchpad ON/OFF switch Fn key is not functional</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_8","title":"Binaries","text":"<p>dasharo_clevo_nv41mz_v0.5.0.rom sha256 sha256.sig</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_8","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on ae9a8447 revision 7d439573</li> <li>EDK2 based on 2020.03.17 revision bfd3d1a2</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v040-2021-10-26","title":"v0.4.0 - 2021-10-26","text":""},{"location":"variants/novacustom_nv4x_tgl/releases/#added_8","title":"Added","text":"<ul> <li>Added full support for sleep mode (s0ix / Modern Standby)</li> <li>Added support for NV41MB model</li> <li>Added support for nvidia discrete graphics (doesn't power off in Windows yet)</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#changed_4","title":"Changed","text":"<ul> <li>Fixed regression with non-funtional airplane mode hotkey on Windows</li> <li>Disabled legacy 8254 timer for lower power draw</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#fixed_8","title":"Fixed","text":"<ul> <li>Sleep mode is not functional</li> <li>The camera ON/OFF switch Fn key is not functional</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues_9","title":"Known issues","text":"<ul> <li>Unable to download the system by using iPXE</li> <li>Laptop cannot output video via the Tunderbolt 4 USB Type-C port</li> <li>High Nvidia GPU energy draw at idle in Windows</li> <li>Performance drop when the power adaptor is disconnected</li> <li>The touchpad ON/OFF switch Fn key is not functional</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_9","title":"Binaries","text":"<p>dasharo_clevo_nv41mz_v0.4.0.rom sha256 sha256.sig</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_9","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on ae9a8447 revision 03972293</li> <li>EDK2 based on 2020.03.17 revision bfd3d1a2</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v030-2021-10-11","title":"v0.3.0 - 2021-10-11","text":""},{"location":"variants/novacustom_nv4x_tgl/releases/#added_9","title":"Added","text":"<ul> <li>Support for discrete TPM</li> <li>USB Type-C ACPI support (UCSI)</li> <li>Improved runtime power management for SSD (reduces power usage while in sleep)</li> <li>Added partial sleep support (system saves power, but fans still spin)</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#changed_5","title":"Changed","text":"<ul> <li>Rebased on coreboot revision ae9a8447</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues_10","title":"Known issues","text":"<ul> <li>Sleep mode is not functional</li> <li>The camera ON/OFF switch Fn key is not functional</li> <li>The touchpad ON/OFF switch Fn key is not functional</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_10","title":"Binaries","text":"<p>dasharo_clevo_nv41mz_v0.3.0.rom sha256 sha256.sig</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_10","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on ae9a8447 revision v0.3.0</li> <li>EDK2 based on 2020.03.17 revision bfd3d1a2</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v021-2021-9-29","title":"v0.2.1 - 2021-9-29","text":""},{"location":"variants/novacustom_nv4x_tgl/releases/#added_10","title":"Added","text":"<ul> <li>Integrated graphics backlight configuration for Windows</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#changed_6","title":"Changed","text":"<ul> <li>Updated the Video Bios Table</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#fixed_9","title":"Fixed","text":"<ul> <li>Screen brightness is stuck at 0% in the Windows Installer</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues_11","title":"Known issues","text":"<ul> <li>Sleep mode is not functional</li> <li>The camera ON/OFF switch Fn key is not functional</li> <li>The touchpad ON/OFF switch Fn key is not functional</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_11","title":"Binaries","text":"<p>dasharo_clevo_nv41mz_v0.2.1.rom sha256 sha256.sig</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_11","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 4.14 revision 43c9604b</li> <li>EDK2 based on 2020.03.17 revision bfd3d1a2</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v020-2021-9-24","title":"v0.2.0 - 2021-9-24","text":""},{"location":"variants/novacustom_nv4x_tgl/releases/#added_11","title":"Added","text":"<ul> <li>UEFI Secure Boot support</li> <li>UEFI Shell selectable in boot menu</li> <li>iPXE selectable in boot menu</li> <li>NovaCustom boot logo</li> <li>Customized boot menu keys</li> <li>Customized setup menu keys</li> <li>Support for backlight hotkey in Windows</li> <li>Preserve boot order settings after Dasharo update</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#changed_7","title":"Changed","text":"<ul> <li>Replaced CorebootPayloadPkg with Dasharo UEFIPayloadPkg</li> <li>Changed the behavior of airplane mode to match stock firmware (now it can be   disabled in software)</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#known-issues_12","title":"Known issues","text":"<ul> <li>Screen brightness is stuck at 0% in the Windows Installer</li> <li>Sleep mode is not functional</li> <li>The camera ON/OFF switch Fn key is not functional</li> <li>The touchpad ON/OFF switch Fn key is not functional</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_12","title":"Binaries","text":"<p>dasharo_clevo_nv41mz_v0.2.0.rom sha256 sha256.sig</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_12","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 4.14 revision ff1c6572</li> <li>EDK2 based on 2020.03.17 revision bfd3d1a2</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#v012-2021-08-31","title":"v0.1.2 - 2021-08-31","text":""},{"location":"variants/novacustom_nv4x_tgl/releases/#added_12","title":"Added","text":"<ul> <li>Clevo NV41MZ platform support</li> <li>Clevo IT5570 EC support</li> <li>UEFI boot support</li> <li>configurable boot order</li> <li>configurable boot options</li> <li>Integrated graphics initialization for internal LCD (eDP) and external HDMI   port</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/releases/#binaries_13","title":"Binaries","text":"<p>clevo_nv41mz_v0.1.2.rom sha256 sha256.sig</p> <p>All in one zip</p>"},{"location":"variants/novacustom_nv4x_tgl/releases/#sbom-software-bill-of-materials_13","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot 4.14 (with additional commits for Clevo NV41MZ board support)</li> <li>EDK2</li> </ul>"},{"location":"variants/novacustom_nv4x_tgl/test-matrix/","title":"Test matrix","text":""},{"location":"variants/novacustom_nv4x_tgl/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p>"},{"location":"variants/novacustom_nv4x_tgl/test-matrix/#nv41mz-test-matrix","title":"NV41MZ test matrix","text":""},{"location":"variants/novacustom_nv4x_tgl/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. UEFI compatible interface EFI All 3. Display ports and LCD support DSP DSP001.001, DSP001.002, DSP001.003, DSP002.001, DSP002.002 4. Embedded Controller and Super I/O initialization ECR Without ECR021.001, ECR021.002, ECR022.001, ECR022.002, ECR023.001, ECR023.002, ECR024.001, ECR024.002 5. NVMe support NVM All 6. Custom logo CLG All 7. Custom boot keys CBK All 8. USB HID and MSC Support USB All 9. Debian Stable and Ubuntu LTS support LBT LBT004.001, LBT004.002 10. UEFI Shell USH All 11. Windows booting WBT WBT001.001 12. Audio subsystem AUD All 13. USB-C support UTC All 14. Network boot PXE Without PXE007.001 15. M.2 WiFi/Bluetooth WLE All 16. SD card support SDC All 17. USB Camera verification CAM All 18. Fan speed measure FAN FAN001.001 19. SMBIOS DMI Without DMI001.001 20. Firmware update using fwupd FFW All 21. Dasharo Tools Suite DTS DTS006.001, DTS007.001 22. CPU status CPU All 23. Embedded controller flashing ECF All 24. Logo customization functionality LCM LCM001.001 25. Firmware locally building and flashing FLB All 26. Custom Boot Order CBO CBO001.002 27. QubesOS support QBS All 28. Fedora support FED All 29. Platform suspend and resume SUSP Without SUSP004.001 and SUSP006.001 30. Boot blocking BBB All 31. [Reset to defaults][RTD] RTD All 32. Suspend mechanism switchcing (S0ix/S3) SMS All 33. [Platform hibernation and resume][HBN] HBN All 34. Sign of life SOL All 35. [Power after fail][PSF] PSF All"},{"location":"variants/novacustom_nv4x_tgl/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM Without TPM001.001 and TPM002.001 2. Verified Boot support VBO Without VBO006.001 and VBO007.001 3. Measured Boot support MBO All 4. Secure Boot support SBO Without SBO006.001, SBO007.001 and SBO008.001 5. ME disable/neuter support MNE Without MNE006.001 6. USB stack USS All 7. Network boot availability PXE All 8. BIOS lock support BLS All 9. Early boot DMA protection EDP All 10. SMM BIOS write protection SMM All 11. UEFI Setup password PSW All 12. [Wi-Fi / Bluetooth switch][WBS] WBS All 13. [Camera switch][CHS] CHS All"},{"location":"variants/novacustom_nv4x_tgl/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot boot measure CBMEM All 2. CPU temperature measure CPT All 3. CPU frequency measure CPF All 4. Custom fan curve CFC All 5. Platform stability STB All"},{"location":"variants/novacustom_nv4x_tgl/test-matrix/#module-dasharo-stability","title":"Module: Dasharo stability","text":"No. Supported test suite Test suite ID Supported test cases 1. USB Type-A devices detection SUD All 2. M.2 Wi-fi SMW All 3. NVMe detection SNV All 4. NET interface detection NET All 5. [TPM detection][TPD] TPD TPD003.001, TPD004.001"},{"location":"variants/novacustom_nv4x_tgl/test-matrix/#nv41mb-test-matrix","title":"NV41MB test matrix","text":""},{"location":"variants/novacustom_nv4x_tgl/test-matrix/#module-dasharo-compatibility_1","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. UEFI compatible interface EFI All 3. Display ports and LCD support DSP DSP001.001, DSP001.002, DSP001.003, DSP002.001, DSP002.002 4. Embedded Controller and Super I/O initialization ECR Without ECR021.001, ECR021.002, ECR022.001, ECR022.002, ECR023.001, ECR023.002, ECR024.001, ECR024.002 5. NVMe support NVM All 6. Custom logo CLG All 7. Custom boot keys CBK All 8. USB HID and MSC Support USB All 9. Debian Stable and Ubuntu LTS support LBT LBT004.001, LBT004.002 10. UEFI Shell USH All 11. Windows booting WBT WBT001.001 12. Audio subsystem AUD All 13. USB-C support UTC All 14. Network boot PXE Without PXE007.001 15. M.2 WiFi/Bluetooth WLE All 16. SD card support SDC All 17. USB Camera verification CAM All 18. Fan speed measure FAN FAN001.001 19. SMBIOS DMI Without DMI001.001 20. Firmware update using fwupd FFW All 21. Dasharo Tools Suite DTS DTS006.001, DTS007.001 22. CPU status CPU All 23. Embedded controller flashing ECF All 24. Logo customization functionality LCM LCM001.001 25. Firmware locally building and flashing FLB All 26. Custom Boot Order CBO CBO001.002 27. QubesOS support QBS All 28. Fedora support FED All 29. Platform suspend and resume SUSP Without SUSP004.001 and SUSP006.001 30. Boot blocking BBB All 31. [Reset to defaults][RTD] RTD All 32. Suspend mechanism switchcing (S0ix/S3) SMS All 33. [Platform hibernation and resume][HBN] HBN All 34. Sign of life SOL All 35. NVIDIA Graphics support NVI All 36. [Power after fail][PSF] PSF All"},{"location":"variants/novacustom_nv4x_tgl/test-matrix/#module-dasharo-security_1","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM Without TPM001.001 and TPM002.001 2. Verified Boot support VBO Without VBO006.001 and VBO007.001 3. Measured Boot support MBO All 4. Secure Boot support SBO Without SBO006.001, SBO007.001 and SBO008.001 5. ME disable/neuter support MNE Without MNE006.001 6. USB stack USS All 7. Network boot availability PXE All 8. BIOS lock support BLS All 9. Early boot DMA protection EDP All 10. SMM BIOS write protection SMM All 11. UEFI Setup password PSW All 12. [Wi-Fi / Bluetooth switch][WBS] WBS All 13. [Camera switch][CHS] CHS All"},{"location":"variants/novacustom_nv4x_tgl/test-matrix/#module-dasharo-performance_1","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot boot measure CBMEM All 2. CPU temperature measure CPT All 3. CPU frequency measure CPF All 4. Custom fan curve CFC All 5. Platform stability STB All"},{"location":"variants/novacustom_nv4x_tgl/test-matrix/#module-dasharo-stability_1","title":"Module: Dasharo stability","text":"No. Supported test suite Test suite ID Supported test cases 1. USB Type-A devices detection SUD All 2. M.2 Wi-fi SMW All 3. NVMe detection SNV All 4. NET interface detection NET All 5. [TPM detection][TPD] TPD TPD003.001, TPD004.001"},{"location":"variants/pc_engines/overview/","title":"Overview","text":"<p>PC Engines is a Swiss-based company that specializes in the design and manufacture of small form factor computer hardware, including single-board computers (SBCs), network appliances, and embedded systems. Their products are often used in networking, telecommunications, security applications, in-home automation, and other industrial applications.</p> <p>PC Engines is particularly well-known for its low-power, high-performance SBCs, including the APU (Accelerated Processing Unit) series, which feature AMD G-series embedded processors, and the ALIX series, based on the AMD Geode processor. These SBCs are commonly used as firewalls, routers, and other network appliances.</p> <p>PC Engines is a well-recognized brand in the open-source community mostly because of full schematics availability (apu2d example) and use of open-source firmware. PC Engines products are top-rated among pfSense and OPNsense users. What you can see based on the number of forum topics regarding apu platforms.</p>"},{"location":"variants/pc_engines/overview/#status","title":"Status","text":"<p>In 2016 PC Engines contracted 3mdeb to take over the maintenance of open-source firmware for PC Engines products. Development happened in PC Engines Github organization until September 2022, when PC Engines decided to discontinue its sponsorship for open-source firmware. Dasharo Team working on creating a sustainable path forward for PC Engines' open-source firmware through a subscription and donation model. For more details please check Post EOL firmware announcement, contact us directly or through community chat.</p>"},{"location":"variants/pc_engines/overview/#references","title":"References","text":"<ul> <li>Post-EOL firmware announcement</li> </ul>"},{"location":"variants/pc_engines/post-eol-fw-announcement/","title":"Post EOL firmware announcement","text":"<p>Dear valued PC Engines hardware owners,</p> <p>We apologize for the delay in our announcement. We understand that many of you have eagerly awaited the next PC Engines firmware release. Rest assured that our commitment to supporting the PC Engines firmware remains strong, and we are working hard to bring you new features through the upcoming Dasharo firmware distribution. We appreciate your patience and continued support.</p> <p>We regret to inform the community that v4.17.0.3 was the last version of the firmware sponsored by PC Engines. However, 3mdeb has since released v4.19.0.1, the final version delivered to the community using the existing model.</p> <p>As some may know, 3mdeb is a small open-source firmware consulting company based in Poland. Our team consists of passionate engineers and developers from open-source software, firmware, and hardware communities, frequent conference speakers, and people who love to tinker with bits. Every day we develop bleeding-edge low-level security solutions using top open-source frameworks. We are committed to continuing support and PC Engines hardware in the open-source firmware community but can't afford that on our dime.</p> <p>Since February 2016, we have made 87 binary releases for all PC Engines hardware platforms from apu1 through famous apu2 up to apu7. We published over 30k test results from our automated testing framework. Thanks to community feedback, we created extensive documentation. Our firmware development effort extended the lifetime value of PC Engines hardware. Most notable examples were:</p> <ul> <li>CPU Core Performance Boost feature enabling - blog</li> <li>DRAM Error Correction Code enabling - blog</li> <li>AMD Cryptographic Coprocessor enabling - issue tracker</li> <li>and many small things like a watchdog or SPI flash lockdown.</li> </ul> <p>According to PC Engines EOL statement apu2 / apu3 series availability will be: \"Based on an AMD embedded CPU, this platform should have good long term availability. This CPU should be available until 2024 according to AMD.\"</p> <p>We would like to continue support for PC Engines firmware through our Dasharo open-source firmware distribution. Further releases could include regular maintenance updates and new features such as UEFI compatibility, fwupd, Verified Boot, UEFI Setup password, DMA protection, and more. For a complete list of planned enhancements, please visit the dasharo-issues repository on GitHub.</p> <p>Your support will play a crucial role in determining the roadmap and the speed of its implementation. We hope you will support our efforts to bring these new features and improvements to the PC Engines firmware.</p> <p>We are exploring the possibility of implementing a subscription model for firmware updates. We would like to hear from you to ensure that the pricing option is fair and reasonable for our community. We have created a survey to gather your thoughts and preferences on pricing. Your feedback is important to us and will help us make informed decisions about the future of our offerings. Please take about two minutes to participate in the survey. Your input will be greatly appreciated.</p> <p>In case of any questions feel free to contact us.</p>"},{"location":"variants/protectli_fw6/building-manual/","title":"Building manual","text":""},{"location":"variants/protectli_fw6/building-manual/#requirements","title":"Requirements","text":"<ul> <li>Docker<ul> <li>follow Install Docker Engine on Ubuntu</li> <li>follow Post-installation steps for Linux</li> </ul> </li> <li>Git<ul> <li><code>sudo apt-get install git</code></li> </ul> </li> </ul>"},{"location":"variants/protectli_fw6/building-manual/#building","title":"Building","text":"<p>To build Dasharo firmware image, follow the steps below:</p> <ol> <li> <p>Clone the coreboot repository:</p> <pre><code>git clone https://github.com/Dasharo/coreboot.git -b protectli_vault_kbl/release\n</code></pre> </li> </ol> <p>To build a specific version replace <code>protectli_vault_kbl/release</code> to    <code>protectli_vault_kbl_v1.0.x</code> where <code>x</code> is the version number.</p> <ol> <li> <p>Start build process (note it requires certain blobs to proceed):</p> <pre><code>cd coreboot\ngit submodule update --init --checkout\n# you will need to obtain the ZIP with blobs at this point\nunzip protectli_blobs.zip -d 3rdparty/blobs/mainboard\n./build.sh fw6\n</code></pre> </li> </ol>"},{"location":"variants/protectli_fw6/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/protectli_fw6/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configuration used for validation of the coreboot port on the Protectli FW6 firewall.</p>"},{"location":"variants/protectli_fw6/hardware-matrix/#protectli-fw6e-dasharo","title":"Protectli FW6E Dasharo","text":"Component Description CPU IIntel(R) Celeron(TM) 3865U SSD M.2 SSD SATA: Hoodisk SSL032GTTC7-S9A-2S external SATA 2.5 inch: Goodram SSDPR-CL100-240-G2 240GB RAM CRUCIAL CT4G4SFS824A CRUCIAL CT4G4SFS824A Wireless card Qualcomm Atheros QCA9377 LTE miniPCIe card Quectel EC-20          \u00a0 Display HDMI 1920x1080p Ethernet 6x Intel i211 (on-board) Attached devices 1. SanDisk USB 3.2Gen1 16 GB 2. SanDisk USB 3.2Gen1 16 GB 3. SanDisk USB 3.2Gen1 16 GB 4. USB Type-C Hub Pro UCN3286 USB Keyboard DELL KB216 Power supply Channel Well Technology 12V, 7.5A 90W"},{"location":"variants/protectli_fw6/hardware-matrix/#protectli-fw6b-dasharo","title":"Protectli FW6B Dasharo","text":"Component Description CPU Intel(R) Core(TM) i3-7100U SSD M.2 SSD SATA: Hoodisk SSL032GTTC7-S9A-2S external SATA 2.5 inch: Goodram SSDPR-CL100-240-G2 240GB RAM CRUCIAL CT4G4SFS824A CRUCIAL CT4G4SFS824A Wireless card Qualcomm Atheros QCA9377 LTE miniPCIe card Quectel EC-20          \u00a0 Display HDMI 1920x1080p Ethernet 6x Intel i211 (on-board) Attached devices 1. SanDisk USB 3.2Gen1 16 GB 2. SanDisk USB 3.2Gen1 16 GB 3. SanDisk USB 3.2Gen1 16 GB 4. USB Type-C Hub Pro UCN3286 USB Keyboard DELL KB216 Power supply Channel Well Technology 12V, 7.5A 90W"},{"location":"variants/protectli_fw6/hardware-matrix/#protectli-fw6c-dasharo","title":"Protectli FW6C Dasharo","text":"Component Description CPU Intel(R) Core(TM) i5-7200U SSD M.2 SSD SATA: Hoodisk SSL032GTTC7-S9A-2S external SATA 2.5 inch: Goodram SSDPR-CL100-240-G2 240GB RAM CRUCIAL CT4G4SFS824A CRUCIAL CT4G4SFS824A Wireless card Qualcomm Atheros QCA9377 LTE miniPCIe card Quectel EC-20          \u00a0 Display HDMI 1920x1080p Ethernet 6x Intel i210 (on-board) Attached devices 1. SanDisk USB 3.2Gen1 16 GB 2. SanDisk USB 3.2Gen1 16 GB 3. SanDisk USB 3.2Gen1 16 GB 4. USB Type-C Hub Pro UCN3286 USB Keyboard DELL KB216 Power supply Channel Well Technology 12V, 7.5A 90W"},{"location":"variants/protectli_fw6/hardware-matrix/#protectli-fw6d-dasharo","title":"Protectli FW6D Dasharo","text":"Component Description CPU Intel(R) Core(TM) i5-8250U SSD M.2 SSD SATA: Hoodisk SSL032GTTC7-S9A-2S external SATA 2.5 inch: Goodram SSDPR-CL100-240-G2 240GB RAM CRUCIAL CT4G4SFS824A CRUCIAL CT4G4SFS824A Wireless card Qualcomm Atheros QCA9377 LTE miniPCIe card Quectel EC-20          \u00a0 Display HDMI 1920x1080p Ethernet 6x Intel i210 (on-board) Attached devices 1. SanDisk USB 3.2Gen1 16 GB 2. SanDisk USB 3.2Gen1 16 GB 3. SanDisk USB 3.2Gen1 16 GB 4. USB Type-C Hub Pro UCN3286 USB Keyboard DELL KB216 Power supply Channel Well Technology 12V, 7.5A 90W"},{"location":"variants/protectli_fw6/hardware-matrix/#protectli-fw6e-dasharo_1","title":"Protectli FW6E Dasharo","text":"Component Description CPU Intel(R) Core(TM) i5-8250U SSD M.2 SSD SATA: Hoodisk SSL032GTTC7-S9A-2S external SATA 2.5 inch: Goodram SSDPR-CL100-240-G2 240GB RAM CRUCIAL CT4G4SFS824A CRUCIAL CT4G4SFS824A Wireless card Qualcomm Atheros QCA9377 LTE miniPCIe card Quectel EC-20          \u00a0 Display HDMI 1920x1080p Ethernet 6x Intel i210 (on-board) Attached devices 1. SanDisk USB 3.2Gen1 16 GB 2. SanDisk USB 3.2Gen1 16 GB 3. SanDisk USB 3.2Gen1 16 GB 4. USB Type-C Hub Pro UCN3286 USB Keyboard DELL KB216 Power supply Channel Well Technology 12V, 7.5A 90W"},{"location":"variants/protectli_fw6/installation-manual/","title":"Installation manual","text":"<p>Flashing coreboot can be done from Linux using flashrom with the internal programmer. This document describes the process of building, installing and running flashrom on Ubuntu 22.04.</p>"},{"location":"variants/protectli_fw6/installation-manual/#installing-flashrom","title":"Installing flashrom","text":"<p>Your distribution will need at least flashrom v1.0.</p> <pre><code>sudo apt install flashrom\n</code></pre>"},{"location":"variants/protectli_fw6/installation-manual/#reading-flash-contents","title":"Reading flash contents","text":"<p>Always prepare a backup of the current firmware image. To read from the flash and save them to a file (<code>dump.rom</code>), execute the following command:</p> <pre><code>sudo flashrom -p internal -r dump.rom\n</code></pre>"},{"location":"variants/protectli_fw6/installation-manual/#flashing-dasharo","title":"Flashing Dasharo","text":"<pre><code>flashrom -p internal -w [path] --ifd -i bios\n</code></pre> <p>To flash Dasharo on the platform, execute the following command - replace <code>[path]</code> with the path to the Dasharo image you want to flash, e.g. <code>protectli_fw6_DF_v1.0.14.rom</code>.</p> <pre><code>sudo flashrom -p internal -w protectli_fw6_DF_v1.0.14.rom --ifd -i bios\n</code></pre> <p>After successful operation reboot the platform.</p>"},{"location":"variants/protectli_fw6/overview/","title":"Overview","text":"<ul> <li>Releases - list of all releases</li> <li>Building manual - how to build Dasharo for Protectli FW6</li> <li>Installation manual - how to install Dasharo   for Protectli FW6</li> <li>Hardware configuration matrix - definition of hardware   configuration used during validation</li> <li>Test matrix - validation scope for the Protectli FW6</li> </ul>"},{"location":"variants/protectli_fw6/releases/","title":"Release Notes","text":"<p>Following Release Notes describe status of Open Source Firmware development for Protectli FW6.</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> Subscribe to Protectli FW6 Dasharo Release Newsletter </p> <p>Test results for this platform can be found here.</p>"},{"location":"variants/protectli_fw6/releases/#v1014-2022-05-13","title":"v1.0.14 - 2022-05-13","text":""},{"location":"variants/protectli_fw6/releases/#changed","title":"Changed","text":"<ul> <li>Throttling temperature to 75 Celsius degrees</li> </ul>"},{"location":"variants/protectli_fw6/releases/#known-issues","title":"Known issues","text":"<ul> <li>Samsung memory modules do not work properly on older FW6A/B/C (SKU6LAV20)</li> </ul>"},{"location":"variants/protectli_fw6/releases/#binaries","title":"Binaries","text":"<p>protectli_vault_kbl_v1.0.14.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/protectli_fw6/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 87f9fc85 revision e04b0ac8</li> <li>seabios based on v1.0.6 revision 03bcdcaf</li> <li>ipxe based on 2019.3 stable revision ebf2eaf5</li> <li>memtest based on v002 revision dd5b4ff2</li> <li>Management Engine: ME 11.8.50.3399,   SHA256: e1ce735139b6d9ebb81d7f6db288b0a896c39e4b1e606324b915bec949b6aca6</li> <li>microcode:<ul> <li>CPU signature: 0x0406E3, Date: 03.10.2019, Revision: 0xD6</li> <li>CPU signature: 0x0806E9, Date: 27.04.2020, Revision: 0xD6</li> <li>CPU signature: 0x0806E9, Date: 27.04.2020, Revision: 0xD6</li> <li>CPU signature: 0x0806EA, Date: 27.04.2020, Revision: 0xD6</li> </ul> </li> <li>VBIOS:<ul> <li>VBIOS blob for FW6A/B/C, SHA256: 470d3faefb09432bea00d637ec6b3ff51854e6cff0ee56627c0773acaffa4830</li> <li>VBIOS blob for FW6D/E, SHA256: d1c746127e5288942efae65907739e18ff395fab70925b44dbafafd9e7b30cd7</li> </ul> </li> </ul>"},{"location":"variants/protectli_fw6/test-matrix/","title":"Test matrix","text":""},{"location":"variants/protectli_fw6/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p>"},{"location":"variants/protectli_fw6/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. Display ports and LCD support DSP DSP002.001, DSP002.003 3. USB HID and MSC Support USB USB001.001, USB001.002, USB002.001, USB002.002 4. SMBIOS DMI DMI002.001, DMI003.001, DMI004.001, DMI005.001, DMI006.001 5. Custom boot logo CLG DMI002.001, DMI003.001, DMI004.001, DMI005.001, DMI006.001 6. M.2 WiFi/Bluetooth WLE WLE001.001, WLE002.001, WLE003.001 7. Network boot PXE PXE007.001 8. Debian Stable and Ubuntu LTS support LBT LBT003.001, LBT003.002, LBT004.001, LBT004.002 9. Custom boot menu key CBK All 10. FreeBSD support BSD All 11. miniPCIe LTE/WiFi/Bluetooth MWL MWL004.001 12. Custom network boot entries CNB CNB001.002"},{"location":"variants/protectli_fw6/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. CPU temperature CPT All"},{"location":"variants/protectli_v1x10/building-manual/","title":"Building manual","text":""},{"location":"variants/protectli_v1x10/building-manual/#intro","title":"Intro","text":"<p>This document describes the procedure for compiling coreboot for Protectli V1210, V1410 and V1610.</p>"},{"location":"variants/protectli_v1x10/building-manual/#requirements","title":"Requirements","text":"<ul> <li>Docker<ul> <li>follow Install Docker Engine on Ubuntu</li> <li>follow Post-installation steps for Linux</li> </ul> </li> <li>Git</li> </ul>"},{"location":"variants/protectli_v1x10/building-manual/#build-dasharo-bios-firmware","title":"Build Dasharo BIOS firmware","text":"<p>This build procedure produces full firmware binary including blobs such as FSP, and ME. Currently, access to them is restricted to the OEM (Protectli) via a private repository.</p> <ol> <li> <p>Clone the coreboot repository:</p> <pre><code>git clone https://github.com/Dasharo/coreboot\n</code></pre> </li> <li> <p>Checkout the desired version, e.g. <code>v0.9.0</code>:</p> <pre><code>cd coreboot\ngit checkout protectli_vault_jsl_v0.9.0\n</code></pre> </li> <li> <p>Checkout submodules:</p> <pre><code>git submodule update --init --checkout\n</code></pre> </li> <li> <p>Obtain the Protectli blobs package:</p> <p>Replace <code>&lt;PROTECTLI_BLOBS_REPO&gt;</code> with a a proper path to the repository in a form of: <code>git@repo-path.git</code>. You should checkout to the same tag as in case aof the coreboot repository.</p> <pre><code>cd 3rdparty/blobs/mainboard/\ngit init\ngit remote add origin &lt;PROTECTLI_BLOBS_REPO&gt;\ngit fetch origin &amp;&amp; git checkout protectli_vault_jsl_v0.9.0\ncd -\n</code></pre> </li> <li> <p>Build the firmware v1.0.19 or newer:</p> <ul> <li> <p>for V1210</p> <pre><code>./build.sh V1210\n</code></pre> </li> <li> <p>for V1410</p> <pre><code>./build.sh V1410\n</code></pre> </li> <li> <p>for V1610</p> <pre><code>./build.sh V1610\n</code></pre> </li> </ul> </li> </ol> <p>The resulting coreboot image will be placed in the coreboot directory as <code>protectli_V1210.rom</code>, <code>protectli_V1410.rom</code> or <code>protectli_V1610.rom</code> respectvely.</p>"},{"location":"variants/protectli_v1x10/firmware-update/","title":"Firmware update","text":"<p>The following documentation describes the process of Dasharo open-source firmware update. If your device is currently flashed with the proprietary firmware please refer to the Initial deployment documentation.</p> <p>The update process may be different, depending on the currently installed Dasharo firmware version.</p> <p>For simplicity of the update process, we recommend using Dasharo Tools Suite.</p> <p>Before starting the update procedure be sure to disable Secure Boot:</p> <ol> <li>Power on the device.</li> <li>While the device is booting, hold the <code>DELETE</code> key to enter the UEFI Setup    Menu.</li> <li>Enter the <code>Device Manager</code> menu.</li> <li>Enter the Secure Boot Configuration    submenu.</li> <li>Verify that the <code>Current Secure Boot State</code> field says Disabled - if not,    unselect the <code>Attempt Secure Boot</code> option below then press <code>F10</code> to save    the changes.</li> <li>Reboot the device to properly apply the changes.</li> </ol> <p>The settings of all the above options can be restored after a firmware update.</p>"},{"location":"variants/protectli_v1x10/firmware-update/#updating-dasharo","title":"Updating Dasharo","text":"<pre><code>flashrom -p internal -w protectli_&lt;variant&gt;_v&lt;version&gt;.rom --fmap -i COREBOOT\n</code></pre>"},{"location":"variants/protectli_v1x10/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/protectli_v1x10/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configuration used for validation of the coreboot port on the Protectli V1210/V1410/V1610 firewall.</p>"},{"location":"variants/protectli_v1x10/hardware-matrix/#protectli-v1210","title":"Protectli V1210","text":"Component Description CPU Intel(R) Celeron(R) N5105 @ 2.00GHz RAM Micron MT53D512M64D4RQ-046 Flash memory Winbond W25Q128.V USB Keyboard DELL KB216 USB Mouse DELL MS116p USB pendrives 1. SanDisk Ultra  Flair USB 3.0 16 GB Display HDMI 1920x1080p Ethernet controller 2x intel i226 (on-board) Internal devices Audio subsystem 4G Modem AMIT MDG200-0T001 Network Local network wired connection Remote Testing Environment RTE v1.1.0 Power Control RTE v1.1.0 Power supply Power Adapter GA-0481204000V"},{"location":"variants/protectli_v1x10/hardware-matrix/#protectli-v1410","title":"Protectli V1410","text":"Component Description CPU Intel(R) Celeron(R) N5105 @ 2.00GHz RAM Micron MT53D512M64D4RQ-046 Flash memory Winbond 25Q128JVSIQ USB Keyboard DELL KB216 USB Mouse DELL MS116p USB pendrives 1. SanDisk Ultra  Flair USB 3.0 16 GB Display HDMI 1920x1080p Ethernet controller 4x intel i225/i226 (on-board) Internal devices Audio subsystem 4G Modem AMIT MDG200-0T001 Network Local network wired connection Remote Testing Environment RTE v1.1.0 Power Control RTE v1.1.0 Power supply Power Adapter GA-0481204000V"},{"location":"variants/protectli_v1x10/hardware-matrix/#protectli-v1610","title":"Protectli V1610","text":"Component Description CPU Intel(R) Pentium(R) Silver N6005 @ 2.00GHz RAM Micron MT53E512M32D4NQ-053 Flash memory Winbond 25Q128JVSIQ USB Keyboard DELL KB216 USB Mouse DELL MS116p USB pendrives 1. SanDisk Ultra  Flair USB 3.0 16 GB Display HDMI 1920x1080p Ethernet controller 6x intel i225/i226 (on-board) Internal devices Audio subsystem 4G Modem AMIT MDG200-0T001 Network Local network wired connection Remote Testing Environment RTE v1.1.0 Power Control RTE v1.1.0 Power supply Power Adapter GA-0481204000V"},{"location":"variants/protectli_v1x10/initial-deployment/","title":"Initial deployment","text":"<p>Initial flashing of Dasharo firmware can be done from Linux using flashrom with the internal programmer. This document describes the process of building, installing and running flashrom on Ubuntu 22.04.</p>"},{"location":"variants/protectli_v1x10/initial-deployment/#deploy-using-dasharo-tools-suite","title":"Deploy using Dasharo Tools Suite","text":"<p>For simplicity we recommend using Dasharo Tools Suite to omit all compilation steps and deploy the Dasharo firmware seamlessly.</p> <ol> <li>Boot Dasharo Tools Suite.</li> <li>Perform Dasharo installation.</li> </ol> <p>This will flash the BIOS region only. After the successful operation, DTS will reboot the platform.</p> <p>This concludes Dasharo deployment process using DTS.</p>"},{"location":"variants/protectli_v1x10/initial-deployment/#build-flashrom","title":"Build flashrom","text":"<p>Please follow generic guide for Dasharo flashrom fork.</p>"},{"location":"variants/protectli_v1x10/initial-deployment/#reading-flash-contents","title":"Reading flash contents","text":"<p>Always prepare a backup of the current firmware image. To read from the flash and save it to a file (<code>dump.rom</code>), execute the following command:</p> <pre><code>flashrom -p internal -r dump.rom\n</code></pre>"},{"location":"variants/protectli_v1x10/initial-deployment/#flashing-dasharo","title":"Flashing Dasharo","text":"<p>To flash Dasharo on the platform, execute the following command - replace <code>[path]</code> with the path to the Dasharo image you want to flash, e.g. <code>protectli_vault_V1210_v0.9.0.rom</code>.</p> <pre><code>flashrom -p internal -w protectli_vault_V1210_v0.9.0.rom --ifd -i bios\n</code></pre> <p>This will flash the BIOS region only. After the operation is successful, reboot the platform.</p>"},{"location":"variants/protectli_v1x10/overview/","title":"Overview","text":"<p>The Vault is a small form network appliance built for use as a firewall / router, virtualization platform, a daily-driven personal computer, and more. The V1210/V1410/V1610 feature an Intel Jasper Lake CPU, soldered down LPDDR4X memory, Intel i225-V/i226-V 2.5G Ethernet ports, 4x USB-A 3.x ports, eMMC, PCIe NVMe storage, M.2 WIFI and WWAN slots, serial console over USB-C and a firmware TPM.</p> <ul> <li>V1210 - Intel\u00ae Celeron\u00ae N5105, 2x i225/i226, 4GB LPDDR4X</li> <li>V1410 - Intel\u00ae Celeron\u00ae N5105, 4x i225/i226, 8GB LPDDR4X</li> <li>V1610 - Intel\u00ae Pentium\u00ae Silver N6005, 6x i225/i226, 16GB LPDDR4X</li> </ul>"},{"location":"variants/protectli_v1x10/overview/#documentation-sections","title":"Documentation sections","text":"<ul> <li>Releases - groups information about all releases.</li> <li>Building manual - describes how to build Dasharo for   Protectli V1210/V1410/V1610.</li> <li>Initial deployment - describes initial Dasharo   deployment methods (i. e. flashing new firmware) for Protectli   V1210/V1410/V1610.</li> <li>Firmware update - explains supported Dasharo   open-source firmware update methods.</li> <li>Recovery - gathers information on how to recover the platform   from potential failure.</li> <li>Hardware configuration matrix - describes the   platform's hardware configuration used during the Dasharo firmware   validation procedure.</li> <li>Test matrix - describes validation scope used during   Dasharo firmware validation procedure.</li> </ul>"},{"location":"variants/protectli_v1x10/recovery/","title":"Recovery","text":""},{"location":"variants/protectli_v1x10/recovery/#intro","title":"Intro","text":"<p>The following documentation describes the process of recovering hardware from the brick state with RTE and Dasharo open-source firmware.</p>"},{"location":"variants/protectli_v1x10/recovery/#prerequisites","title":"Prerequisites","text":"<ul> <li>Prepared RTE</li> <li>6x female-female wire cables</li> </ul>"},{"location":"variants/protectli_v1x10/recovery/#connections","title":"Connections","text":"<p>To prepare the stand for flashing follow the steps described below:</p> <ol> <li>Open the platform cover.</li> <li> <p>Connect the 6-pin flash header to the    SPI header    on RTE.</p> SPI header 6 pin header Vcc pin 1 (Vcc) GND pin 2 (GND) CS pin 4 (CS) SCLK pin 6 (CLK) MISO pin 5 (MISO) MOSI pin 3 (MOSI) <pre><code>              ______\n          &gt;  |      |\n Vcc 3.3V  ----1  2----  GND\n             |      |\n     MOSI  ----3  4----  CS\n             |      |\n     MISO  ----5  6----  CLK\n             |______|\n</code></pre> </li> </ol>"},{"location":"variants/protectli_v1x10/recovery/#firmware-flashing","title":"Firmware flashing","text":"<p>To flash firmware follow the steps described below:</p> <ol> <li>Login to RTE via <code>ssh</code> or <code>minicom</code>.</li> <li>Turn on the platform by connecting the power supply.</li> <li>Wait at least 5 seconds.</li> <li>Turn off the platform by using the power button.</li> <li>Wait at least 3 seconds.</li> <li> <p>Set the proper state of the SPI by using the following commands on RTE:</p> <pre><code># set SPI Vcc to 3.3V\necho 1 &gt; /sys/class/gpio/gpio405/value\n# SPI Vcc on\necho 1 &gt; /sys/class/gpio/gpio406/value\n# SPI lines ON\necho 1 &gt; /sys/class/gpio/gpio404/value\n</code></pre> </li> <li> <p>Wait at least 2 seconds.</p> </li> <li>Disconnect the power supply from the platform.</li> <li>Wait at least 2 seconds.</li> <li> <p>Flash the platform by using the following command:</p> <pre><code>flashrom -p linux_spi:dev=/dev/spidev1.0,spispeed=16000 -w [path_to_binary]\n</code></pre> <p>Flashing with flashrom takes about 1 minute.</p> </li> <li> <p>Change back the state of the SPI by using the following commands:</p> <pre><code>echo 0 &gt; /sys/class/gpio/gpio404/value\necho 0 &gt; /sys/class/gpio/gpio406/value\n</code></pre> </li> <li> <p>Turn on the platform by connecting the power supply.</p> </li> </ol> <p>The first boot of the platform after proceeding with the above procedure can take much longer than standard.</p>"},{"location":"variants/protectli_v1x10/releases/","title":"Release Notes","text":"<p>Following Release Notes describe status of Open Source Firmware development for Protectli V1210/V1410/V1610</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> Subscribe to Protectli V1210/V1410/V1610 Dasharo Release Newsletter </p> <p>Test results for this platform can be found here.</p> <p></p>"},{"location":"variants/protectli_v1x10/test-matrix/","title":"Test matrix","text":""},{"location":"variants/protectli_v1x10/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary. The test scope is the same for all platforms of the V1210/V1410/V1610 family.</p>"},{"location":"variants/protectli_v1x10/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. UEFI compatible interface EFI All 2. Display ports DSP DSP002.001, DSP002.002, DSP002.003 3. Network boot utilities NBT All 4. NVMe support NVM All 5. Custom logo CLG All 6. Custom Boot Keys CBK All 7. USB HID and MSC Support USB USB001.xxx and USB002.xxx 8. Debian Stable and Ubuntu LTS support LBT LBT003.001, LBT003.002, LBT004.001, LBT004.002 9. miniPCIe LTE/WiFi/Bluetooth MWL MWL004.001 10. M.2 WiFi/Bluetooth WLE All 11. eMMC support MMC All 12. SMBIOS DMI DMI002.001, DMI003.001, DMI004.001, DMI005.001, DMI006.001 13. Custom network boot entries CNB CNB001.002 14. Audio subsystem AUD AUD007.xxx, AUD008.xxx 15. UEFI Shell USH All 16. USB detection UDT All 17. USB booting UBT All 18. Windows booting WBT WBT001.001"},{"location":"variants/protectli_v1x10/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM TPM001.002, TPM001.003, TPM002.002, TPM002.003, TPM003.002, TPM003.003 2. Secure Boot support SBO All"},{"location":"variants/protectli_v1x10/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot bring up time measurement CBMEM All 2. CPU temperature measure CPT All 3. CPU frequency measure CPF Without CPU003.XXX and CPU005.XXX 4. Platform stability STB All"},{"location":"variants/protectli_vp2410/building-manual/","title":"Building manual","text":""},{"location":"variants/protectli_vp2410/building-manual/#intro","title":"Intro","text":"<p>This document describes the procedure for compiling coreboot for Protectli VP2410.</p>"},{"location":"variants/protectli_vp2410/building-manual/#requirements","title":"Requirements","text":"<ul> <li>Docker<ul> <li>follow Install Docker Engine on Ubuntu</li> <li>follow Post-installation steps for Linux</li> </ul> </li> <li>Git</li> </ul>"},{"location":"variants/protectli_vp2410/building-manual/#build-dasharo-bios-firmware","title":"Build Dasharo BIOS firmware","text":"<p>This build procedure produces full firmware binary including blobs such as FSP, and ME. Currently, access to them is restricted to the OEM (Protectli) via a private repository.</p> <ol> <li> <p>Clone the coreboot repository:</p> <pre><code>git clone https://github.com/Dasharo/coreboot\n</code></pre> </li> <li> <p>Checkout the desired version, e.g. <code>v1.0.15</code>:</p> <pre><code>cd coreboot\ngit checkout protectli_vault_glk_v1.0.15\n</code></pre> </li> <li> <p>Checkout submodules:</p> <pre><code>git submodule update --init --checkout\n</code></pre> </li> <li> <p>Obtain the Protectli blobs package:</p> <p>Replace <code>&lt;PROTECTLI_BLOBS_REPO&gt;</code> with a a proper path to the repository in a form of: <code>git@repo-path.git</code>. You should checkout to the same tag as in case aof the coreboot repository.</p> <pre><code>cd 3rdparty/blobs/mainboard/\ngit init\ngit remote add origin &lt;PROTECTLI_BLOBS_REPO&gt;\ngit fetch origin &amp;&amp; git checkout protectli_vault_glk_v1.0.15\ncd -\nln -s ../blobs/mainboard/protectli/vault_glk/GeminilakeFspBinPkg/ 3rdparty/fsp/GeminilakeFspBinPkg\n</code></pre> </li> <li> <p>Build the firmware v1.0.15 or newer:</p> <pre><code>./build.sh vp2410\n</code></pre> </li> </ol> <p>The resulting coreboot image will be placed in the coreboot directory as <code>protectli_vp2410_&lt;version&gt;.rom</code>.</p>"},{"location":"variants/protectli_vp2410/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/protectli_vp2410/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configuration used for validation of the coreboot port on the Protectli VP2410 firewall.</p>"},{"location":"variants/protectli_vp2410/hardware-matrix/#protectli-vp2410","title":"Protectli VP2410","text":"Component Description CPU Intel Celeron J4125 @ 2.70GHz RAM CRUCIAL CT4G4SFS824A SAMSUNG M471A4G43MB1-CTD SAMSUNG M471A1K43CB1-CTD SAMSUNG M471A5244BB0-CRC KINGSTON KVR24S17S8/8 KINGSTON KVR26S19S8/16 Flash memory Macronix MX25U6473F SSD M.2 SSD SATA: Hoodisk SSL032GTTC7-S9A-2S external SATA 2.5 inch: Goodram SSDPR-CL100-240-G2 240GB MMC drive SAMSUNG 8GTF4R (on-board) USB pendrives 1. SanDisk USB 3.2Gen1 16 GB 2. SanDisk USB 3.2Gen1 16 GB 3. USB Type-C Hub Pro UCN3286 Attached devices 1. Logitech, Inc. Keyboard K120 2. Dell Mouse MS116p 3. USB Type-C Hub Pro UCN3286 LTE miniPCIe card Quectel EC-20 Wireless card Intel Wi-Fi 6 AX200 Display HDMI 1920x1080p, DP 1920x1080p Ethernet 4x intel i211 (on-board) TPM PC Engines TPM1A LPC TPM Power supply Channel Well Technology 12V, 5.0A 60W <p>Note, that in RAM section all used during verification procedure modules have been listed. Device has only one RAM mounting slot.</p>"},{"location":"variants/protectli_vp2410/initial-deployment/","title":"Initial deployment","text":"<p>Initial flashing of Dasharo firmware can be done from Linux using flashrom with the internal programmer. This document describes the process of building, installing and running flashrom on Ubuntu 22.04.</p>"},{"location":"variants/protectli_vp2410/initial-deployment/#deploy-using-dasharo-tools-suite","title":"Deploy using Dasharo Tools Suite","text":"<p>For simplicity we recommend using Dasharo Tools Suite to omit all compilation steps and deploy the Dasharo firmware seamlessly. Be sure to disable the BIOS lock in the AMI firmware setup utility:</p> <ol> <li>Go to <code>Chipset</code> tab</li> <li>Enter <code>PCH IO Configuration</code></li> <li>Disable <code>BIOS Lock</code>.</li> <li>Save changes and reset.</li> </ol> <p>Now you are ready to use Dasharo Tools Suite (DTS):</p> <ol> <li>Boot Dasharo Tools Suite.</li> <li>Perform Dasharo installation.</li> </ol> <p>This will flash the full image, including the Intel ME. The operation requires a hard reset of the platform. To perform a hard reset:</p> <ol> <li>Power off the platform. Note, it may not power off completely due to flashed    ME.</li> <li>Disconnect power supply from the board when OS finishes all tasks after    power off (the screen goes dark or black).</li> <li>Disconnect the RTC/CMOS battery OR clear the CMOS using the pin header    located near memory slots. Wait about 10 seconds and unshort the pins.</li> <li>Connect the power supply back.</li> <li>The platform should power on normally now. You can connect the battery back    if it was disconnected.</li> </ol> <p>This concludes Dasharo deployment process using DTS.</p>"},{"location":"variants/protectli_vp2410/initial-deployment/#build-flashrom","title":"Build flashrom","text":"<p>Please follow generic guide for Dasharo flashrom fork.</p>"},{"location":"variants/protectli_vp2410/initial-deployment/#reading-flash-contents","title":"Reading flash contents","text":"<p>Always prepare a backup of the current firmware image. To read from the flash and save them to a file (<code>dump.rom</code>), execute the following command:</p> <pre><code>flashrom -p internal -r dump.rom\n</code></pre> <p>Keep the backup for later recovery if needed.</p>"},{"location":"variants/protectli_vp2410/initial-deployment/#flashing-dasharo","title":"Flashing Dasharo","text":"<p>To flash Dasharo on the platform, execute the following command - replace <code>[path]</code> with the path to the Dasharo image you want to flash, e.g. <code>protectli_vault_glk_v1.0.15.rom</code>.</p> <p>If stock firmware is currently installed:</p> <pre><code>flashrom -p internal -w [path]\n</code></pre> <p>If Dasharo is currently installed, only the COREBOOT and IFWI partitions of the flash needs to be updated. Flash it using the following command:</p> <pre><code>flashrom -p internal -w protectli_vault_glk_v1.0.15.rom --fmap -i COREBOOT -i IFWI\n</code></pre> <p>This command also preserves Dasharo UEFI settings and the boot order.</p>"},{"location":"variants/protectli_vp2410/overview/","title":"Overview","text":"<p>The Vault Pro is a small form network appliance built for use as a firewall / router, virtualization platform, a daily-driven personal computer, and more. The VP2410 is based on a 4 network port design that leverages a low power, but versatile Intel Celeron J4125 CPU.</p> <p></p> <p>The VP2410 can accommodate up to 16GB DDR4 RAM and 2TB m.2 SATA SSD storage drive. The built-in 8GB eMMC module can be used for booting a light-weight OS for example, or for use as optional storage.</p> <p>VP2410 specification:</p> <ul> <li>Intel Celeron\u00ae J4125 Quad Core at 2 GHz (Burst up to 2.7 GHz)</li> <li>4 Intel\u00ae Gigabit Ethernet NIC ports</li> <li>8GB eMMC module on board</li> <li>Intel\u00ae AES-NI support</li> <li>Fanless and Silent</li> <li>Included 12v Power Supply, VESA mount kit, Serial Console Cable, SATA data and power cables for internal SSD, Quick Start Guide</li> </ul> <p>For more information please refer to the references below.</p>"},{"location":"variants/protectli_vp2410/overview/#references","title":"References","text":"<ul> <li>Protectli knowledge base</li> <li>Buy VP2410 in Protectli shop</li> </ul>"},{"location":"variants/protectli_vp2410/overview/#documentation-sections","title":"Documentation sections","text":"<ul> <li>Releases - groups information about all releases.</li> <li>Building manual - describes how to build Dasharo for     Protecli 2410.</li> <li>Initial deployment - describes initial Dasharo     deployment methods (i. e. flashing new firmware) for Protectli VP2410.</li> <li>Recovery - gathers information on how to recover the platform     from potential failure.</li> <li>Hardware configuration matrix - describes the     platform's hardware configuration used during the Dasharo firmware     validation procedure.</li> <li>Test matrix - describes validation scope used during     Dasharo firmware validation procedure.</li> </ul>"},{"location":"variants/protectli_vp2410/recovery/","title":"Recovery","text":""},{"location":"variants/protectli_vp2410/recovery/#intro","title":"Intro","text":"<p>The following documentation describes the process of recovering hardware from the brick state with RTE and Dasharo open-source firmware.</p>"},{"location":"variants/protectli_vp2410/recovery/#prerequisites","title":"Prerequisites","text":"<ul> <li>Prepared RTE</li> <li>SOIC-8 Pomona clip</li> <li>6x female-female wire cables</li> </ul>"},{"location":"variants/protectli_vp2410/recovery/#connections","title":"Connections","text":"<p>To prepare the stand for flashing follow the steps described below:</p> <ol> <li> <p>Connect the wire cables to the Pomona clip.</p> <p> </p> </li> <li> <p>Connect the Pomona clip to the SPI header    on RTE.</p> SPI header Pomona clip Vcc pin 5 (Vcc) GND pin 4 (GND) CS pin 1 (CS) SCLK pin 7 (CLK) MISO pin 2 (MISO) MOSI pin 8 (MOSI) <p></p> </li> <li> <p>Completely remove the motherboard from the platform cover.</p> <p> </p> <p>If there is little thermal paste on the CPU, apply it before reassembling the motherboard to the platform cover.</p> </li> <li> <p>Match pin 1(CS) on the Pomona clip with the first pin of the one of flash    chip, marked with a small dot engraved on the chip.</p> <p> </p> </li> </ol>"},{"location":"variants/protectli_vp2410/recovery/#firmware-flashing","title":"Firmware flashing","text":"<p>To flash firmware follow the steps described below:</p> <ol> <li>Login to RTE via <code>ssh</code> or <code>minicom</code>.</li> <li>Turn on the platform by connecting the power supply.</li> <li>Wait at least 5 seconds.</li> <li>Turn off the platform by using the power button.</li> <li>Wait at least 3 seconds.</li> <li> <p>Set the proper state of the SPI by using the following commands on RTE:</p> <pre><code># set SPI Vcc to 1.8V\necho 0 &gt; /sys/class/gpio/gpio405/value\n# SPI Vcc on\necho 1 &gt; /sys/class/gpio/gpio406/value\n# SPI lines ON\necho 1 &gt; /sys/class/gpio/gpio404/value\n</code></pre> </li> <li> <p>Wait at least 2 seconds.</p> </li> <li>Disconnect the power supply from the platform.</li> <li>Wait at least 2 seconds.</li> <li> <p>Flash the platform by using the following command:</p> <pre><code>flashrom -p linux_spi:dev=/dev/spidev1.0,spispeed=16000 -c \"MX25U6435E/F\" -w [path_to_binary]\n</code></pre> <p>Flashing with flashrom takes about 1 minute.</p> </li> <li> <p>Change back the state of the SPI by using the following commands:</p> <pre><code>echo 0 &gt; /sys/class/gpio/gpio404/value\necho 0 &gt; /sys/class/gpio/gpio406/value\n</code></pre> </li> <li> <p>Reset CMOS, this can be done by two methods:</p> <ol> <li>Disconnect the CMOS battery, wait at least 10 seconds and connect again.</li> <li> <p>Short the two pins from the CMOS header for at least 10 seconds.</p> <p></p> </li> </ol> </li> <li> <p>Turn on the platform by connecting the power supply.</p> </li> </ol> <p>The first boot of the platform after proceeding with the above procedure can take much longer than standard.</p>"},{"location":"variants/protectli_vp2410/releases/","title":"Release Notes","text":"<p>Following Release Notes describe status of open-source firmware development for Protectli VP2410 family.</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> Subscribe to Protectli VP2410 Dasharo Release Newsletter </p> <p>Test results for this platform can be found here.</p>"},{"location":"variants/protectli_vp2410/releases/#v1015-2022-05-31","title":"v1.0.15 - 2022-05-31","text":""},{"location":"variants/protectli_vp2410/releases/#changed","title":"Changed","text":"<ul> <li>Customized Network boot menu and strings</li> </ul>"},{"location":"variants/protectli_vp2410/releases/#fixed","title":"Fixed","text":"<ul> <li>SMBIOS memory information showing 0 MB DRAM in setup</li> </ul>"},{"location":"variants/protectli_vp2410/releases/#known-issues","title":"Known issues","text":"<ul> <li>USB 2.0 sticks not detected on VP2410</li> <li>S3 resume does not work in Geminilake FSP</li> </ul>"},{"location":"variants/protectli_vp2410/releases/#binaries","title":"Binaries","text":"<p>protectli_VP2410_DF_v1.0.15.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/protectli_vp2410/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on b77cf229 revision f59b1ec9</li> <li>edk2 based on 7f90b9cd revision 90364638</li> <li>iPXE for EFI revision 988d2</li> <li>FSP: Custom version based on Intel GeminiLake FSP 2.2.1.3</li> <li>Management Engine: Custom image based on CSE 4.0.30.1392</li> <li>microcode:<ul> <li>CPU signature: 0x0706A8, Date: 09.06.2020, Revision: 0x18</li> <li>CPU signature: 0x0706A0, Date: 12.07.2017, Revision: 0x26</li> <li>CPU signature: 0x0706A1, Date: 09.06.2020, Revision: 0x34</li> </ul> </li> </ul>"},{"location":"variants/protectli_vp2410/test-matrix/","title":"Test matrix","text":""},{"location":"variants/protectli_vp2410/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p>"},{"location":"variants/protectli_vp2410/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. UEFI compatible interface EFI All 3. Display ports DSP DSP002.001, DSP002.002, DSP002.003, DSP003.001, DSP003.002, DSP003.003 4. Network boot utilities NBT All 5. NVMe support NVM All 6. Custom logo CLG All 7. Custom boot menu key CBK All 8. USB HID and MSC Support USB All 9. FreeBSD support BSD All 10. Debian Stable and Ubuntu LTS support LBT LBT003.001, LBT003.002, LBT004.001, LBT004.002 11. USB-C support UTC UTC004.001, UTC004.001 12. M.2 WiFi/Bluetooth WLE ALL 13. eMMC support MMC MMC001.001 14. SMBIOS DMI DMI002.001, DMI003.001, DMI004.001, DMI005.001, DMI006.001 15. Custom network boot entries CNB CNB001.002 16. M.2 automatic SATA/NVMe switching support MSS MSS001.001 17. Windows booting WBT WBT001.001 18. Audio subsystem AUD AUD001.001, AUD001.002, AUD002.001, AUD002.002, AUD003.001, AUD003.002, AUD004.001, AUD004.002, AUD005.001, AUD005.002, AUD006.001, AUD006.002 19. UEFI Shell USH All 20. USB detection UDT All 21. USB booting UBT All"},{"location":"variants/protectli_vp2410/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM Without TPM001.001 and TPM002.001 2. Verified Boot support VBO VBO006.002, VBO007.002, VBO008.001 3. Measured Boot support MBO All 4. Secure Boot support SBO All 5. BIOS lock support BLS All"},{"location":"variants/protectli_vp2410/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot bring up time measurement CBMEM All 2. CPU temperature measure CPT All 3. CPU frequency measure CPF All 4. Platform stability STB All"},{"location":"variants/protectli_vp2420/building-manual/","title":"Building manual","text":""},{"location":"variants/protectli_vp2420/building-manual/#intro","title":"Intro","text":"<p>This document describes the procedure for compiling coreboot for Protectli VP2420.</p>"},{"location":"variants/protectli_vp2420/building-manual/#requirements","title":"Requirements","text":"<ul> <li>Docker<ul> <li>follow Install Docker Engine on Ubuntu</li> <li>follow Post-installation steps for Linux</li> </ul> </li> <li>Git</li> </ul>"},{"location":"variants/protectli_vp2420/building-manual/#build-dasharo-bios-firmware","title":"Build Dasharo BIOS firmware","text":"<p>This build procedure produces full firmware binary including blobs such as FSP, and ME. Currently, access to them is restricted to the OEM (Protectli) via a private repository.</p> <ol> <li> <p>Clone the coreboot repository:</p> <pre><code>git clone https://github.com/Dasharo/coreboot\n</code></pre> </li> <li> <p>Checkout the desired version, e.g. <code>v1.1.0</code>:</p> <pre><code>cd coreboot\ngit checkout protectli_vault_ehl_v1.1.0\n</code></pre> </li> <li> <p>Checkout submodules:</p> <pre><code>git submodule update --init --checkout\n</code></pre> </li> <li> <p>Obtain the Protectli blobs package:</p> <p>Replace <code>&lt;PROTECTLI_BLOBS_REPO&gt;</code> with a a proper path to the repository in a form of: <code>git@repo-path.git</code>. You should checkout to the same tag as in case aof the coreboot repository.</p> <pre><code>cd 3rdparty/blobs/mainboard/\ngit init\ngit remote add origin &lt;PROTECTLI_BLOBS_REPO&gt;\ngit fetch origin &amp;&amp; git checkout protectli_vault_ehl_v1.1.0\ncd -\n</code></pre> </li> <li> <p>Build the firmware v1.1.0 or newer:</p> <pre><code>./build.sh vp2420\n</code></pre> </li> </ol> <p>The resulting coreboot image will be placed in the coreboot directory as <code>protectli_vp2420_&lt;version&gt;.rom</code>.</p>"},{"location":"variants/protectli_vp2420/firmware-update/","title":"Firmware update","text":"<p>The following documentation describes the process of Dasharo open-source firmware update. If your device is currently flashed with the proprietary firmware please refer to the Initial deployment documentation.</p> <p>For simplicity of the update process, we recommend using Dasharo Tools Suite.</p> <p>Before starting the update procedure be sure to disable Dasharo BIOS Boot medium lock, SMM BIOS Write Protection and Secure boot:</p> <ol> <li>Power on the device.</li> <li>While the device is booting, hold the <code>DELETE</code> key to enter the UEFI Setup    Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the Dasharo Security Options    submenu.</li> <li>Verify the state of the <code>Lock the BIOS boot medium</code> and    <code>Enable SMM BIOS write protection</code> options - if any of those are set, press    <code>Space</code> to unselect them and then <code>F10</code> to save the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Enter the <code>Device Manager</code> menu.</li> <li>Enter the Secure Boot Configuration    submenu.</li> <li>Verify that the <code>Current Secure Boot State</code> field says Disabled - if not,    unselect the <code>Attempt Secure Boot</code> option below then press <code>F10</code> to save the    changes.</li> <li>Reboot the device to properly apply the changes.</li> </ol> <p>The settings of all the above options can be restored after a firmware update.</p>"},{"location":"variants/protectli_vp2420/firmware-update/#updating-minor-versions-v1xy","title":"Updating minor versions v1.x.y","text":"<p>Both <code>WP_RO</code> and <code>RW_SECTION_A</code> partitions of the flash needs to be updated. Flash it using the following command:</p> <pre><code>flashrom -p internal -w [path] --fmap -i RW_SECTION_A -i WP_RO\n</code></pre> <p>This command also preserves current Dasharo UEFI settings and the boot order.</p>"},{"location":"variants/protectli_vp2420/firmware-update/#updating-patch-version-v10x","title":"Updating patch version v1.0.x","text":"<p>Only the <code>RW_SECTION_A</code> partition of the flash needs to be updated. Flash it using the following command:</p> <pre><code>flashrom -p internal -w [path] --fmap -i RW_SECTION_A\n</code></pre> <p>This command also preserves Dasharo UEFI settings and the boot order.</p>"},{"location":"variants/protectli_vp2420/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/protectli_vp2420/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configuration used for validation of the coreboot port on the Protectli VP2420 firewall.</p>"},{"location":"variants/protectli_vp2420/hardware-matrix/#protectli-vp2420","title":"Protectli VP2420","text":"Component Description CPU Intel(R) Celeron(R) J6412 @ 2.60GHz RAM KINGSTON KVR29S21S8/16 Flash memory Macronix KH25L12835F SSD 1. SSD Samsung 860 EVO M.2 NZ-N6E250 250GB 2. SSDPR-CL100-240-g2 MMC drive SAMSUNG 8GTF4R (on-board) USB pendrives 1. SanDisk USB 3.2Gen1 16 GB 2. SanDisk USB 3.2Gen1 16 GB 3. USB Type-C Hub Pro UCN3286 USB headers USB Expander Attached devices 1. Logitech, Inc. Keyboard K120 2. Dell Mouse MS116p 3. USB Type-C Hub Pro UCN3286 Wireless card Intel Wi-Fi 6 AX200 Display HDMI 1920x1080p, DP 1920x1080p Ethernet 4x intel i225 (on-board) Power supply Channel Well Technology 12V, 5.0A 60W <p>Note, that in RAM section all used during verification procedure modules have been listed. Device has only one RAM mounting slot.</p>"},{"location":"variants/protectli_vp2420/initial-deployment/","title":"Initial deployment","text":"<p>Initial flashing of Dasharo firmware can be done from Linux using flashrom with the internal programmer. This document describes the process of building, installing and running flashrom on Ubuntu 22.04.</p>"},{"location":"variants/protectli_vp2420/initial-deployment/#deploy-using-dasharo-tools-suite","title":"Deploy using Dasharo Tools Suite","text":"<p>For simplicity we recommend using Dasharo Tools Suite to omit all compilation steps and deploy the Dasharo firmware seamlessly. Be sure to disable the BIOS lock in the AMI firmware setup utility:</p> <ol> <li>Go to <code>Chipset</code> tab</li> <li>Enter <code>PCH IO Configuration</code></li> <li>Disable <code>BIOS Lock</code>.</li> <li>Save changes and reset.</li> </ol> <p>Now you are ready to use Dasharo Tools Suite (DTS):</p> <ol> <li>Boot Dasharo Tools Suite.</li> <li>Perform Dasharo installation.</li> </ol>"},{"location":"variants/protectli_vp2420/initial-deployment/#build-flashrom","title":"Build flashrom","text":"<p>Please follow generic guide for Dasharo flashrom fork.</p>"},{"location":"variants/protectli_vp2420/initial-deployment/#reading-flash-contents","title":"Reading flash contents","text":"<p>Always prepare a backup of the current firmware image. To read from the flash and save them to a file (<code>backup.rom</code>), execute the following command:</p> <pre><code>flashrom -p internal -r dump.rom\n</code></pre> <p>Keep the backup for later recovery if needed.</p>"},{"location":"variants/protectli_vp2420/initial-deployment/#flashing-dasharo","title":"Flashing Dasharo","text":"<p>To flash Dasharo on the platform, execute the following command - replace <code>[path]</code> with the path to the Dasharo image you want to flash, e.g. <code>protectli_vault_ehl_v1.0.0.rom</code>.</p> <p>If stock firmware is currently installed:</p> <pre><code>flashrom -p internal -w [path] --ifd -i bios\n</code></pre> <p>If Dasharo is currently installed, only the <code>RW_SECTION_A</code> partition of the flash needs to be updated. Flash it using the following command:</p> <pre><code>flashrom -p internal -w protectli_vault_ehl_v1.x.y.rom --fmap -i RW_SECTION_A\n</code></pre> <p>This command also preserves Dasharo UEFI settings and the boot order.</p>"},{"location":"variants/protectli_vp2420/overview/","title":"Overview","text":"<p>The Vault Pro is a small form network appliance built for use as a firewall / router, virtualization platform, a daily-driven personal computer, and more. The VP2420 is based on a 4 x 2.5 G network port design that leverages a low power, but versatile Intel Celeron J6412 CPU.</p> <p></p> <p>The VP2420 can accommodate up to 32 GB DDR4 RAM and 2 TB M.2 SATA SSD storage drive (Note: The VP2420 supports M.2 SATA drives, not NVMe drives). The built-in 8 GB eMMC module can be used for booting a light-weight OS for example, or for use as optional storage.</p> <p>VP2410 specification:</p> <ul> <li>Intel Celeron\u00ae J6412 Quad Core at 2 GHz (Burst up to 2.6 GHz)</li> <li>4 Intel\u00ae 2.5 Gigabit Ethernet NIC ports</li> <li>M.2 SATA SSD Slot (Note: This device does not support NVMe drives)</li> <li>8 GB eMMC module on board</li> <li>Intel\u00ae AES-NI support</li> <li>Fanless and Silent</li> <li>Included 12v Power Supply, VESA mount kit, Serial Console Cable, SATA data and power cables for internal SSD, Quick Start Guide</li> </ul> <p>For more information please refer to the references below.</p>"},{"location":"variants/protectli_vp2420/overview/#references","title":"References","text":"<ul> <li>Protectli knowledge base</li> <li>Buy VP2420 in Protectli shop</li> </ul>"},{"location":"variants/protectli_vp2420/overview/#documentation-sections","title":"Documentation sections","text":"<ul> <li>Releases - groups information about all releases.</li> <li>Building manual - describes how to build Dasharo for     Protecli 2420.</li> <li>Initial deployment - describes initial Dasharo     deployment methods (i. e. flashing new firmware) for Protectli VP2420.</li> <li>Recovery - gathers information on how to recover the platform     from potential failure.</li> <li>Hardware configuration matrix - describes the     platform's hardware configuration used during the Dasharo firmware     validation procedure.</li> <li>Test matrix - describes validation scope used during     Dasharo firmware validation procedure.</li> </ul>"},{"location":"variants/protectli_vp2420/recovery/","title":"Recovery","text":""},{"location":"variants/protectli_vp2420/recovery/#intro","title":"Intro","text":"<p>The following documentation describes the process of recovering hardware from the brick state with RTE and Dasharo open-source firmware.</p>"},{"location":"variants/protectli_vp2420/recovery/#prerequisites","title":"Prerequisites","text":"<ul> <li>Prepared RTE</li> <li>SOIC-8 Pomona clip</li> <li>6x female-female wire cables</li> </ul>"},{"location":"variants/protectli_vp2420/recovery/#connections","title":"Connections","text":"<p>To prepare the stand for flashing follow the steps described below:</p> <ol> <li> <p>Connect the wire cables to the Pomona clip.</p> <p> </p> </li> <li> <p>Connect the Pomona clip to the SPI header    on RTE.</p> SPI header Pomona clip Vcc pin 5 (Vcc) GND pin 4 (GND) CS pin 1 (CS) SCLK pin 7 (CLK) MISO pin 2 (MISO) MOSI pin 8 (MOSI) <p></p> </li> <li> <p>Open the platform cover.</p> <p></p> </li> <li> <p>Match pin 1(CS) on the Pomona clip with the first pin of the one of flash    chip, marked with a small dot engraved on the chip.</p> <p> </p> </li> </ol>"},{"location":"variants/protectli_vp2420/recovery/#firmware-flashing","title":"Firmware flashing","text":"<p>To flash firmware follow the steps described below:</p> <ol> <li>Login to RTE via <code>ssh</code> or <code>minicom</code>.</li> <li>Turn on the platform by connecting the power supply.</li> <li>Wait at least 5 seconds.</li> <li>Turn off the platform by using the power button.</li> <li>Wait at least 3 seconds.</li> <li> <p>Set the proper state of the SPI by using the following commands on RTE:</p> <pre><code># set SPI Vcc to 3.3V\necho 1 &gt; /sys/class/gpio/gpio405/value\n# SPI Vcc on\necho 1 &gt; /sys/class/gpio/gpio406/value\n# SPI lines ON\necho 1 &gt; /sys/class/gpio/gpio404/value\n</code></pre> </li> <li> <p>Wait at least 2 seconds.</p> </li> <li>Disconnect the power supply from the platform.</li> <li>Wait at least 2 seconds.</li> <li> <p>Flash the platform by using the following command:</p> <pre><code>flashrom -p linux_spi:dev=/dev/spidev1.0,spispeed=16000 -c \"MX25L12835F/MX25L12845E/MX25L12865E\" -w [path_to_binary]\n</code></pre> <p>Flashing with flashrom takes about 1 minute.</p> </li> <li> <p>Change back the state of the SPI by using the following commands:</p> <pre><code>echo 0 &gt; /sys/class/gpio/gpio404/value\necho 0 &gt; /sys/class/gpio/gpio406/value\n</code></pre> </li> <li> <p>Reset CMOS, this can be done by two methods:</p> <ol> <li>Disconnect the CMOS battery, wait at least 10 seconds and connect again.</li> <li> <p>Short the two pins from the CMOS header for at least 10 seconds.</p> <p></p> </li> </ol> </li> <li> <p>Turn on the platform by connecting the power supply.</p> </li> </ol> <p>The first boot of the platform after proceeding with the above procedure can take much longer than standard.</p>"},{"location":"variants/protectli_vp2420/releases/","title":"Release Notes","text":"<p>Following Release Notes describe status of open-source firmware development for Protectli VP2420 family.</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> Subscribe to Protectli VP2420 Dasharo Release Newsletter </p> <p>Test results for this platform can be found here.</p>"},{"location":"variants/protectli_vp2420/releases/#v110-2023-04-20","title":"v1.1.0 - 2023-04-20","text":""},{"location":"variants/protectli_vp2420/releases/#added","title":"Added","text":"<ul> <li>USB stack and mass storage enable/disable option</li> <li>SMM BIOS write protection enable/disable option</li> </ul>"},{"location":"variants/protectli_vp2420/releases/#changed","title":"Changed","text":"<ul> <li>Updating from v1.0.x requires flashing the WP_RO recovery partition</li> <li>Firmware version v1.1.x are signed with a new key</li> <li>Keys must be provisioned prior enabling Secure Boot</li> </ul>"},{"location":"variants/protectli_vp2420/releases/#fixed","title":"Fixed","text":"<ul> <li>VP2420 memory issues and incorrectly reported memory capacity</li> <li>Popup with information about recovery mode is still displayed after flashing with a valid binary</li> </ul>"},{"location":"variants/protectli_vp2420/releases/#known-issues","title":"Known issues","text":"<ul> <li>pfSense boot time</li> <li>Double characters in pfSense initial boot phase</li> </ul>"},{"location":"variants/protectli_vp2420/releases/#binaries","title":"Binaries","text":"<p>protectli_vp2420_v1.1.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/protectli_vp2420/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on c86c926 revision e36a117d</li> <li>edk2 based on 7f90b9cd revision 19bf14b4</li> </ul>"},{"location":"variants/protectli_vp2420/releases/#v101-2023-02-02","title":"v1.0.1 - 2023-02-02","text":""},{"location":"variants/protectli_vp2420/releases/#added_1","title":"Added","text":"<ul> <li>TPM 2.0 support over SPI interface</li> <li>TPM Measured Boot</li> </ul>"},{"location":"variants/protectli_vp2420/releases/#changed_1","title":"Changed","text":"<ul> <li>Downgrade edk2 Secure Boot driver to achieve consistent user experience as on   the VP46XX v1.0.19 release</li> </ul>"},{"location":"variants/protectli_vp2420/releases/#fixed_1","title":"Fixed","text":"<ul> <li>Dasharo BIOS lock menu is missing</li> <li>iPXE entry doesn't occur in setup menu</li> <li>Impossibility of pfSense/OPNsense console versions installation</li> </ul>"},{"location":"variants/protectli_vp2420/releases/#known-issues_1","title":"Known issues","text":"<ul> <li>Popup with information about recovery mode is still displayed after flashing with a valid binary</li> <li>pfSense boot time</li> <li>Double characters in pfSense initial boot phase</li> </ul>"},{"location":"variants/protectli_vp2420/releases/#binaries_1","title":"Binaries","text":"<p>protectli_vp2420_v1.0.1.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/protectli_vp2420/releases/#sbom-software-bill-of-materials_1","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on c86c926 revision 54cbbc5b</li> <li>edk2 based on 7f90b9cd revision e31b7a71</li> </ul>"},{"location":"variants/protectli_vp2420/releases/#v100-2022-12-22","title":"v1.0.0 - 2022-12-22","text":""},{"location":"variants/protectli_vp2420/releases/#added_2","title":"Added","text":"<ul> <li>Support for VP2420 platform</li> <li>Vboot Verified Boot</li> <li>TPM Measured Boot</li> <li>Vboot recovery notification in UEFI Payload</li> <li>UEFI Shell</li> <li>UEFI Secure Boot</li> <li>BIOS flash protection for Vboot recovery region</li> <li>UEFI boot support</li> <li>Intel i225 controller network boot support</li> <li>Customized boot menu keys</li> <li>Customized setup menu keys</li> <li>Configurable boot order</li> <li>Configurable boot options</li> </ul>"},{"location":"variants/protectli_vp2420/releases/#binaries_2","title":"Binaries","text":"<p>protectli_VP2420_v1.0.0.rom sha256 sha256.sig</p> <p>How to verify signatures:</p> <pre><code>wget https://3mdeb.com/open-source-firmware/Dasharo/protectli_vault_ehl/v1.0.0/protectli_vp2420_v1.0.0.rom\nwget https://3mdeb.com/open-source-firmware/Dasharo/protectli_vault_ehl/v1.0.0/protectli_vp2420_v1.0.0.rom.sha256\nwget https://3mdeb.com/open-source-firmware/Dasharo/protectli_vault_ehl/v1.0.0/protectli_vp2420_v1.0.0.rom.sha256.sig\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/keys/master-key/3mdeb-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/dasharo/3mdeb-dasharo-master-key.asc\ngpg --fetch-keys https://raw.githubusercontent.com/3mdeb/3mdeb-secpack/master/customer-keys/protectli/release-keys/protectli-dasharo-firewall-release-1.0-key.asc\ngpg --list-sigs \"3mdeb Master Key\" \"3mdeb Dasharo Master Key\" \"Protectli Dasharo Firewall Release 1.0 Signing Key\"\nsha256sum -c protectli_vp2420_v1.0.0.rom.sha256\ngpg -v --verify protectli_vp2420_v1.0.0.rom.sha256.sig protectli_vp2420_v1.0.0.rom.sha256\n</code></pre>"},{"location":"variants/protectli_vp2420/releases/#sbom-software-bill-of-materials_2","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on c492b427 revision c86c9266</li> <li>edk2 based on e461f08 revision 7948a20</li> <li>iPXE for EFI revision 988d2</li> </ul>"},{"location":"variants/protectli_vp2420/test-matrix/","title":"Test matrix","text":""},{"location":"variants/protectli_vp2420/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p>"},{"location":"variants/protectli_vp2420/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. UEFI compatible interface EFI All 3. Display ports DSP DSP002.001, DSP002.002, DSP002.003, DSP003.001, DSP003.002, DSP003.003 4. Network boot utilities NBT All 6. Custom logo CLG All 7. Custom boot menu key CBK All 8. USB HID and MSC Support USB USB001.XXX and USB002.XXX 9. FreeBSD support BSD All 10. Debian Stable and Ubuntu LTS support LBT LBT003.001, LBT003.002, LBT004.001, LBT004.002 11. USB-C support UTC UTC004.001, UTC004.002 12. M.2 WiFi/Bluetooth WLE ALL 13. eMMC support MMC MMC001.001 14. SMBIOS DMI DMI002.001, DMI003.001, DMI004.001, DMI005.001, DMI006.001 15. Custom network boot entries CNB CNB001.002 17. Windows booting WBT WBT001.001 18. UEFI Shell USH All 19. USB detection UDT All 20. USB booting UBT All 21. pfSense support PFS All 22. OPNsense support OPN All 23. Proxmox support PVE All 24. Ubuntu Server support USS All"},{"location":"variants/protectli_vp2420/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM TPM001.002 and TPM001.003 2. Verified Boot support VBO Without VBO006.001 and VBO007.001 3. Measured Boot support MBO All 4. Secure Boot support SBO All 5. BIOS lock support BLS All 6. USB stack enable/disable USS All 7. SMM BIOS write protection SMM All"},{"location":"variants/protectli_vp2420/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot bring up time measurement CBMEM All 2. CPU temperature measure CPT All 3. CPU frequency measure CPF Without CPU003.XXX and CPU005.XXX 4. Platform stability STB All 5. Ubuntu booting performance test BUB All 6. Debian booting performance test BDE All 7. FreeBSD booting performance test BFB All 8. Proxmox booting performance test BPM All 9. Ubuntu Server booting performance test BUS All 10. OPNsense (serial output) booting performance test BOS All 11. OPNsense (VGA output) booting performance test BOV All 12. pfSense (serial output) booting performance test BPS All 13. pfSense (VGA output) booting performance test BPV All"},{"location":"variants/protectli_vp46xx/building-manual/","title":"Building manual","text":""},{"location":"variants/protectli_vp46xx/building-manual/#intro","title":"Intro","text":"<p>This document describes the procedure for compiling coreboot for Protectli VP4630, VP4650 and VP4670.</p>"},{"location":"variants/protectli_vp46xx/building-manual/#requirements","title":"Requirements","text":"<ul> <li>Docker<ul> <li>follow Install Docker Engine on Ubuntu</li> <li>follow Post-installation steps for Linux</li> </ul> </li> <li>Git</li> </ul>"},{"location":"variants/protectli_vp46xx/building-manual/#build-dasharo-bios-firmware","title":"Build Dasharo BIOS firmware","text":"<p>This build procedure produces full firmware binary including blobs such as FSP, and ME. Currently, access to them is restricted to the OEM (Protectli) via a private repository.</p> <p>Since version v1.0.18 VP4630 and VP4650 use different configuration file than VP4670. Versions v1.0.17 and older do not support VP4650 and VP4670 at all.</p> <p>Versions v1.1.1 and newer support all variants with a single binary.</p> <ol> <li> <p>Clone the coreboot repository:</p> <pre><code>git clone https://github.com/Dasharo/coreboot\n</code></pre> </li> <li> <p>Checkout the desired version, e.g. <code>v1.1.0</code>:</p> <pre><code>cd coreboot\ngit checkout protectli_vault_cml_v1.1.0\n</code></pre> </li> <li> <p>Checkout submodules:</p> <pre><code>git submodule update --init --checkout\n</code></pre> </li> <li> <p>Obtain the Protectli blobs package:</p> <p>Replace <code>&lt;PROTECTLI_BLOBS_REPO&gt;</code> with a a proper path to the repository in a form of: <code>git@repo-path.git</code>. You should checkout to the same tag as in case aof the coreboot repository.</p> <pre><code>cd 3rdparty/blobs/mainboard/\ngit init\ngit remote add origin &lt;PROTECTLI_BLOBS_REPO&gt;\ngit fetch origin &amp;&amp; git checkout protectli_vault_cml_v1.1.0\ncd -\n</code></pre> </li> <li> <p>Build the firmware v1.1.1 or newer:</p> v1.1.1 or newerV1.1.0 or older <pre><code>./build.sh vp46xx\n</code></pre> <p>The resulting coreboot image will be placed in the coreboot directory as <code>protectli_vault_cml_&lt;version&gt;_vp46xx.rom</code>.</p> VP4630 and VP4650VP4670 <pre><code>./build.sh vp4630_vp4650\n</code></pre> <p>The resulting coreboot image will be placed in the coreboot directory as <code>protectli_vault_cml_&lt;version&gt;_vp4630_vp4650.rom</code>.</p> <pre><code>./build.sh vp4670\n</code></pre> <p>The resulting coreboot image will be placed in the coreboot directory as <code>protectli_vault_cml_&lt;version&gt;_vp4670.rom</code>.</p> </li> </ol>"},{"location":"variants/protectli_vp46xx/firmware-update/","title":"Firmware update","text":"<p>The following documentation describes the process of Dasharo open-source firmware update. If your device is currently flashed with the proprietary firmware please refer to the Initial deployment documentation.</p> <p>The update process may be different, depending on the currently installed Dasharo firmware version.</p> <p>For simplicity of the update process, we recommend using Dasharo Tools Suite.</p> <p>Before starting the update procedure be sure to disable Dasharo BIOS Boot medium lock and Secure Boot:</p> <ol> <li>Power on the device.</li> <li>While the device is booting, hold the <code>DELETE</code> key to enter the UEFI Setup    Menu.</li> <li>Enter the <code>Dasharo System Features</code> menu using the arrow keys and Enter.</li> <li>Enter the Dasharo Security Options    submenu.</li> <li>Verify the state of the <code>Lock the BIOS boot medium</code> option - if the option    is chosen, press <code>Space</code> and then <code>F10</code> to save the changes.</li> <li>Go back to the main menu using the <code>ESC</code> key.</li> <li>Enter the <code>Device Manager</code> menu.</li> <li>Enter the Secure Boot Configuration    submenu.</li> <li>Verify that the <code>Current Secure Boot State</code> field says Disabled - if not,    unselect the <code>Attempt Secure Boot</code> option below then press <code>F10</code> to save the    changes.</li> <li>Reboot the device to properly apply the changes.</li> </ol> <p>The settings of all the above options can be restored after a firmware update.</p>"},{"location":"variants/protectli_vp46xx/firmware-update/#updating-to-dasharo-v1018-or-v1019-or-v110","title":"Updating to Dasharo v1.0.18 or v1.0.19 or v1.1.0","text":"<p>From v1.0.18 Dasharo firmware is rebased on the more up-to-date revision of coreboot.</p> <p>If the current version of the firmware on the device is older than v1.0.18 or you are migrating from proprietary firmware the whole flash chip should be flashed as described in Initial Deployment.</p> <p>If the current version of the firmware on the device is v1.0.18 and it should be updated to v1.0.19 or v1.1.0, only the <code>WP_RO</code> and <code>RW_SECTION_A</code> should be flashed. To do this the following command should be used:</p> <pre><code>flashrom -p internal -w protectli_vault_cml_v1.0.19.rom --fmap -i WP_RO -i RW_SECTION_A\n</code></pre>"},{"location":"variants/protectli_vp46xx/firmware-update/#updating-on-dasharo-v1016-or-v1017","title":"Updating on Dasharo v1.0.16 or v1.0.17","text":"<p>Only the <code>RW_SECTION_A</code> partition of the flash needs to be updated. Flash it using the following command:</p> <pre><code>flashrom -p internal -w protectli_vault_cml_v1.0.16.rom --fmap -i RW_SECTION_A\n</code></pre> <p>This command also preserves Dasharo UEFI settings and the boot order.</p>"},{"location":"variants/protectli_vp46xx/firmware-update/#updating-on-older-dasharo-versions","title":"Updating on older Dasharo versions","text":"<p>In this case, the whole <code>bios</code> region must be updated.</p> <pre><code>flashrom -p internal -w protectli_vault_cml_v1.0.13.rom --ifd -i bios\n</code></pre>"},{"location":"variants/protectli_vp46xx/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/protectli_vp46xx/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configuration used for validation of the coreboot port on the Protectli VP46XX firewall.</p>"},{"location":"variants/protectli_vp46xx/hardware-matrix/#protectli-vp4630","title":"Protectli VP4630","text":"Component Description CPU Intel Core i3-10110U RAM Slot 1: Empty Slot 2: SAMSUNG M471A4G43MB1-CTD Flash memory Macronix KH25L12835F SSD Kingston NV1 250GB SNVS/250G MMC drive SAMSUNG KLM8G1GETF-B041 (on-board) USB pendrives 1. SanDisk Ultra  Flair USB 3.0 16 GB USB Keyboard DELL KB216 USB Mouse DELL MS116p Wireless card Intel Wi-Fi 6 AX200 4G Modem AMIT MDG200-0T001 Display Display 1: HDMI 1920x1080p Display 2: DP 1920x1080p Ethernet controller 6x intel i225 (on-board) Internal devices Audio subsystem TPM Protectli TPM Network Local network wired connection Remote Testing Environment RTE v1.1.0 Power Control RTE v1.1.0 Power supply Channel Well Technology 12V, 5.0A 60W"},{"location":"variants/protectli_vp46xx/hardware-matrix/#protectli-vp4650","title":"Protectli VP4650","text":"Component Description CPU Intel Core i5-10210U RAM Slot 1: Kingston KVR24S17S8/8 Slot 2: Kingston KVR26S19S8/16 Flash memory Macronix KH25L12835F SSD Samsung 980 PRO NVMe 250 GB MMC drive SAMSUNG KLM8G1GETF-B041 (on-board) USB Keyboard DELL KB216 USB Mouse DELL MS116p Wireless card JJPLUS JWW6051 4G Modem AMIT MDG200-0T001 Display Display 1: HDMI 1920x1080p Display 2: DP 1920x1080p Ethernet controller 6x intel i225 (on-board) Internal devices Audio subsystem TPM Protectli TPM Network Local network wired connection Remote Testing Environment RTE v1.1.0 Power Control RTE v1.1.0 Power supply Channel Well Technology 12V, 7.5A 90W"},{"location":"variants/protectli_vp46xx/hardware-matrix/#protectli-vp4670-ver1","title":"Protectli VP4670 ver1","text":"Component Description CPU Intel Core i7-10810U RAM Slot 1: CRUCIAL CT16G4SFRA32A Slot 2: CRUCIAL CT16G4SFRA32A Flash memory Macronix KH25L12835F SSD SAMSUNG 870 QVO SATA 2.5\" SSD 1TB MMC drive SAMSUNG KLM8G1GETF-B041 (on-board) USB Keyboard DELL KB216 USB Mouse DELL MS116p Wireless card JJPLUS JWW6051 4G Modem AMIT MDG200-0T001 Display Display 1: HDMI 1920x1080p Display 2: DP 1920x1080p Ethernet controller 6x intel i225 (on-board) Internal devices Audio subsystem TPM Protectli TPM Network Local network wired connection Remote Testing Environment RTE v1.1.0 Power control Sonoff S26 Power supply Channel Well Technology 12V, 7.5A 90W"},{"location":"variants/protectli_vp46xx/hardware-matrix/#protectli-vp4670-ver2","title":"Protectli VP4670 ver2","text":"Component Description CPU Intel Core i7-10810U RAM Slot 1: Samsung 4GB 1Rx8 PC4-2133P-SA0-11 Slot 2: Samsung 4GB 1Rx8 PC4-2133P-SA0-11 Flash memory Macronix KH25L12835F SSD Kingston NV1 250GB SNVS/250G MMC drive SAMSUNG KLM8G1GETF-B041 (on-board) USB Keyboard DELL KB216 USB Mouse DELL MS116p Wireless card JJPLUS JWW6051 4G Modem AMIT MDG200-0T001 Display Display 1: HDMI 1920x1080p Display 2: DP 1920x1080p Ethernet controller 6x intel i225 (on-board) Internal devices Audio subsystem TPM Protectli TPM Network Local network wired connection Remote Testing Environment RTE v1.1.0 Power control Sonoff S26 Power supply Channel Well Technology 12V, 7.5A 90W"},{"location":"variants/protectli_vp46xx/initial-deployment/","title":"Initial deployment","text":"<p>Initial flashing of Dasharo firmware can be done from Linux using flashrom with the internal programmer. This document describes the process of building, installing and running flashrom on Ubuntu 22.04.</p>"},{"location":"variants/protectli_vp46xx/initial-deployment/#deploy-using-dasharo-tools-suite","title":"Deploy using Dasharo Tools Suite","text":"<p>For simplicity we recommend using Dasharo Tools Suite to omit all compilation steps and deploy the Dasharo firmware seamlessly. Be sure to disable the BIOS lock in the AMI firmware setup utility:</p> <ol> <li>Go to <code>Chipset</code> tab</li> <li>Enter <code>PCH IO Configuration</code></li> <li>Disable <code>BIOS Lock</code>.</li> <li>Save changes and reset.</li> </ol> <p>Now you are ready to use Dasharo Tools Suite (DTS):</p> <ol> <li>Boot Dasharo Tools Suite.</li> <li>Perform Dasharo installation.</li> </ol> <p>This will flash the full image, including the Intel ME. The operation requires a hard reset of the platform. To perform a hard reset:</p> <ol> <li>Power off the platform. Note, it may not power off completely due to flashed    ME.</li> <li>Disconnect power supply from the board when OS finishes all tasks after    power off (the screen goes dark or black).</li> <li>Disconnect the RTC/CMOS battery OR clear the CMOS using the pin header    located near memory slots. Wait about 10 seconds and unshort the pins.</li> <li>Connect the power supply back.</li> <li>The platform should power on normally now. You can connect the battery back    if it was disconnected.</li> </ol> <p>This concludes Dasharo deployment process using DTS.</p>"},{"location":"variants/protectli_vp46xx/initial-deployment/#build-flashrom","title":"Build flashrom","text":"<p>Please follow generic guide for Dasharo flashrom fork.</p>"},{"location":"variants/protectli_vp46xx/initial-deployment/#reading-flash-contents","title":"Reading flash contents","text":"<p>Always prepare a backup of the current firmware image. To read from the flash and save it to a file (<code>dump.rom</code>), execute the following command:</p> <pre><code>flashrom -p internal -r dump.rom\n</code></pre>"},{"location":"variants/protectli_vp46xx/initial-deployment/#flashing-dasharo","title":"Flashing Dasharo","text":"<p>To flash Dasharo on the platform, execute the following command - replace <code>[path]</code> with the path to the Dasharo image you want to flash, e.g. <code>protectli_vault_cml_v1.0.13.rom</code>.</p> <pre><code>flashrom -p internal -w protectli_vault_cml_v1.0.13.rom\n</code></pre> <p>This will flash the full image, including the Intel ME. The operation requires a hard reset of the platform. To perform a hard reset:</p> <ol> <li>Power off the platform. Note, it may not power off completely due to flashed    ME.</li> <li>Disconnect power supply from the board when OS finishes all tasks after    power off (the screen goes dark or black).</li> <li>Disconnect the RTC/CMOS battery OR clear the CMOS using the pin header    located near memory slots. Wait about half a minute (unshort the pins).</li> <li>Connect the power supply back.</li> <li>The platform should power on normally now. You can connect the battery back    if it was disconnected.</li> </ol>"},{"location":"variants/protectli_vp46xx/overview/","title":"Overview","text":"<p>The Vault is a small form network appliance built for use as a firewall / router, virtualization platform, a daily-driven personal computer, and more. The VP46XX is the second platform of the Vault Pro series with higher performance and newer technology than the original FW6 series.</p> <p></p> <p>The VP46XX features an Intel 10th Generation CPU, 2x DDR4 DIMM modules, 6x Intel i225-V 2.5G Ethernet ports, PCIe x4/SATA NVMe storage, LPC TPM, M.2 WIFI and WWAN slots.</p> <ul> <li>VP4630 - Intel Core i3-10110U</li> <li>VP4650 - Intel Core i5-10210U</li> <li>VP4670 - Intel Core i7-10810U</li> </ul> <p>For more information please refer to the references below.</p>"},{"location":"variants/protectli_vp46xx/overview/#references","title":"References","text":"<ul> <li>Buy VP4630 in Protectli shop</li> </ul>"},{"location":"variants/protectli_vp46xx/overview/#documentation-sections","title":"Documentation sections","text":"<ul> <li>Releases - groups information about all releases.</li> <li>Building manual - describes how to build Dasharo for     NovaCustom NV4x.</li> <li>Initial deployment - describes initial Dasharo     deployment methods (i. e. flashing new firmware) for Protectli VP46xx.</li> <li>Firmware update - explains supported Dasharo     open-source firmware update methods.</li> <li>Recovery - gathers information on how to recover the platform     from potential failure.</li> <li>Hardware configuration matrix - describes the     platform's hardware configuration used during the Dasharo firmware     validation procedure.</li> <li>Test matrix - describes validation scope used during     Dasharo firmware validation procedure.</li> </ul>"},{"location":"variants/protectli_vp46xx/recovery/","title":"Recovery","text":""},{"location":"variants/protectli_vp46xx/recovery/#intro","title":"Intro","text":"<p>The following documentation describes the process of recovering hardware from the brick state with RTE and Dasharo open-source firmware.</p>"},{"location":"variants/protectli_vp46xx/recovery/#prerequisites","title":"Prerequisites","text":"<ul> <li>Prepared RTE</li> <li>SOIC-8 Pomona clip</li> <li>6x female-female wire cables</li> </ul>"},{"location":"variants/protectli_vp46xx/recovery/#connections","title":"Connections","text":"<p>To prepare the stand for flashing follow the steps described below:</p> <ol> <li> <p>Connect the wire cables to the Pomona clip.</p> <p> </p> </li> <li> <p>Connect the Pomona clip to the SPI header    on RTE.</p> SPI header Pomona clip Vcc pin 5 (Vcc) GND pin 4 (GND) CS pin 1 (CS) SCLK pin 7 (CLK) MISO pin 2 (MISO) MOSI pin 8 (MOSI) <p></p> </li> <li> <p>Open the platform cover.</p> <p></p> </li> <li> <p>Match pin 1(CS) on the Pomona clip with the first pin of the flash chip,    marked with a small dot engraved on the chip.</p> <p> </p> </li> </ol>"},{"location":"variants/protectli_vp46xx/recovery/#firmware-flashing","title":"Firmware flashing","text":"<p>To flash firmware follow the steps described below:</p> <ol> <li>Login to RTE via <code>ssh</code> or <code>minicom</code>.</li> <li>Turn on the platform by connecting the power supply.</li> <li>Wait at least 5 seconds.</li> <li>Turn off the platform by using the power button.</li> <li>Wait at least 3 seconds.</li> <li> <p>Set the proper state of the SPI by using the following commands on RTE:</p> <pre><code># set SPI Vcc to 3.3V\necho 1 &gt; /sys/class/gpio/gpio405/value\n# SPI Vcc on\necho 1 &gt; /sys/class/gpio/gpio406/value\n# SPI lines ON\necho 1 &gt; /sys/class/gpio/gpio404/value\n</code></pre> </li> <li> <p>Wait at least 2 seconds.</p> </li> <li>Disconnect the power supply from the platform.</li> <li>Wait at least 2 seconds.</li> <li> <p>Flash the platform by using the following command:</p> <pre><code>flashrom -p linux_spi:dev=/dev/spidev1.0,spispeed=16000 -c \"MX25L12835F/MX25L12845E/MX25L12865E\" -w [path_to_binary]\n</code></pre> <p>Flashing with flashrom takes about 1 minute.</p> </li> <li> <p>Change back the state of the SPI by using the following commands:</p> <pre><code>echo 0 &gt; /sys/class/gpio/gpio404/value\necho 0 &gt; /sys/class/gpio/gpio406/value\n</code></pre> </li> <li> <p>Reset CMOS, this can be done by two methods:</p> <ol> <li>Disconnect the CMOS battery, wait at least 10 seconds and connect again.</li> <li> <p>Short the two pins from the CMOS header for at least 10 seconds.</p> <p></p> </li> </ol> </li> <li> <p>Turn on the platform by connecting the power supply.</p> </li> </ol> <p>The first boot of the platform after proceeding with the above procedure can take much longer than standard.</p>"},{"location":"variants/protectli_vp46xx/releases/","title":"Release Notes","text":"<p>Following Release Notes describe status of Open Source Firmware development for Protectli VP46xx</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> Subscribe to Protectli VP46xx Dasharo Release Newsletter </p> <p>Test results for this platform can be found here.</p>"},{"location":"variants/protectli_vp46xx/releases/#v110-2023-06-05","title":"v1.1.0 - 2023-06-05","text":"<p>Release version v1.1.0 is currently only available for the VP4670 platform.</p>"},{"location":"variants/protectli_vp46xx/releases/#added","title":"Added","text":"<ul> <li>USB stack and mass storage enable/disable option</li> <li>SMM BIOS write protection enable/disable option</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#changed","title":"Changed","text":"<ul> <li>Reverted to use FSP GOP for graphics initialization as it caused problems with   Windows 11 display on VP4670</li> <li>Switched to use driver for IT8784E Super I/O, which is present on the boards</li> <li>CPU power limits increased from baseline to performance</li> <li>Updating from v1.0.x requires flashing the WP_RO recovery partition</li> <li>Firmware version v1.1.x are signed with a new key</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#fixed","title":"Fixed","text":"<ul> <li>Booting problems with Ubuntu 22.04</li> <li>Low CPU frequency values</li> <li>Disabled C states deeper than C1 on VP4670 to fix Proxmox booting issue</li> <li>Protectli VP4670 - windows crashes after installing updates</li> <li>The inconvenience of using external headsets VP46XX</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#known-issues","title":"Known issues","text":"<ul> <li>Popup with information about recovery mode is still displayed after flashing with a valid binary</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#binaries","title":"Binaries","text":"<p>protectli_vp4670_v1.1.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/protectli_vp46xx/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on c6ee1509da revision dcc5f2e2</li> <li>edk2 based on 7f90b9cd revision 19bf14b4</li> <li>iPXE based on 6ba671ac revision 6ba671ac</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#v1019-2022-12-08","title":"v1.0.19 - 2022-12-08","text":""},{"location":"variants/protectli_vp46xx/releases/#changed_1","title":"Changed","text":"<ul> <li>ME is now disabled by default (ME soft-disable)</li> <li>vboot is now run as separate verstage (previously was run inside bootblock)</li> <li>increased pre-RAM console buffer to fit more early cbmem logs</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#binaries_1","title":"Binaries","text":"<p>protectli_vp4630_vp4650_v1.0.19.rom sha256 sha256.sig</p> <p>protectli_vp4670_v1.0.19.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/protectli_vp46xx/releases/#sbom-software-bill-of-materials_1","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on c6ee1509da revision 9034fb12</li> <li>edk2 based on 7f90b9cd revision e31b7a71</li> <li>iPXE for EFI revision 988d2</li> <li>VP4670: Cometlake1 FSP 9.0.7B.20</li> <li>VP4630 and VP4650: Cometlake2 FSP 9.2.7B.20</li> <li>Intel i225 EFI driver version 0.10.4,   SHA256: 2d234ecf629fc10dc0c291a1390de3d27a05c6ecbd935628b6ff154f386d061e</li> <li>Management Engine: Custom image based on ME 14.0.47.1558,   SHA256: 7fa37e108176c9a2d0df60c93b10b3ad9c7725f1f82b87197a2991208c4cffec</li> <li>microcode:<ul> <li>CPU signature: 0x0806EC, Date: 17.11.2021, Revision: 0xF0</li> <li>CPU signature: 0x0A0660, Date: 15.11.2021, Revision: 0xF0</li> <li>CPU signature: 0x0A0661, Date: 16.11.2021, Revision: 0xF0</li> </ul> </li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#v1018-2022-11-16","title":"v1.0.18 - 2022-11-16","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/protectli_vp46xx/releases/#added_1","title":"Added","text":"<ul> <li>Support for VP4650 and VP4670 platforms</li> <li>Platform will beep 12 times and blink HDD led on critical firmware errors</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#changed_2","title":"Changed","text":"<ul> <li>Disabled Intel PTT (fTPM)</li> <li>Removed workaround for graphics power management as the issue no longer reproduces on newer revision of the hardware</li> <li>Binaries are built with coreboot-sdk 2021-09-23_b0d87f753c (was 0ad5fbd48d)</li> <li>Open-source graphics initialization with libgfxinit instead of proprietary and   closed FSP GOP driver</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#binaries_2","title":"Binaries","text":"<p>protectli_vp4630_vp4650_v1.0.18.rom sha256 sha256.sig</p> <p>protectli_vp4670_v1.0.18.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/protectli_vp46xx/releases/#sbom-software-bill-of-materials_2","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on c6ee1509da revision ed9f6fe0</li> <li>edk2 based on 7f90b9cd revision e31b7a71</li> <li>iPXE for EFI revision 988d2</li> <li>VP4670: Cometlake1 FSP 9.0.7B.20</li> <li>VP4630 and VP4650: Cometlake2 FSP 9.2.7B.20</li> <li>Intel i225 EFI driver version 0.10.4,   SHA256: 2d234ecf629fc10dc0c291a1390de3d27a05c6ecbd935628b6ff154f386d061e</li> <li>Management Engine: Custom image based on ME 14.0.47.1558,   SHA256: 7fa37e108176c9a2d0df60c93b10b3ad9c7725f1f82b87197a2991208c4cffec</li> <li>microcode:<ul> <li>CPU signature: 0x0806EC, Date: 17.11.2021, Revision: 0xF0</li> <li>CPU signature: 0x0A0660, Date: 15.11.2021, Revision: 0xF0</li> <li>CPU signature: 0x0A0661, Date: 16.11.2021, Revision: 0xF0</li> </ul> </li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#v1017-2022-08-17","title":"v1.0.17 - 2022-08-17","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/protectli_vp46xx/releases/#added_2","title":"Added","text":"<ul> <li>Tools for resigning Vboot images with one RW partition</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#changed_3","title":"Changed","text":"<ul> <li>Set thermal throttling temperature to 80 degrees</li> <li>Disabled UEFI Secure Boot by default</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#fixed_1","title":"Fixed","text":"<ul> <li>Platform rebooting every 56 minutes</li> <li>Incorrect menu labels displayed in network boot menu</li> <li>Built-in audio jack does not work</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#binaries_3","title":"Binaries","text":"<p>protectli_vault_cml_v1.0.17.rom_file protectli_vault_cml_v1.0.17.rom_hash protectli_vault_cml_v1.0.17.rom_sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/protectli_vp46xx/releases/#sbom-software-bill-of-materials_3","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 4.16 revision d662831d</li> <li>edk2 based on 7f90b9cd revision 576aa6a4</li> <li>iPXE for EFI revision 988d2</li> <li>Cometlake2 FSP 9.2.7B.20</li> <li>Intel i225 EFI driver version 0.10.4,   SHA256: 2d234ecf629fc10dc0c291a1390de3d27a05c6ecbd935628b6ff154f386d061e</li> <li>Management Engine: Custom image based on ME 14.0.47.1558,   SHA256: 7fa37e108176c9a2d0df60c93b10b3ad9c7725f1f82b87197a2991208c4cffec</li> <li>microcode:<ul> <li>CPU signature: 0x0806EC, Date: 28.04.2021, Revision: 0xEC</li> <li>CPU signature: 0x0A0660, Date: 28.04.2021, Revision: 0xEA</li> <li>CPU signature: 0x0A0661, Date: 29.04.2021, Revision: 0xEC</li> </ul> </li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#v1016-2022-07-13","title":"v1.0.16 - 2022-07-13","text":"<p>Test results for this release can be found here.</p>"},{"location":"variants/protectli_vp46xx/releases/#added_3","title":"Added","text":"<ul> <li>Vboot Verified Boot</li> <li>TPM Measured Boot</li> <li>Vboot recovery notification in UEFI Payload</li> <li>UEFI Shell</li> <li>UEFI Secure Boot</li> <li>Intel ME soft disable</li> <li>BIOS flash protection for Vboot recovery region</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#changed_4","title":"Changed","text":"<ul> <li>Changed supported CPUs to Comet Lake stepping 2</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#fixed_2","title":"Fixed","text":"<ul> <li>i225 network controller initialization takes too much time</li> <li>CVE-2022-29264</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#binaries_4","title":"Binaries","text":"<p>protectli_vault_cml_v1.0.16.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/protectli_vp46xx/releases/#sbom-software-bill-of-materials_4","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 4.16 revision dfaaf44d</li> <li>edk2 based on 7f90b9cd revision 5345a611</li> <li>iPXE for EFI revision 988d2</li> <li>Cometlake2 FSP 9.2.7B.20</li> <li>Intel i225 EFI driver version 0.10.4,   SHA256: 2d234ecf629fc10dc0c291a1390de3d27a05c6ecbd935628b6ff154f386d061e</li> <li>Management Engine: Custom image based on ME 14.0.47.1558,   SHA256: 7fa37e108176c9a2d0df60c93b10b3ad9c7725f1f82b87197a2991208c4cffec</li> <li>microcode:<ul> <li>CPU signature: 0x0806EC, Date: 28.04.2021, Revision: 0xEC</li> <li>CPU signature: 0x0A0660, Date: 28.04.2021, Revision: 0xEA</li> <li>CPU signature: 0x0A0661, Date: 29.04.2021, Revision: 0xEC</li> </ul> </li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#v1013-2022-03-22","title":"v1.0.13 - 2022-03-22","text":""},{"location":"variants/protectli_vp46xx/releases/#added_4","title":"Added","text":"<ul> <li>UEFI boot support</li> <li>i225 network controller network boot support</li> <li>Customized boot menu keys</li> <li>Customized setup menu keys</li> <li>Configurable boot order</li> <li>Configurable boot options</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#changed_5","title":"Changed","text":"<ul> <li>ME version to 14.0.47.1558</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#known-issues_1","title":"Known issues","text":"<ul> <li>i225 network controller initialization takes too much time</li> </ul>"},{"location":"variants/protectli_vp46xx/releases/#binaries_5","title":"Binaries","text":"<p>protectli_vault_cml_v1.0.13.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/protectli_vp46xx/releases/#sbom-software-bill-of-materials_5","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 4.16 revision 546e1c86</li> <li>edk2 based on 7f90b9cd revision 7f90b9cd</li> <li>iPXE for EFI revision 988d2</li> <li>Cometlake1 FSP 9.0.7B.20</li> <li>Intel i225 EFI driver version 0.9.03,   SHA256: 63e77b237dc9a8aacdd7465675ee88afc01dad3204156a91a0976a4ad1ed5b00</li> <li>Management Engine: Custom image based on ME 14.0.47.1558,   SHA256: 7fa37e108176c9a2d0df60c93b10b3ad9c7725f1f82b87197a2991208c4cffec</li> <li>microcode:<ul> <li>CPU signature: 0x0806EC, Date: 28.04.2021, Revision: 0xEC</li> <li>CPU signature: 0x0A0660, Date: 28.04.2021, Revision: 0xEA</li> </ul> </li> </ul>"},{"location":"variants/protectli_vp46xx/test-matrix/","title":"Test matrix","text":""},{"location":"variants/protectli_vp46xx/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary. The test scope is the same for all platforms of the VP46XX family.</p>"},{"location":"variants/protectli_vp46xx/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. UEFI compatible interface EFI All 3. Display ports DSP DSP002.001, DSP002.002, DSP002.003, DSP003.001, DSP003.002, DSP003.003 4. Network boot utilities NBT All 5. NVMe support NVM All 6. Custom logo CLG All 7. Custom boot menu key CBK All 8. USB HID and MSC Support USB USB001.XXX and USB002.XXX 9. FreeBSD support BSD All 10. Debian Stable and Ubuntu LTS support LBT LBT003.001, LBT003.002, LBT004.001, LBT004.002 11. USB-C support UTC UTC004.001, UTC004.002 12. M.2 WiFi/Bluetooth WLE ALL 13. eMMC support MMC MMC001.001 14. SMBIOS DMI DMI002.001, DMI003.001, DMI004.001, DMI005.001, DMI006.001 15. Custom network boot entries CNB CNB001.002 16. M.2 automatic SATA/NVMe switching support MSS MSS001.001 17. Windows booting WBT WBT001.001 18. Audio subsystem AUD AUD001.001, AUD001.002, AUD002.001, AUD002.002, AUD003.001, AUD003.002, AUD004.001, AUD004.002, AUD005.001, AUD005.002, AUD006.001, AUD006.002 19. UEFI Shell USH All 20. USB detection UDT All 21. USB booting UBT All 22. pfSense support PFS All 23. OPNsense support OPN All 24. Proxmox support PVE All 25. Ubuntu Server support USS All"},{"location":"variants/protectli_vp46xx/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM Without TPM001.001,TPM002.001 and TPM003.001 2. Verified Boot support VBO Without VBO006.001 and VBO007.001 3. Measured Boot support MBO All 4. Secure Boot support SBO All 5. ME disable/neuter support MNE MNE004.001 6. BIOS lock support BLS All 7. USB stack enable/disable USS All 8. SMM BIOS write protection SMM All <p>Note: in Dasharo compatible with Protectli VP46xx ME is soft-disabled by default - no additional option for ME disabling is available in the Setup Menu.</p>"},{"location":"variants/protectli_vp46xx/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot bring up time measurement CBMEM All 2. CPU temperature measure CPT All 3. CPU frequency measure CPF Without CPU003.XXX and CPU005.XXX 4. Platform stability STB All 5. Ubuntu booting performance test BUB All 6. Debian booting performance test BDE All 7. FreeBSD booting performance test BFB All 8. Proxmox booting performance test BPM All 9. Ubuntu Server booting performance test BUS All 10. OPNsense (serial output) booting performance test BOS All 11. OPNsense (VGA output) booting performance test BOV All 12. pfSense (serial output) booting performance test BPS All 13. pfSense (VGA output) booting performance test BPV All"},{"location":"variants/qemu_q35/building-manual/","title":"Dasharo (UEFI) v0.1.0 for QEMU Q35 - Building Manual","text":"<p>Follow below steps to create the \"Dasharo (UEFI) OVMF image for QEMU Q35\" from EDK2:</p>"},{"location":"variants/qemu_q35/building-manual/#requirements","title":"Requirements","text":"<ul> <li>Docker<ul> <li>follow Install Docker Engine on Ubuntu</li> <li>follow Post-installation steps for Linux</li> </ul> </li> </ul>"},{"location":"variants/qemu_q35/building-manual/#procedure","title":"Procedure","text":"<p>Easiest way to build OVMF for QEMU Q35 is to use coreboot Docker image. As some dependencies maybe missing in given local instance.</p> <p>Obtain the docker image:</p> <pre><code>docker pull coreboot/coreboot-sdk:2021-09-23_b0d87f753c\n</code></pre> <p>Clone official Dasharo EDK2 repository to your docker instance, with git or downloading the source code from github.</p> <pre><code>git clone https://github.com/Dasharo/edk2.git\n</code></pre> <p>Start the instance of the docker image under the Dasharo/edk2 repository:</p> <pre><code>sudo docker run --rm -it -v $PWD:/home/coreboot/coreboot \\\n-w /home/coreboot/coreboot coreboot/coreboot-sdk:2021-09-23_b0d87f753c \\\n/bin/bash\n</code></pre> <p>Follow below instructions, to prepare your environment for building OVMF image.</p> <ul> <li>Setup the environment variables with the following command</li> </ul> <pre><code>make -C BaseTools\nsource edksetup.sh\n</code></pre> <ul> <li>Update the submodules in order get latest dependencies.</li> </ul> <pre><code>git submodule update --init --checkout\n</code></pre> <ul> <li>Clone the edk2-platforms repository for additional packages</li> </ul> <pre><code>git clone https://github.com/Dasharo/edk2-platforms.git &amp;&amp; \\\ncd edk2-platforms &amp;&amp; \\\ngit checkout 3323ed481d35096fb6a7eae7b49f35eff00f86cf &amp;&amp; \\\ncd -\n</code></pre> <ul> <li>Update the PACKAGES_PATH variable</li> </ul> <pre><code>export EDK2_PLATFORMS_PATH=\"$WORKSPACE/edk2-platforms\"\nexport PACKAGES_PATH=\"$WORKSPACE:\\\n$EDK2_PLATFORMS_PATH/Platform/Intel:\\\n$EDK2_PLATFORMS_PATH/Silicon/Intel:\\\n$EDK2_PLATFORMS_PATH/Features/Intel:\\\n$EDK2_PLATFORMS_PATH/Features/Intel/Debugging:\\\n$EDK2_PLATFORMS_PATH/Features/Intel/Network:\\\n$EDK2_PLATFORMS_PATH/Features/Intel/OutOfBandManagement:\\\n$EDK2_PLATFORMS_PATH/Features/Intel/PowerManagement:\\\n$EDK2_PLATFORMS_PATH/Features/Intel/SystemInformation:\\\n$EDK2_PLATFORMS_PATH/Features/Intel/UserInterface\"\n</code></pre>"},{"location":"variants/qemu_q35/building-manual/#building-the-firmware-image","title":"Building the firmware image","text":"<p>To build the image simply invoke the following command</p> <pre><code>build -a IA32 -a X64 -t GCC5 -b RELEASE -p OvmfPkg/OvmfPkgX64.dsc\n</code></pre> <p>You can also enable additional options, for example CSM with by adding <code>-D CSM_ENABLE</code>:</p> <pre><code>build -a IA32 -a X64 -t GCC5 -b RELEASE -p OvmfPkg/OvmfPkgX64.dsc -D CSM_ENABLE\n</code></pre> <p>Once the build is completed, the OVMF firmware image can be found below given path:</p> <pre><code>edk2/Build/Ovmfx64/RELEASE_GCC5/FV/OVMF_CODE.fd\nedk2/Build/Ovmfx64/RELEASE_GCC5/FV/OVMF_VARS.fd\n</code></pre> <p>For debug build use:</p> <pre><code>build -a IA32 -a X64 -t GCC5 -b DEBUG -p OvmfPkg/OvmfPkgX64.dsc\n</code></pre> <p>Then the resulting files will be placed in:</p> <pre><code>edk2/Build/Ovmfx64/DEBUG_GCC5/FV/OVMF_CODE.fd\nedk2/Build/Ovmfx64/DEBUG_GCC5/FV/OVMF_VARS.fd\n</code></pre>"},{"location":"variants/qemu_q35/development/","title":"Dasharo (UEFI) v0.1.0 for QEMU Q35","text":""},{"location":"variants/qemu_q35/development/#intro","title":"Intro","text":"<ol> <li> <p>Please check your qemu setup and launch qemu outside docker instance (host    machine) using built OVMF firmware image.</p> <ul> <li>Install QEMU on your linux distro</li> <li>Run the OVMF in QEMU:</li> </ul> <pre><code>qemu-system-x86_64 -machine q35,smm=on \\\n-global driver=cfi.pflash01,property=secure,value=on \\\n-drive if=pflash,format=raw,unit=0,file=Build/OvmfX64/DEBUG_GCC5/FV/OVMF_CODE.fd,readonly=on \\\n-drive if=pflash,format=raw,unit=1,file=Build/OvmfX64/DEBUG_GCC5/FV/OVMF_VARS.fd \\\n-debugcon file:debug.log -global isa-debugcon.iobase=0x402 \\\n-global ICH9-LPC.disable_s3=1\n</code></pre> <ul> <li><code>-drive</code> indicate device is pflash with firmware image of built     <code>OVMF*.fd</code> image.</li> <li><code>-debugcon file:debug.log -global isa-debugcon.iobase=0x402</code> default     OVMF build writes debug messages to IO port 0x402. The following     qemu command line options save them in the file called debug.log.</li> <li><code>-global ICH9-LPC.disable_s3=1</code> SMM is put to use in the S3 suspend     and resume infrastructure, and in the UEFI variable driver stack.     Similarly, a pflash-backed variable store is a requirement.</li> <li><code>-machine q35,smm=on</code> For SMM to work, only Q35 machines are supported     hence the machine type.</li> </ul> </li> <li> <p>After executing the above qemu command, qemu boots into UEFI built-in shell    and to BIOS selection area.</p> </li> <li>The features which are enabled in <code>OvmfPkgX64.dsc</code> can be verified at    <code>Setup menu</code>. At <code>Device Manager section</code> Dasharo features can be verified    in <code>Dasharo System Features</code> section.</li> </ol>"},{"location":"variants/qemu_q35/development/#useful-tips-for-modifying-the-dsc-fdf","title":"Useful Tips for modifying the DSC &amp; FDF","text":""},{"location":"variants/qemu_q35/development/#follow-the-steps-below-to-rebuild-firmware-image-experiment-with-the-features","title":"Follow the steps below to rebuild firmware image &amp; experiment with the features","text":"<p>If any code is added to C file or any library functions are invoked in other files, rebuild the OVMF image with the following command.</p> <pre><code>build -a IA32 -a X64 -t GCC5 -b DEBUG -p OvmfPkg/OvmfPkgX64.dsc\n</code></pre> <p>By making some changes in the <code>OvmfPkgX64.dsc</code> file, one can add features like OPAL, SATA security support for QEMU Q35 machine and also for specific platforms. An example of where the changes can be made in the <code>OvmfPkgX64.dsc</code> file is given below.</p> <p>The following changes describe defining in the Defines Section of <code>OvmfPkgX64.dsc</code></p> <pre><code># Defines for default states.  These can be changed on the command line.\n# -D FLAG=VALUE\n#\n(...)\nDEFINE SATA_PASSWORD_ENABLE    = TRUE\nDEFINE OPAL_PASSWORD_ENABLE    = TRUE\n</code></pre> <p>Include the appropriate libraries in the Libraries Section of <code>OvmfPkgX64.dsc</code>.</p> <pre><code>!if $(OPAL_PASSWORD_ENABLE) == TRUE\nTcgStorageCoreLib|SecurityPkg/Library/TcgStorageCoreLib/TcgStorageCoreLib.inf\nTcgStorageOpalLib|SecurityPkg/Library/TcgStorageOpalLib/TcgStorageOpalLib.inf\n!endif\n</code></pre> <p>According to the feature, proper PCD's must be defined in <code>OvmfPkgX64.dsc</code> file.</p> <p>Adding components in Components Section of <code>OvmfPkgX64.dsc</code> file:</p> <pre><code>!if $(SATA_PASSWORD_ENABLE) == TRUE\nSecurityPkg/HddPassword/HddPasswordPei.inf\n!endif\n</code></pre>"},{"location":"variants/qemu_q35/development/#dasharo-system-features","title":"Dasharo System Features","text":"<p>The <code>.fdf</code> describes the source files' location and variables used during the build process.</p> <p>Below code snippet shows the location of SATA disk password INF file.</p> <pre><code>!if $(SATA_PASSWORD_ENABLE) == TRUE\nINF SecurityPkg/HddPassword/HddPasswordDxe.inf\n!endif\n</code></pre> <p>Include all necessary source file locations to point at source libraries in FDF file.</p> <p>Below is the screenshot of the SATA_PASSWORD support in <code>Device Manager</code>.</p> <p></p> <p>By default the <code>Dasharo System Features</code> are enabled in the DasharoSystemFeatures.dec. It describes the configuration of the platform. The flags can be toggled inside platform DSC file  in order to enable <code>Dasharo System Features</code>.</p> <pre><code>[PcdsFixedAtBuild]\ngDasharoSystemFeaturesTokenSpaceGuid.PcdShowMenu|TRUE\n  gDasharoSystemFeaturesTokenSpaceGuid.PcdShowSecurityMenu|TRUE\n  gDasharoSystemFeaturesTokenSpaceGuid.PcdShowIntelMeMenu|TRUE\n  gDasharoSystemFeaturesTokenSpaceGuid.PcdShowUsbMenu|TRUE\n  gDasharoSystemFeaturesTokenSpaceGuid.PcdShowNetworkMenu|TRUE\n  gDasharoSystemFeaturesTokenSpaceGuid.PcdShowChipsetMenu|TRUE\n  gDasharoSystemFeaturesTokenSpaceGuid.PcdDefaultNetworkBootEnable|FALSE\n</code></pre> <p>In the above PCD definitions, please check column after PCD definition to find TRUE/FALSE. By toggling these flags, one can enable or disable the Dasharo System Features. The below image shows the Dasharo System Features enabled for the QEMU Q35 machine.</p> <p></p>"},{"location":"variants/qemu_q35/firmware-update/","title":"Firmware Update","text":"<p>The update process of Dasharo OVMF firmware on QEMU Q35 does not need any special actions. QEMU Q35 is an emulated platform, not real hardware.</p> <p>Updating the Dasharo OVMF firmware is as simple as invoking a QEMU command with a newer <code>OVMF*.fd</code> files:</p> <pre><code>qemu-system-x86_64 -machine q35,smm=on \\\n-global driver=cfi.pflash01,property=secure,value=on \\\n-drive if=pflash,format=raw,unit=0,file=Build/OvmfX64/RELEASE_GCC5/FV/OVMF_CODE.fd,readonly=on \\\n-drive if=pflash,format=raw,unit=1,file=Build/OvmfX64/RELEASE_GCC5/FV/OVMF_VARS.fd \\\n-debugcon file:debug.log -global isa-debugcon.iobase=0x402 \\\n-global ICH9-LPC.disable_s3=1\n</code></pre>"},{"location":"variants/qemu_q35/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/qemu_q35/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the devices emulated by the QEMU Q35.</p>"},{"location":"variants/qemu_q35/hardware-matrix/#qemu-q35","title":"QEMU Q35","text":"Component Description CPU QEMU emulated with Q35 emulated chipset RAM Slot 1: QEMU DIMM CDROM QEMU DVD-ROM USB Keyboard AT Translated Set 2 Keyboard USB Mouse Virtual/PS 2 VMware Mouse Display Display 1: Emulated 1024px768p Ethernet controller Emulated Intel 82574L Gigabit Ethernet Internal devices QEMU emulated Audio subsystem Network Local Network Connection from host Power Control None Power supply Power Button Emulated"},{"location":"variants/qemu_q35/initial-deployment/","title":"Initial Deployment","text":"<p>Initial deployment of Dasharo OVMF firmware on QEMU Q35 does not need any special actions. QEMU Q35 is an emulated platform, not real hardware.</p> <p>Running the Dasharo OVMF is as simple as invoking a QEMU command:</p> <pre><code>qemu-system-x86_64 -machine q35,smm=on \\\n-global driver=cfi.pflash01,property=secure,value=on \\\n-drive if=pflash,format=raw,unit=0,file=Build/OvmfX64/RELEASE_GCC5/FV/OVMF_CODE.fd,readonly=on \\\n-drive if=pflash,format=raw,unit=1,file=Build/OvmfX64/RELEASE_GCC5/FV/OVMF_VARS.fd \\\n-debugcon file:debug.log -global isa-debugcon.iobase=0x402 \\\n-global ICH9-LPC.disable_s3=1\n</code></pre>"},{"location":"variants/qemu_q35/overview/","title":"Overview","text":"<ul> <li>Releases - Groups information about all releases.</li> <li>Building manual - describes how to build Dasharo   (UEFI) for the QEMU Emulator Q35 Machine type.</li> <li>Test matrix - describes the validation scope used during   the Dasharo firmware validation procedure.</li> <li>Development - describes information for running Dasharo   OVMF in QEMU Q35 machine and for Dasharo Developers.</li> <li>Initial deployment - QEMU is an emulation   environment and not real hardware thus firmware deployment is not   applicable.</li> <li>Firmware update - QEMU is an emulation environment and   not real hardware thus firmware update is not applicable.</li> <li>Recovery - QEMU is an emulation environment and not a real   hardware thus firmware recovery is not applicable.</li> <li>Hardware configuration matrix - describes about the   devices emulated by QEMU.</li> </ul>"},{"location":"variants/qemu_q35/overview/#useful-documents","title":"Useful documents","text":"<ul> <li>EDK2 OVMF Package Documentation</li> <li>Dasharo EDK2 repo for the reference</li> </ul>"},{"location":"variants/qemu_q35/recovery/","title":"Recovery","text":"<p>The recovery process of Dasharo OVMF firmware on QEMU Q35 does not need any special actions. QEMU Q35 is an emulated platform, not real hardware, so it doesn't brick itself.</p> <p>If something goes wrong simply rerun the QEMU command:</p> <pre><code>qemu-system-x86_64 -machine q35,smm=on \\\n-global driver=cfi.pflash01,property=secure,value=on \\\n-drive if=pflash,format=raw,unit=0,file=Build/OvmfX64/RELEASE_GCC5/FV/OVMF_CODE.fd,readonly=on \\\n-drive if=pflash,format=raw,unit=1,file=Build/OvmfX64/RELEASE_GCC5/FV/OVMF_VARS.fd \\\n-debugcon file:debug.log -global isa-debugcon.iobase=0x402 \\\n-global ICH9-LPC.disable_s3=1\n</code></pre> <p>Or build a debug image, gather the logs in <code>debug.log</code> file</p> <pre><code>qemu-system-x86_64 -machine q35,smm=on \\\n-global driver=cfi.pflash01,property=secure,value=on \\\n-drive if=pflash,format=raw,unit=0,file=Build/OvmfX64/DEBUG_GCC5/FV/OVMF_CODE.fd,readonly=on \\\n-drive if=pflash,format=raw,unit=1,file=Build/OvmfX64/DEBUG_GCC5/FV/OVMF_VARS.fd \\\n-debugcon file:debug.log -global isa-debugcon.iobase=0x402 \\\n-global ICH9-LPC.disable_s3=1\n</code></pre> <p>and report an issue with attached log.</p>"},{"location":"variants/qemu_q35/releases/","title":"Release Notes","text":"<p>Following Release Notes describe status of Open Source Firmware development for QEMU Q35 (Emulator).</p>"},{"location":"variants/qemu_q35/releases/#v010-2023-01-20","title":"v0.1.0 - 2023-01-20","text":""},{"location":"variants/qemu_q35/releases/#added","title":"Added","text":"<ul> <li>Enabled TPM Support.</li> <li>Secure Boot Support for Q35 machine.</li> <li>Option to reset Secure Boot keys to defaults.</li> <li>Dasharo System Features.</li> <li>Dasharo setup password.</li> <li>OPAL disk password support.</li> <li>SATA disk password support.</li> <li>SMM Feature enabled.</li> </ul>"},{"location":"variants/qemu_q35/test-matrix/","title":"Test matrix","text":""},{"location":"variants/qemu_q35/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p> <p>Note, that the below-described test scope is used during Dasharo Certification Procedure for tested platform: <code>QEMU Q35 Machine</code></p>"},{"location":"variants/qemu_q35/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. UEFI compatible interface EFI All 2. UEFI Shell USH All 3. Display ports and LCD support DSP DSP001.001 4. Debian Stable and Ubuntu LTS support LBT LBT001.001, LBT001.002, LBT002.001, LBT002.002, LBT003.001, LBT003.002, LBT004.001, LBT004.002 5. Network boot PXE All 6. Windows booting WBT All 7. Qubes OS Support QBS QBS001.001, QBS001.002 8. CPU status CPU All 9. UEFI Setup password PSW All"},{"location":"variants/qemu_q35/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM Without TPM001.001, TPM002.001 and TPM003.001 2. Secure Boot support SBO All"},{"location":"variants/supermicro_x11_lga1151_series/building-manual/","title":"Supermicro X11 LGA1151 Series - building manual","text":"<p>Please read the overview page first!</p>"},{"location":"variants/supermicro_x11_lga1151_series/faq/","title":"FAQ","text":"<p>Please read the overview page first!</p>"},{"location":"variants/supermicro_x11_lga1151_series/faq/#how-to-identify-my-mainboard-model","title":"How to identify my mainboard model?","text":"<pre><code>~# dmidecode -t baseboard\n# dmidecode 3.0\nGetting SMBIOS data from sysfs.\nSMBIOS 3.0 present.\n\nHandle 0x0002, DMI type 2, 15 bytes\nBase Board Information\n    Manufacturer: Supermicro\n    Product Name: X11SSH-TF\n    Version: 1.01\n    Serial Number: WM123S123456\n    Asset Tag: To be filled by O.E.M.\n    Features:\n        Board is a hosting board\n        Board is replaceable\n    Location In Chassis: To be filled by O.E.M.\n    Chassis Handle: 0x0003\n    Type: Motherboard\n    Contained Object Handles: 0\n\nHandle 0x0026, DMI type 41, 11 bytes\nOnboard Device\n    Reference Designation: ASPEED Video AST2400\n    Type: Video\n    Status: Enabled\n    Type Instance: 1\nBus Address: 0000:03:00.0\n\nHandle 0x0027, DMI type 41, 11 bytes\nOnboard Device\n    Reference Designation: Intel LAN X550-AT2 #1\nType: Ethernet\n    Status: Enabled\n    Type Instance: 1\nBus Address: 0000:04:00.0\n\nHandle 0x0028, DMI type 41, 11 bytes\nOnboard Device\n    Reference Designation: Intel LAN X550-AT2 #2\nType: Ethernet\n    Status: Enabled\n    Type Instance: 2\nBus Address: 0000:04:00.1\n\nHandle 0x0029, DMI type 41, 11 bytes\nOnboard Device\n    Reference Designation: Avago SAS 3008\nType: SAS Controller\n    Status: Disabled\n    Type Instance: 1\nBus Address: 0000:ff:00.0\n</code></pre>"},{"location":"variants/supermicro_x11_lga1151_series/firmware-update/","title":"Firmware update","text":"<p>Please read the overview page first!</p> <p>Following documentation describe process of Dasharo open-source firmware distribution update.</p>"},{"location":"variants/supermicro_x11_lga1151_series/hardware-matrix/","title":"Hardware configuration matrix","text":"<p>Please read the overview page first!</p> <p>The tables below contain information about current components of the testing environment for Supermicro X11 LGA1151 Series available in 3mdeb testing laboratory and in hands of community members.</p>"},{"location":"variants/supermicro_x11_lga1151_series/hardware-matrix/#supermicro-x11ssh-tf-pietrushnic","title":"Supermicro X11SSH-TF (pietrushnic)","text":"Component Description CPU Intel Core iTBD CPU Cooler GPU N/A RAM TBD HDD TBD SSD TBD Flash memory TBD Network Local network wired connection Attached devices 1. TBD USB stick Power Supply TBD Power Control 1. Sonoff TBD Remote Testing Environment 1. RTE TBD"},{"location":"variants/supermicro_x11_lga1151_series/initial-deployment/","title":"Initial deployment","text":"<p>We strongly recommend following these official instructions. The official guide has a lot of collaborative effort put into covering all of the edge cases and is regularly tested. Following these instructions to the letter without skipping, reordering or adding any steps will give you a proper Dasharo installation unless there's a hardware issue.  We strongly recommend against following unofficial guides deviating in any way from the official instructions.</p> <p>If you have trouble with the installation process, ask for help on the official Dasharo chat channel. There are almost always people around willing to help with it. Before asking for help, make an attempt to follow the guide on your own and then ask for help with anything you get stuck on.</p>"},{"location":"variants/supermicro_x11_lga1151_series/initial-deployment/#hardware-preparation","title":"Hardware preparation","text":"<p>Please use Supermicro Quick Reference Guide for you mainboard e.g. X11SSH-TF. Find JPME2 and change its state to position 2-3, which means ME Manufacturing Mode enabled.</p> <p> </p>"},{"location":"variants/supermicro_x11_lga1151_series/initial-deployment/#booting-dts-over-network","title":"Booting DTS over network","text":"<p>For seamless and storageless deployment one can use BMC virtual floppy functionality to mount a floppy image containing iPXE.</p> <p>iPXE will allow to boot DTS over network without much effort. The image file can be downloaded from 3mdeb FTP server. If you wish to build the image, please follow instructions in Building iPXE floppy image section.</p> <p>To boot from the iPXE image, please do the following:</p> <ol> <li>Download or    build the iPXE image on your host machine.</li> <li>Log in to the BMC dashboard.</li> <li> <p>Select the floppy image through Browse button:</p> <p> </p> </li> <li> <p>Upload image to the BMC in the Virtual Media panel, by clicking <code>Upload</code>:</p> <p> </p> </li> <li> <p>Go to <code>Remote Control -&gt; iKVM/HTML5</code> and start <code>iKVM/HTML5</code> remote control    window.</p> </li> <li>Use <code>Power Control -&gt; Set Power On</code></li> <li>Enter Boot Menu with F11.</li> <li>Select <code>UEFI: ATEN Virtual Floppy 3000, Partition 1</code>.</li> <li>Wait for the embedded menu to show up (it may take up to 30 seconds for the    UEFI protocols to execute during iPXE initialization - proprietary UEFI    banzai...).</li> <li>Choose <code>Dasharo Tools Suite</code> from the menu:</li> </ol> <pre><code>------------------------ Dasharo Network Boot Menu ------------------------\nAutoboot (DHCP)\nDasharo Tools Suite\nOS installation (netboot.xyz official server)\niPXE Shell\n</code></pre>"},{"location":"variants/supermicro_x11_lga1151_series/initial-deployment/#vendor-bios-backup","title":"Vendor BIOS backup","text":"<p>Please follow DTS backup guide.</p>"},{"location":"variants/supermicro_x11_lga1151_series/initial-deployment/#installing-dasharo-with-dts","title":"Installing Dasharo with DTS","text":"<p>TBD</p>"},{"location":"variants/supermicro_x11_lga1151_series/initial-deployment/#building-ipxe-floppy-image","title":"Building iPXE floppy image","text":"<p>To create a floppy disk image for Supermicro BMC Virtual Media, you will need a Linux OS with docker installed. Then follow steps below:</p> <ol> <li> <p>Compile iPXE (a sample revision has been taken from top of master branch on    25.01.2023, iPXE unfortunately stopped tagging the code in December 2020).    Following set of commands will embed Dasharo iPXE menu script, enable HTTPS    and EFI image support and provide custom build ID command to ensure build    reproducibility:</p> <ul> <li>Clone iPXE repository:</li> </ul> <pre><code>git clone https://github.com/ipxe/ipxe.git\n</code></pre> <pre><code>cd ipxe\n</code></pre> <pre><code>git checkout 4bffe0f0d9d0e1496ae5cfb7579e813277c29b0f\n</code></pre> <p>NOTE: As mentioned above this is sample revision since iPXE code is   not tagged.</p> <ul> <li>Get Dasharo menu for network booting.</li> </ul> <pre><code>wget https://raw.githubusercontent.com/Dasharo/dasharo-blobs/46cc16f6d8f0ed9d057fdd20f15bb89ce5b8d212/dasharo/dasharo.ipxe\n</code></pre> <ul> <li>Modify iPXE build configuration through <code>general.h</code></li> </ul> <pre><code>sed \"s|//#define\\s*IMAGE_SCRIPT.*|#define IMAGE_SCRIPT|\" src/config/general.h &gt; src/config/general.h.tmp\nmv src/config/general.h.tmp src/config/general.h\nsed \"s|.*DOWNLOAD_PROTO_HTTPS|#define DOWNLOAD_PROTO_HTTPS|g\" src/config/general.h &gt; src/config/general.h.tmp\nmv src/config/general.h.tmp src/config/general.h\nsed \"s|.*IMAGE_EFI|#define IMAGE_EFI|g\" src/config/general.h &gt; src/config/general.h.tmp\nmv src/config/general.h.tmp src/config/general.h\n</code></pre> <ul> <li>Use coreboot-sdk container to build iPXE binry:</li> </ul> <pre><code>docker run --rm -it -v $PWD:/home/coreboot/ipxe -w /home/coreboot/ipxe \\\ncoreboot/coreboot-sdk:2022-12-18_3b32af950d /bin/bash\n</code></pre> <ul> <li>Inside container: make sure you use correct cross-toolchain:</li> </ul> <pre><code>export CROSS_COMPILE=\"x86_64-elf-\"\n</code></pre> <ul> <li>Inside container: start compailation:</li> </ul> <pre><code>make -C src bin-x86_64-efi-sb/ipxe.efi EMBED=$PWD/dasharo.ipxe BUILD_ID_CMD=\"echo 0x1234567890\" \\\nEXTRA_CFLAGS=\"-Wno-address-of-packed-member  -m64  -fuse-ld=bfd \\\n    -Wl,--build-id=none -fno-delete-null-pointer-checks -Wlogical-op -march=nocona \\\n    -malign-data=abi -mcmodel=large -mno-red-zone -fno-pic\"\n</code></pre> </li> <li> <p>Exit docker container with <code>exit</code> command.</p> </li> <li> <p>Create image file:</p> <pre><code>dd if=/dev/zero of=ipxe.img count=1 bs=1440K\n</code></pre> </li> <li> <p>Make FAT filesystem on the image file:</p> <pre><code>sudo mkfs.fat --mbr=y ipxe.img\n</code></pre> </li> <li> <p>Mount the image file:</p> <pre><code>sudo mount ipxe.img /mnt\n</code></pre> </li> <li> <p>Copy the iPXE to the mounted image file:</p> <pre><code>sudo mkdir -p /mnt/EFI/BOOT/ &amp;&amp; \\\nsudo cp src/bin-x86_64-efi-sb/ipxe.efi /mnt/EFI/BOOT/BOOTX64.EFI\n</code></pre> </li> <li> <p>Unmount the image file:</p> <pre><code>sudo umount /mnt\n</code></pre> </li> </ol> <p>The resulting <code>ipxe.img</code> file is now ready to be attached as Virtual Media on Supermicro BMC.</p>"},{"location":"variants/supermicro_x11_lga1151_series/overview/","title":"Overview","text":"<p>Supermicro X11 LGA1151 Series are mainboards dedicated for servers and workstations. Most notable examples of this hardware are X11SSH-TF and X11SSH-F. Ideal motherboard for NAS servers, with a PCIE x16 slot to potentially accommodate a graphics card.</p> <p>To learn more about our motivation for the coreboot port and Dasharo compatible with Supermicro X11 LGA1151 Series please check references section. If you want to build, initially deploy, update or recover your setup please check documentation sections on the left.</p>"},{"location":"variants/supermicro_x11_lga1151_series/overview/#status","title":"Status","text":"<p>Dasharo compatible with Supermicro X11 LGA1151 Series is a community-driven effort. We work on this in our free time, since we have no sponsor for this project. To address the issue we organize virtual hackathon on Dasharo Matrix whenever we can. At this point two communinty members are engaged (collector-ynh with X11SSH-F and pietrushnic with X11SSH-TF, we also have X11SSH-TF in 3mdeb lab). Feel free to contact us if you wan to talk about project status.</p> <p>Please note that Dasharo compatilbe with Supermicro X11 LGA1151 Series may work with various boards from this family, at this stage only X11SSH-F and X11SSH-TF can be treated as tested. This state can change when we will enter more mature state with transparent validation results published in Releases section and hardware configuration matrix used for testing. We may also consider CPU, DRAM and GPU HCL sections in documentation.</p> <p>If you are interested in this project, please consider joining the community-dirven effort or supporting us in other way.</p> <p>The most advanced code is on development branch. This code supports only <code>Dasharo (coreboot+UEFI)</code>. Work in progress documentation can be found here.</p> <p>NOTE: We decided to follow divide and conquer strategy, every piece of contribution which was verified and reviewed will be merged even if that is just small part of bigger documentation . Otherwise we will never move forward.</p>"},{"location":"variants/supermicro_x11_lga1151_series/overview/#references","title":"References","text":"<ul> <li>Mullvad: Open-source firmware is the future</li> <li>Green TekSolutions: The first motherboard for servers to use CoreBoot - X11SSH-TF</li> <li>coreboot: X11 LGA1151 Series documentation</li> <li>coreboot: Supermicro X11SSH-F/X11SSH-LN4F documentation</li> </ul>"},{"location":"variants/supermicro_x11_lga1151_series/recovery/","title":"Recovery","text":"<p>Please read the overview page first!</p>"},{"location":"variants/supermicro_x11_lga1151_series/recovery/#bios-update-through-bmc","title":"BIOS Update through BMC","text":"<p>Following instruction was tested on:</p> <ul> <li>X11SSH-TF v1.01</li> </ul> <p>For information how to identify your mainboard model pelase check faq.</p> <p>Following documentation describes the process of recovering hardware from brick state with through BMC BIOS Update feature. This feature can be used also for initial deployment and Firmware Update.</p>"},{"location":"variants/supermicro_x11_lga1151_series/recovery/#requirements","title":"Requirements","text":""},{"location":"variants/supermicro_x11_lga1151_series/recovery/#license-activation","title":"License activation","text":"<p>Without active license you can't use BIOS Update feature. License key can be generated using kasuganosoras scripts and entered through BMC web interface (<code>Miscellaneous-&gt;Activate License</code>).</p>"},{"location":"variants/supermicro_x11_lga1151_series/recovery/#up-to-date-firmware","title":"Up to date firmware","text":"<p>Please make sure you using firmware revision 01.60  </p> <p>If not please follow <code>IPMI Firmware Update_NEW.pdf</code> instruction from package that you can download here.</p> <p>Unfortunately most efficient way to interact with proprietary BMC is to use Supermicro proprietary closed source tools:</p> <ul> <li>Supermicro Update   Manager    please download and unpack archive.</li> <li>Backup or   Supermicro BIOS   update    please download and unpack archive.</li> </ul>"},{"location":"variants/supermicro_x11_lga1151_series/releases/","title":"Dasharo compatible with Supermicro X11 LGA1151 Series","text":"<p>Please read the overview page first!</p>"},{"location":"variants/supermicro_x11_lga1151_series/test-matrix/","title":"Test matrix - MSI Z690-A WIFI DDR4","text":"<p>Please read the overview page first!</p>"},{"location":"variants/supermicro_x11_lga1151_series/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p>"},{"location":"variants/talos_2/building-manual/","title":"Building manual","text":""},{"location":"variants/talos_2/building-manual/#building-coreboot","title":"Building coreboot","text":"<p>To build coreboot image, follow the steps below:</p> <ol> <li> <p>Clone the coreboot repository:</p> <pre><code>git clone --depth=1 https://github.com/Dasharo/coreboot.git -b raptor-cs_talos-2/rel_v0.7.0\n</code></pre> </li> <li> <p>Get the submodules:</p> <pre><code>cd coreboot\ngit submodule update --init --recursive --checkout\n</code></pre> </li> <li> <p>Start docker container:</p> <pre><code>docker run --rm -it \\\n-v $PWD:/home/coreboot/coreboot \\\n-w /home/coreboot/coreboot \\\n-u \"$(id -u):$(id -g)\" \\\ncoreboot/coreboot-sdk:0ad5fbd48d /bin/bash\n</code></pre> </li> <li> <p>Inside of the container, configure and start the build process:</p> <pre><code>(docker)cp configs/config.raptor-cs-talos-2 .config\n(docker)make olddefconfig\n(docker)make\n</code></pre> </li> </ol>"},{"location":"variants/talos_2/building-manual/#building-heads","title":"Building heads","text":"<ol> <li> <p>Clone the heads repository:</p> <pre><code>git clone --depth=1 https://github.com/Dasharo/heads.git -b raptor-cs_talos-2/release\n</code></pre> </li> <li> <p>Start docker container:</p> <pre><code>cd heads\ndocker run --rm -it -v $PWD:$PWD -w $PWD -u \"$(id -u):$(id -g)\" 3mdeb/heads-docker:2.4.0 /bin/bash\n</code></pre> </li> <li> <p>Build:</p> <pre><code>make BOARD=talos-2\n</code></pre> </li> </ol>"},{"location":"variants/talos_2/conferences/","title":"Conference materials","text":""},{"location":"variants/talos_2/conferences/#openpower-summit-2021","title":"OpenPOWER Summit, 2021","text":"<p>coreboot on POWER9 - Piotr Kr\u00f3l</p>"},{"location":"variants/talos_2/conferences/#openpower-summit-2020","title":"OpenPOWER Summit, 2020","text":"<p>POWER9 Support in coreboot - Micha\u0142 \u017bygowski</p>"},{"location":"variants/talos_2/conferences/#fosdem-2021","title":"Fosdem, 2021","text":"<p>Status of OpenPOWER support in coreboot - Micha\u0142 \u017bygowski</p>"},{"location":"variants/talos_2/conferences/#open-source-firmware-conference-2020","title":"Open Source Firmware Conference, 2020","text":"<p>POWER9 support in coreboot - Micha\u0142 \u017bygowski</p>"},{"location":"variants/talos_2/firmware-update/","title":"Firmware update","text":"<p>The following documentation describes the process of Dasharo open-source firmware update.</p> <ol> <li> <p>Copy the binaries to the BMC:</p> <pre><code>scp build/bootblock.signed.ecc root@&lt;BMC_IP&gt;:/tmp/bootblock.signed.ecc\nscp build/coreboot.rom.signed.ecc root@&lt;BMC_IP&gt;:/tmp/coreboot.rom.signed.ecc\n</code></pre> </li> <li> <p>Flash the binaries by replacing the HBB partition (execute from BMC):</p> <pre><code>pflash -e -P HBB -p /tmp/bootblock.signed.ecc\npflash -e -P HBI -p /tmp/coreboot.rom.signed.ecc\n</code></pre> </li> <li> <p>Log into the BMC GUI at <code>https://&lt;BMC_IP&gt;</code>.</p> </li> <li> <p>Enter the <code>Server power operations</code>    (<code>https://&lt;BMC_IP&gt;/#/server-control/power-operations</code>) and invoke   <code>warm reboot</code>.</p> </li> <li> <p>Go to <code>Serial over LAN remote console</code> (<code>https://&lt;BMC_IP&gt;/#/server-control/remote-console</code>).</p> </li> <li> <p>Enjoy the updated firmware running on Talos II.</p> </li> </ol>"},{"location":"variants/talos_2/hardware-matrix/","title":"Hardware configuration matrix","text":""},{"location":"variants/talos_2/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configuration used for validation of the coreboot port on the Talos II platform.</p>"},{"location":"variants/talos_2/hardware-matrix/#talos-ii","title":"Talos II","text":"Component Description 1st CPU IBM POWER9 \u201cSforza\u201d 02CY650 CPU Cooler 2nd CPU IBM POWER9 \u201cSforza\u201d 02CY650 CPU Cooler SSD Intel 670p 512 GB M26472-201 NVME RAM Crucial CT8G4RF88266 Flash memory Micron MT25QL512ABB8ESF-0SIT Network Local network wired connection Attached devices 1. SanDisk USB 3.2Gen1 16 GB 2. Logitech, Inc. Keyboard K120 Ethernet 2x Broadcom BCM5719 Power Supply Corsair TX550M Power Control Sonoff S20 switch Remote Control OpenBMC <p>Note: for single CPU testing the 2nd CPU is dismantled.</p> <p>Following RAM configurations were tested and are proved to be properly initialized.</p> <pre><code>MCS0, MCA0\n   DIMM0: 1Rx4 16GB PC4-2666V-RC2-12-PA0\n   DIMM1: not installed\nMCS0, MCA1\n   DIMM0: 1Rx8 8GB PC4-2666V-RD1-12\n   DIMM1: not installed\nMCS1, MCA0\n   DIMM0: 2Rx4 32GB PC4-2666V-RB2-12-MA0\n   DIMM1: not installed\nMCS1, MCA1\n   DIMM0: 2Rx8 16GB PC4-2666V-RE2-12\n   DIMM1: not installed\n</code></pre> <p>All 3 major DRAM vendors are supported, namely Samsung, Micron and Hynix.</p>"},{"location":"variants/talos_2/initial-deployment/","title":"Initial deployment","text":""},{"location":"variants/talos_2/initial-deployment/#coreboot-installation","title":"coreboot installation","text":"<ol> <li> <p>Copy the binaries to the BMC    (assuming in the coreboot root directory):</p> <pre><code>scp build/bootblock.signed.ecc root@&lt;BMC_IP&gt;:/tmp/bootblock.signed.ecc\nscp build/coreboot.rom.signed.ecc root@&lt;BMC_IP&gt;:/tmp/coreboot.rom.signed.ecc\n</code></pre> <p>If that file is not present, use <code>coreboot.rom</code> instead</p> </li> <li> <p>Backup the HBB partition (for faster later recovery) by invoking this    command on BMC:</p> <pre><code>pflash -P HBB -r /tmp/hbb.bin\npflash -P HBI -r /tmp/hbi.bin\n</code></pre> </li> <li> <p>Flash the binaries by replacing HBB partition (execute from BMC):</p> <pre><code>pflash -e -P HBB -p /tmp/bootblock.signed.ecc\npflash -e -P HBI -p /tmp/coreboot.rom.signed.ecc\n</code></pre> <p>Again, if that file is not present, use <code>coreboot.rom</code> instead</p> <p>Answer yes to the prompt and wait for the process to finish.</p> </li> <li> <p>Log into the BMC GUI again at <code>https://&lt;BMC_IP&gt;</code>.</p> </li> <li> <p>Enter the <code>Server power operations</code>    (<code>https://&lt;BMC_IP&gt;/#/server-control/power-operations</code>) and invoke   <code>warm reboot</code>.</p> </li> <li> <p>Go to <code>Serial over LAN remote console</code> (<code>https://&lt;BMC_IP&gt;/#/server-control/remote-console</code>).</p> </li> <li> <p>Wait for a while until coreboot shows up:</p> <p></p> </li> <li> <p>Enjoy the coreboot running on Talos II.</p> </li> </ol> <p>Optional: In order to recovery the platform quickly to healthy state, flash the HBB partition back with: <code>pflash -e -P HBB -p /tmp/hbb.bin</code> <code>pflash -e -P HBI -p /tmp/hbi.bin</code></p>"},{"location":"variants/talos_2/initial-deployment/#heads-installation","title":"Heads installation","text":"<ol> <li> <p>Copy the Heads binary to the BMC (assuming in the Heads root directory):</p> <pre><code>scp build/zImage.bundled root@&lt;BMC_IP&gt;:/tmp/zImage.bundled\n</code></pre> </li> <li> <p>Log in to the BMC:</p> <pre><code>ssh root@&lt;BMC_IP&gt;\n</code></pre> </li> <li> <p>Flash the <code>BOOTKERNEL</code> partition with Heads:</p> <pre><code>pflash -e -P BOOTKERNEL -p /tmp/zImage.bundled\n</code></pre> <p>Answer yes to the prompt and wait for the process to finish.</p> </li> <li> <p>Log into the BMC GUI at <code>https://&lt;BMC_IP&gt;/</code>.</p> </li> <li> <p>Enter the <code>Server power operations</code>    (<code>https://&lt;BMC_IP&gt;/#/server-control/power-operations</code>) and invoke   <code>warm reboot</code>.</p> </li> <li> <p>Go to <code>Serial over LAN remote console</code> (<code>https://&lt;BMC_IP&gt;/#/server-control/remote-console</code>).</p> </li> <li> <p>Wait for a while until Heads shows up:</p> <p></p> </li> <li> <p>Enjoy the Heads running on Talos II.</p> </li> </ol>"},{"location":"variants/talos_2/initial-deployment/#testing-firmware-images-without-flashing","title":"Testing firmware images without flashing","text":"<p>BMC firmware v2.00+ allows testing new firmware images without flashing the physical flash device. This makes testing and switching between two versions (e.g. Hostboot and coreboot) much faster and safer. There are two ways of doing so, here's a more convenient one that uses <code>mboxctl</code>:</p> <ol> <li> <p>Read original flash:</p> <p>For earlier versions of coreboot port it is required to read from system that booted at least once, since some of the partitions are modified on the first boot. this is no longer necessary since v0.5.0.</p> <pre><code>root@talos:~# pflash -r /tmp/talos.pnor\n</code></pre> <p>This file may also be copied out of BMC to a secure place and serve as a backup of whole flash contents.</p> <p>Keep in mind that tmpfs size is limited and exceeding that limit may result in unresponsive BMC, which in most severe cases requires hard power cycle.</p> </li> <li> <p>\"Flashing\" modified partition(s):</p> <p>This is similar to flashing real device with two changes: no need to erase the flash and target file must be specified. New command looks like this:</p> <pre><code>root@talos:~# pflash -f -P &lt;partition&gt; -p &lt;partition&gt;.bin -F /tmp/talos.pnor\n</code></pre> <p>Since the real flash device is not used, backup can be skipped. The rest is like above:</p> <pre><code># bootblock\npflash -f -P HBB -p /tmp/bootblock.signed.ecc -F /tmp/talos.pnor\n# coreboot\npflash -f -P HBI -p /tmp/coreboot.rom.signed.ecc -F /tmp/talos.pnor\n\n# Heads\npflash -f -P BOOTKERNEL -p /tmp/zImage.bundled -F /tmp/talos.pnor\n</code></pre> </li> <li> <p>Mount the file as flash device:</p> <pre><code>root@talos:~# mboxctl --backend file:/tmp/talos.pnor\n</code></pre> <p>Sometimes this command fails with timeout, in that case repeat it until it succeeds. Optionally, success can be tested with:</p> <pre><code>root@talos:~# mboxctl --lpc-state\nLPC Bus Maps: BMC Memory\n</code></pre> <p><code>BMC Memory</code> tells that emulated flash is used instead of real one. Host doesn't see any difference (except maybe different access times and erase block size), it still reads and writes PNOR the same way as with physical device.</p> </li> <li> <p>Start the platform as described in previous sections and test it.</p> </li> <li> <p>To get back to using real PNOR:</p> <pre><code>root@talos:~# mboxctl --backend vpnor\nFailed to post message: Connection timed out\nroot@talos:~# mboxctl --lpc-state\nLPC Bus Maps: Flash Device\n</code></pre> <p>Even though that command reports failure, it maps LPC back to flash device. This can be tested with <code>mboxctl --lpc-state</code>.</p> </li> <li> <p>(Optional) Flash tested image to permanent storage:</p> <pre><code>root@talos:~# pflash -E -p /tmp/talos.pnor\n</code></pre> </li> </ol> <p>The other method is described on Raptor's wiki and requires starting <code>mboxd</code> manually (still needs BMC firmware v2.00+). It's worth to take a look there because sometimes <code>mboxd</code> stops working (<code>mboxctl</code> errors every time) and that page shows how it can be started.</p>"},{"location":"variants/talos_2/overview/","title":"Overview","text":"<ul> <li>Releases - groups information about all releases.</li> <li>Building manual - describes how to build Dasharo for     Talos II.</li> <li>Initial deployment - describes initial Dasharo     deployment methods (i. e. flashing new firmware) for Talos II.</li> <li>Firmware update - explains supported Dasharo     open-source firmware update methods.</li> <li>Recovery - gathers information on how to recover the platform     from potential failure.</li> <li>Hardware configuration matrix - describes the platform's     hardware configuration used during the Dasharo firmware validation     procedure.</li> <li>Test matrix - describes validation scope used during     Dasharo firmware validation procedure.</li> <li>Conferences - includes information from various conferences     about POWER architecture support in coreboot.</li> <li>TPM connections and support - describes the methods of     connecting dedicated TPM module to the board and how to validate it.</li> </ul>"},{"location":"variants/talos_2/overview/#useful-documents","title":"Useful documents","text":"<ul> <li>Board manual</li> </ul>"},{"location":"variants/talos_2/recovery/","title":"Recovery","text":""},{"location":"variants/talos_2/recovery/#prequisitions","title":"Prequisitions","text":"<p>To proceed with the recovery procedure the backup with the vendor firmware will be necessary eg. <code>talos.pnor</code>.</p> <p>The backup file should be generated before making any changes in the device flash chip according to documentation in the first step in Testing firmware images without flashing section.</p>"},{"location":"variants/talos_2/recovery/#flashing-using-bmc","title":"Flashing using BMC","text":"<p>Flash firmware by executing the following commands on BMC:</p> <pre><code>pflash -E -p /tmp/talos.pnor\n</code></pre> <ol> <li> <p>Log into the BMC GUI at <code>https://&lt;BMC_IP&gt;</code>.</p> </li> <li> <p>Enter the <code>Server power operations</code>    (<code>https://&lt;BMC_IP&gt;/#/server-control/power-operations</code>) and invoke   <code>warm reboot</code>.</p> </li> <li> <p>After rebooting the vendor firmware will be restored.</p> </li> </ol>"},{"location":"variants/talos_2/recovery/#restore-petitboot","title":"Restore Petitboot","text":"<p>If you want to use Petitboot, and you have already installed system Heads, follow this procedure:</p> <ol> <li> <p>Download the newest <code>PNOR</code> package from     raptor wiki.</p> </li> <li> <p>Unzip downloaded file and find the <code>talos.pnor</code> file.</p> </li> <li> <p>Copy the file to the BMC:</p> </li> </ol> <pre><code>scp talos.pnor root@&lt;BMC_IP&gt;:/tmp/talos.pnor\n</code></pre> <ol> <li>Modify partitions by executing the following commands on BMC     (this is not necessary):</li> </ol> <pre><code>pflash -P HBB -p /tmp/bootblock.signed.ecc -F /tmp/talos.pnor\npflash -P HBI -p /tmp/coreboot.rom.signed.ecc -F /tmp/talos.pnor\n</code></pre> <ol> <li>Flash firmware:</li> </ol> <pre><code>pflash -E -p /tmp/talos.pnor\n</code></pre> <ol> <li> <p>Log into the BMC GUI at <code>https://&lt;BMC_IP&gt;</code>.</p> </li> <li> <p>Enter the <code>Server power operations</code>    (<code>https://&lt;BMC_IP&gt;/#/server-control/power-operations</code>) and invoke   <code>warm reboot</code>.</p> </li> <li> <p>Enjoy the Petitboot running on Talos II.</p> </li> </ol>"},{"location":"variants/talos_2/releases/","title":"Release notes","text":"<p>Following Release Notes describe status of Open Source Firmware development for Raptor Computing Systems Talos II</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> <p>Subscribe to Release Newsletter</p> <p></p> <p>Test results for this platform can be found here.</p>"},{"location":"variants/talos_2/releases/#v070-2023-07-26","title":"v0.7.0 - 2023-07-26","text":""},{"location":"variants/talos_2/releases/#fixed","title":"Fixed","text":"<ul> <li>CPU appears to be stuck on initial frequency</li> <li>No flashrom support</li> <li>0.6 Release - Cannot boot if no TPM</li> <li>OS-level access to CBMEM</li> <li>TPM discovery and usage stability</li> <li>Dual CPU setup - Second fan at full speed</li> </ul>"},{"location":"variants/talos_2/releases/#known-issues","title":"Known issues","text":"<ul> <li>Missing parts of Device Tree describing specific unit (VPD, serial numbers)</li> <li>No DIMM temperatures reported</li> </ul>"},{"location":"variants/talos_2/releases/#binaries","title":"Binaries","text":"<p>raptor-cs_talos-2_bootblock_v0.7.0.signed.ecc sha256 sha256.sig</p> <p>raptor-cs_talos-2_coreboot_v0.7.0.rom.signed.ecc sha256 sha256.sig</p> <p>raptor-cs_talos-2_zImage_v0.7.0.bundled sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/talos_2/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 4ed0a830b14d6e1841eae0dd3c2e6539a8dcf0a8 revision fc47236e</li> <li>skiboot based on 9858186353f2203fe477f316964e03609d12fd1d revision 1b14dd0b</li> <li>heads based on edf200e7913c62975a424cfb9dbd579747d0665c revision edf200e7913c62975a424cfb9dbd579747d0665c</li> </ul>"},{"location":"variants/talos_2/releases/#v060-2022-08-26","title":"v0.6.0 - 2022-08-26","text":""},{"location":"variants/talos_2/releases/#added","title":"Added","text":"<ul> <li>Optional support for Infineon I2C TPM1 chips</li> <li>Initial support for measured boot</li> </ul>"},{"location":"variants/talos_2/releases/#fixed_1","title":"Fixed","text":"<ul> <li>Heads console output only on BMC console, not VGA</li> <li>Startup on a single CPU configuration</li> <li>Startup on a single CPU configuration and support for older CPUs     (without WOF tables and with different frequencies)</li> <li>CBMEM can no longer be accessed from OS</li> </ul>"},{"location":"variants/talos_2/releases/#known-issues_1","title":"Known issues","text":"<ul> <li>Missing parts of Device Tree describing specific unit (VPD, serial numbers)</li> <li>CPU appears to be stuck on initial frequency</li> </ul>"},{"location":"variants/talos_2/releases/#binaries_1","title":"Binaries","text":"<p>raptor-cs_talos-2_zImage_v0.6.0.bundled sha256 sha256.sig</p> <p>raptor-cs_talos-2_coreboot_v0.6.0.rom.signed.ecc sha256 sha256.sig</p> <p>raptor-cs_talos-2_bootblock_v0.6.0.signed.ecc sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/talos_2/releases/#sbom-software-bill-of-materials_1","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 5621a1e revision 2207bbcc</li> <li>skiboot based on 7f90b9cd revision fa060c2c</li> <li>heads based on fdbd9b2 revision 66f0fce0870b729d</li> </ul>"},{"location":"variants/talos_2/releases/#v050-2022-04-12","title":"v0.5.0 - 2022-04-12","text":""},{"location":"variants/talos_2/releases/#changed","title":"Changed","text":"<ul> <li>Add FSI initialization and functions for accessing devices behind FSI bus</li> <li>Cache MVPD between stages</li> <li>Initialize and train XBus links</li> <li>Change SCOM API to be able to access second CPU</li> <li>Initialize PCIe, MCS, OCC and TOD for second CPU</li> <li>Switch to ELF payload, clean up Device Tree generation</li> <li>Various boot time optimizations</li> </ul>"},{"location":"variants/talos_2/releases/#fixed_2","title":"Fixed","text":"<ul> <li>Only one CPU is started</li> <li>SPDs are not exposed in sysfs automatically</li> </ul>"},{"location":"variants/talos_2/releases/#known-issues_2","title":"Known issues","text":"<ul> <li>Missing parts of Device Tree describing specific unit (VPD, serial numbers)</li> <li>CBMEM can no longer be accessed from OS</li> </ul>"},{"location":"variants/talos_2/releases/#binaries_2","title":"Binaries","text":"<p>raptor-cs_talos-2_bootblock_v0.5.0.signed.ecc sha256 sha256.sig</p> <p>raptor-cs_talos-2_coreboot_v0.5.0.rom.signed.ecc sha256 sha256.sig</p> <p>Heads was not modified in this release, its binary from previous releases can be used.</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/talos_2/releases/#sbom-software-bill-of-materials_2","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 5621a1e revision c92383f9</li> <li>skiboot based on 04-16-2019 revision 98581863</li> </ul>"},{"location":"variants/talos_2/releases/#v041-2022-01-10","title":"v0.4.1 - 2022-01-10","text":""},{"location":"variants/talos_2/releases/#changed_1","title":"Changed","text":"<ul> <li>Simplify memlayout</li> <li>Replace PPC_SHIFT with PPC_PLACE macro</li> <li>Change SPR numbers definitions to decimal</li> <li>Print signing output to terminal</li> </ul>"},{"location":"variants/talos_2/releases/#fixed_3","title":"Fixed","text":"<ul> <li>Watchdog timing out</li> <li>Sporadic signing failure due to the tools not being built</li> <li>Building with cross compiler other than powerpc64-linux-gnu-</li> </ul>"},{"location":"variants/talos_2/releases/#known-issues_3","title":"Known issues","text":"<ul> <li>Only one CPU is started</li> <li>SPDs are not exposed in sysfs automatically</li> <li>Missing parts of Device Tree describing specific unit (VPD, serial numbers)</li> </ul>"},{"location":"variants/talos_2/releases/#binaries_3","title":"Binaries","text":"<p>dasharo_talos_2_bootblock_v0.4.1.signed.ecc sha256 sha256.sig</p> <p>dasharo_talos_2_coreboot_v0.4.1.rom.signed.ecc sha256 sha256.sig</p> <p>dasharo_talos_2_zImage_v0.4.1.bundled sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/talos_2/releases/#sbom-software-bill-of-materials_3","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 5621a1e revision 13b58058</li> <li>skiboot based on 04-16-2019 revision 98581863</li> <li>heads based on 21e50681 revision 34c77951</li> </ul>"},{"location":"variants/talos_2/releases/#v040-2021-10-29","title":"v0.4.0 - 2021-10-29","text":""},{"location":"variants/talos_2/releases/#added_1","title":"Added","text":"<ul> <li>OCC support</li> <li>XIVE support</li> <li>PCIe initialization</li> <li>IPMI block transfer interface</li> <li>Non-constant nodes in Device Tree are generated programmatically</li> </ul>"},{"location":"variants/talos_2/releases/#known-issues_4","title":"Known issues","text":"<ul> <li>Only one CPU is started</li> <li>SPDs are not exposed in sysfs automatically</li> <li>Missing parts of Device Tree describing specific unit (VPD, serial numbers)</li> <li>Watchdog times out</li> </ul>"},{"location":"variants/talos_2/releases/#binaries_4","title":"Binaries","text":"<p>dasharo_talos_2_bootblock_v0.4.0.signed.ecc sha256 sha256.sig</p> <p>dasharo_talos_2_coreboot.rom.signed.ecc sha256 sha256.sig</p> <p>zImage_v0.4.0.bundled sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/talos_2/releases/#sbom-software-bill-of-materials_4","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 5621a1e revision b535763b</li> <li>skiboot based on 04-16-2019 revision 98581863</li> <li>heads based on 21e50681 revision 34c77951</li> </ul>"},{"location":"variants/talos_2/test-matrix/","title":"Test matrix","text":""},{"location":"variants/talos_2/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p>"},{"location":"variants/talos_2/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. coreboot base port CBP CBP001.001, CBP002.001, CBP004.001 2. Heads bootloader support HDS HDS001.001, HDS001.002 3. Device Tree DVT DVT001.001, DVT002.001"},{"location":"variants/talos_2/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM TPM001.001 and TPM002.001"},{"location":"variants/talos_2/test-matrix/#module-dasharo-performance","title":"Module: Dasharo performance","text":"No. Supported test suite Test suite ID Supported test cases 1. CPU frequency measure CPF CPF001.003"},{"location":"variants/talos_2/tpm-support/","title":"TPM connections and support","text":"<p>The following documentation contains most important information about TPM 1.2 module dedicated to the Talos II mainboard.</p>"},{"location":"variants/talos_2/tpm-support/#connecting-tpm-to-the-talos-mainboard","title":"Connecting TPM to the Talos mainboard","text":"<p>To properly connect TPM to the Talos II mainboard reproduce the following steps:</p> <ol> <li>Turn off the platform by using <code>OpenBMC</code>.</li> <li>Disconnect mainboard from the mains.</li> <li>Based on the     documentation     find TPM connector on the mainboard.</li> <li> <p>Mount TPM module as shown in the graphics below:</p> <p> </p> </li> <li> <p>Connect mainboard to the mains.</p> </li> </ol> <p>Additional information, i. e. TPM header pinout, might be found in the mainboard documentation.</p>"},{"location":"variants/talos_2/tpm-support/#tpm-module-testing","title":"TPM module testing","text":"<ol> <li>Turn on the platform and log into it by using <code>obmc-console-client</code> or <code>KVM</code>.</li> <li>Boot into Heads.</li> <li>Select the <code>Exit to recovery shell</code> option using the arrow keys and Enter.</li> <li> <p>Execute the following command:</p> <pre><code>cbmem -L\n</code></pre> </li> </ol> <p>Output of the above-described command should contains information about TPM logs.</p> <p>Example output:</p> <pre><code>TPM2 log:\nSpecification: 2.00\nPlatform class: PC Client\nNo vendor information provided\nTPM2 log entry 1:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA1: f78a530fb5a70afcffdc86a98529abd24a90bac9\n    Event data: FMAP: FMAP\nTPM2 log entry 2:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA1: 369155e6eab3b0a874140e591a4c0e992268b4b9\n    Event data: FMAP: BOOTBLOCK\nTPM2 log entry 3:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA1: 5e785c080264aa6e169f70c80ac40b556066292b\n    Event data: FMAP: COREBOOT CBFS: fallback/romstage\nTPM2 log entry 4:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA1: ba2a5af955811fbac58a5198545539596eb38c3e\n    Event data: FMAP: COREBOOT CBFS: fallback/ramstage\nTPM2 log entry 5:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA1: ba35d4ce29d7b633b5644e2a3206c6069cf7f24d\n    Event data: FMAP: COREBOOT CBFS: fallback/payload\nTPM2 log entry 6:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA1: 47b49026133377e05193f8440c9a7cad239e883c\n    Event data: FMAP: COREBOOT CBFS: 1-cpu.dtb\nTPM2 log entry 7:\n    PCR: 3\nEvent type: Action\n    Digests:\n         SHA256: 6e7b06693452d997ac534e823b1ea79e5bb8ed19ba8a7af878abf10199c3d515\n         SHA1: 6e7b06693452d997ac534e823b1ea79e5bb8ed19\n    Event data: VERSION\nTPM2 log entry 8:\n    PCR: 2\nEvent type: Action\n    Digests:\n         SHA256: de73053377e1ae5ba5d2b637a4f5bfaeb410137722f11ef135e7a1be524e3092\n         SHA1: de73053377e1ae5ba5d2b637a4f5bfaeb4101377\n    Event data: IMA_CATALOG\nTPM2 log entry 9:\n    PCR: 4\nEvent type: Action\n    Digests:\n         SHA256: cd32830f83a4f74b75d7feac6c03bd3ad8d553f54a8cac4b4b5a4b175ccbce3e\n         SHA1: cd32830f83a4f74b75d7feac6c03bd3ad8d553f5\n    Event data: BOOTKERNEL\n</code></pre>"},{"location":"variants/talos_2/tpm-support/#additional-information","title":"Additional information","text":"<p>The Module is available at the official 3mdeb store.</p> <p>You can also buy the product by mailing us at: shopping@3mdeb.com.</p>"},{"location":"variants/tuxedo_ibs15/building/","title":"Dasharo for Tuxedo IBS15 Gen6 - Building manual","text":""},{"location":"variants/tuxedo_ibs15/building/#intro","title":"Intro","text":"<p>This documents describes the procedure for compiling coreboot for Tuxedo IBS15.</p>"},{"location":"variants/tuxedo_ibs15/building/#requirements","title":"Requirements","text":"<ul> <li>Docker<ul> <li>follow Install Docker Engine on Ubuntu</li> <li>follow Post-installation steps for Linux</li> </ul> </li> <li>Git</li> </ul>"},{"location":"variants/tuxedo_ibs15/building/#procedure","title":"Procedure","text":"<p>The easiest way to build coreboot is to use the official Docker image.</p> <p>Obtain the image:</p> <pre><code>docker pull coreboot/coreboot-sdk:0ad5fbd48d\n</code></pre> <p>Obtain coreboot source code for Tuxedo IBS15:</p> <pre><code>git clone https://github.com/Dasharo/coreboot.git\n</code></pre> <p>Navigate to the source code directory and checkout to the desired revision:</p> <p>Replace the REVISION with one of the: - <code>tuxedo_ibs15/release</code> for the latest released version - <code>tuxedo_ibs15/vVERSION</code> (e.g. <code>v1.0.0</code>) for the given release</p> <pre><code>cd coreboot\ngit checkout REVISION\ngit submodule update --init --recursive --checkout\n</code></pre> <pre><code>./build.sh build\n</code></pre> <p>The resulting coreboot image will be placed in <code>artifacts/dasharo_tuxedo_ibs15_VERSION.rom</code>.</p> <p>Warning: Do not run <code>./build.sh</code> as root. This command uses docker and should be executed as your current user. If you're having trouble running <code>build.sh</code> on your user account, follow the <code>Docker</code> instructions outlined in Requirements.</p>"},{"location":"variants/tuxedo_ibs15/hardware-matrix/","title":"Hardware configuration matrix - Tuxedo IBS15","text":""},{"location":"variants/tuxedo_ibs15/hardware-matrix/#introduction","title":"Introduction","text":"<p>This document describes the hardware configurations used for validation of the coreboot port on the Tuxedo IBS15 laptop.</p>"},{"location":"variants/tuxedo_ibs15/hardware-matrix/#ibs15-1","title":"IBS15 #1","text":"Component Description CPU Intel(R) Core(TM) i5-1135G7 Internal Cooling RAM Slot 1: KVR29S21S6/8 Slot 2: KVR29S21S6/4 SSD 1. Samsung 980 PRO NVMe 250 GB 2. Samsung 860 EVO SATA M.2 250 GB Flash memory GigaDevice 25B127DSIG 16 MB Network Local network wired connection Internal devices 1. 1920x1080 15 inch screen 2. Internal keyboard with LED backlight 3. Touchpad 4. Fingerprint scanner 5. Camera 6. Audio subsystem 7. Intel Wi-Fi 6 AX201 wireless card Attached devices 1. SanDisk Ultra USB 3.0 64 GB 2. SanDisk Ultra Flair USB 3.0 16 GB 3. Kingston DataTraveler 3.1Gen1 16 GB 4. SanDisk Ultra microSD HC I 16 GB + SD Adapter 5. DELL KB216 USB Keyboard 6. 4-port USB Type-C Hub Pro 7. HDMI 1920x1080p Display 8. Sony MDR-EX15AP headset Power Supply Chicony 65 W Power Control N/A Remote Testing Environment OpenSSH_8.2p1 OpenSSL 1.1.1f"},{"location":"variants/tuxedo_ibs15/hardware-matrix/#ibs15-2","title":"IBS15 #2","text":"Component Description CPU Intel(R) Core(TM) i5-11300H Internal Cooling RAM Slot 1: KVR29S21S6/8 Slot 2: KVR29S21S6/4 SSD Toshiba KXG50NV256G NVMe 256GB Flash memory GigaDevice 25B127DSIG 16 MB Network Local network wired connection Internal devices 1. 1920x1080 14 inch screen 2. Internal keyboard with LED backlight 3. Touchpad 4. Fingerprint scanner 5. Camera 6. Audio subsystem 7. Intel Wi-Fi 6 AX201 wireless card Attached devices 1. SanDisk Ultra USB 3.0 64 GB 2. SanDisk Ultra Flair USB 3.0 16 GB 3. Kingston DataTraveler 3.1Gen1 16 GB 4. SanDisk Ultra microSD HC I 16 GB + SD Adapter 5. DELL KB216 USB Keyboard 6. 4-port USB Type-C Hub Pro 7. HDMI 1920x1080p Display 8. Sony MDR-EX15AP headset Power Supply Chicony 65 W Power Control N/A Remote Testing Environment OpenSSH_8.2p1 OpenSSL 1.1.1f"},{"location":"variants/tuxedo_ibs15/installation/","title":"Dasharo for Tuxedo IBS15 Gen6 - Installation manual","text":""},{"location":"variants/tuxedo_ibs15/installation/#intro","title":"Intro","text":"<p>Flashing coreboot can be done from Linux using flashrom with the internal programmer. This document describes the process of building, installing and running flashrom on Ubuntu 20.04.</p>"},{"location":"variants/tuxedo_ibs15/installation/#build-flashrom","title":"Build flashrom","text":"<p>Please follow generic guide for Dasharo flashrom fork.</p>"},{"location":"variants/tuxedo_ibs15/installation/#reading-flash-contents","title":"Reading flash contents","text":"<p>To read from the flash and save them to a file (<code>dump.rom</code>), execute the following command:</p> <pre><code>flashrom -p internal -r dump.rom\n</code></pre>"},{"location":"variants/tuxedo_ibs15/installation/#installing-dasharo","title":"Installing Dasharo","text":""},{"location":"variants/tuxedo_ibs15/installation/#initial-installation","title":"Initial Installation","text":"<p>During the initial installation of Dasharo, you will need the supported Intel ME version (and configuration) to be present in the Dasharo firmware image. If you already have a Dasharo compatible ME firmware installed, then proceed with Updating Dasharo instructions.</p> <p>Publicly released binaries do not contain ME binary. If you need a Dasharo compatible Intel ME update for your device, contact us via already established commercial support channel.</p> <p>When flashing binaries with ME binary included, flashing of the whole chip is required. Follow the steps below:</p> <ul> <li>Power off the laptop</li> <li>While holding the Fn+M keys, power on the laptop - This unlocks the ME and   allows for it to be overwritten. The fans will spin at 100% speed at this   point</li> <li>Execute the following command, replacing [path] with the path to the full   firmware image (containing ME firmware and flash descriptor) you want to   flash:</li> </ul> <pre><code>flashrom -p internal -w [full_image]\n</code></pre> <ul> <li>Reboot the laptop</li> <li>The laptop will boot into Dasharo. After Dasharo has booted, it is safe to   shut down the laptop to silence the fans</li> </ul> <p>Note: if you shut down the laptop instead of rebooting, it may be necessary to hold Fn+M for it to boot the first time after flashing.</p>"},{"location":"variants/tuxedo_ibs15/installation/#updating-dasharo","title":"Updating Dasharo","text":"<p>If Dasharo is currently installed, only the BIOS region of the flash needs to be updated. Flash it using the following command:</p> <pre><code>flashrom -p internal -w [path] --ifd -i bios\n</code></pre>"},{"location":"variants/tuxedo_ibs15/post_install/","title":"Post-installation setup","text":"<p>This document contains extra steps to perform after installing Dasharo in order to enable full functionality.</p>"},{"location":"variants/tuxedo_ibs15/post_install/#touchpad-hotkey-enablement-linux","title":"Touchpad hotkey enablement (Linux)","text":"<p>The touchpad hotkey needs extra setup to function correctly under Linux. To enable the touchpad hotkey to work under Linux, follow the steps below:</p> <ol> <li>Create a file <code>/etc/udev/hwdb.d/60-keyboard.hwdb</code> with the following contents:</li> </ol> <pre><code>evdev:atkbd:dmi:bvn*:bvr*:svnNotebook:pnNS50MU:*\n        KEYBOARD_KEY_f7=191\nKEYBOARD_KEY_f8=191\n</code></pre> <ol> <li>Execute the following commands:</li> </ol> <pre><code>sudo systemd-hwdb update\nsudo udevadm trigger\n</code></pre> <p>After executing these steps, it should be possible to enable and disable the touchpad using the touchpad hotkey (Fn+F1) on the keyboard when using GNOME.</p>"},{"location":"variants/tuxedo_ibs15/releases/","title":"Tuxedo IBS15 Dasharo Release Notes","text":"<p>Following Release Notes describe status of Open Source Firmware development for Tuxedo IBS15</p> <p>For details about our release process please read Dasharo Standard Release Process.</p> <p> <p>Subscribe to Tuxedo IBS15 Dasharo Release Newsletter</p> <p></p> <p>Test results for this platform can be found here.</p>"},{"location":"variants/tuxedo_ibs15/releases/#v100-2022-03-15","title":"v1.0.0 - 2022-03-15","text":""},{"location":"variants/tuxedo_ibs15/releases/#added","title":"Added","text":"<ul> <li>Support for Tuxedo InfinityBook S 15 Gen6</li> <li>Support for EC firmware 1.07.02</li> <li>Support for Intel ME version 15.0.30.1776</li> <li>UEFI Boot Support</li> <li>Configurable boot order</li> <li>Configurable boot options</li> <li>UEFI Secure Boot support</li> <li>Tuxedo boot logo</li> </ul>"},{"location":"variants/tuxedo_ibs15/releases/#known-issues","title":"Known issues","text":"<ul> <li>The touchpad ON/OFF switch Fn key is not functional</li> </ul>"},{"location":"variants/tuxedo_ibs15/releases/#binaries","title":"Binaries","text":"<p>tuxedo_ibs15_v1.0.0.rom sha256 sha256.sig</p> <p>To verify binary integrity with hash and signature please follow the instructions in Dasharo release signature verification using this key</p>"},{"location":"variants/tuxedo_ibs15/releases/#sbom-software-bill-of-materials","title":"SBOM (Software Bill of Materials)","text":"<ul> <li>coreboot based on 4.16 revision cf13d6c7</li> <li>tianocore based on 9522071f7497a1a0b1077d2b0d5fcc97a126cfd0 revision 7f90b9cd</li> </ul>"},{"location":"variants/tuxedo_ibs15/test-matrix/","title":"Test matrix - Tuxedo - Tuxedo IBS15","text":""},{"location":"variants/tuxedo_ibs15/test-matrix/#about","title":"About","text":"<p>The test matrix is used to determine the scope of tests which the DUT is subjected from before the release of the new binary.</p>"},{"location":"variants/tuxedo_ibs15/test-matrix/#module-dasharo-compatibility","title":"Module: Dasharo compatibility","text":"No. Supported test suite Test suite ID Supported test cases 1. Memory HCL HCL All 2. UEFI compatible interface EFI All 3. Display ports and LCD support DSP DSP001.001, DSP001.002, DSP001.003, DSP002.001, DSP002.002, DSP002.003 4. Embedded Controller and Super I/O initialization ECR Without ECR021.xxx - ECR024.xxx 5. NVMe support NVM All 6. Custom logo CLG All 7. Custom boot menu key CBK All 8. USB HID and MSC Support USB All 9. Debian Stable and Ubuntu LTS support LBT LBT003.001, LBT003.002, LBT004.001, LBT004.002 10. UEFI Shell USH All 11. Windows booting WBT WBT001.001 12. Audio subsystem AUD All 13. USB-C support UTC All 14. Network boot PXE PXE007.001 15. M.2 WiFi/Bluetooth WLE All 16. SD card support SDC All 17. USB Camera verification CAM All 19. Fan speed measure FAN FAN001.001 20. SMBIOS DMI DMI002.001, DMI003.001, DMI005.001, DMI006.001, DMI007.001, DMI008.001"},{"location":"variants/tuxedo_ibs15/test-matrix/#module-dasharo-security","title":"Module: Dasharo security","text":"No. Supported test suite Test suite ID Supported test cases 1. TPM Support TPM Without TPM001.001 and TPM002.001 2. Verified Boot support VBO VBO006.002, VBO007.002, 3. Measured Boot support MBO All 4. Secure Boot support SBO Without SBO006.001, SBO007.001 and SBO008.001"}]}